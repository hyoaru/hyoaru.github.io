import{$ as $d4ee10de306f2510$export$4282f70798064fe0,A as $64fa3d84918910a7$export$4d86445c2cf5e3,At as resolveEnabled,B as $03deb23ff14920c4$export$4eaf04e54aa8eed6,Bt as __commonJSMin,C as $507fabe10e71c6fb$export$8397ddfc504fdb9a,Ct as pendingThenable,D as $18f2051aff69b9bf$export$43bb16f9c6d9e3f7,Dt as isValidTimeout,E as $fca6afa0e843324b$export$f12b703ca79dfbb1,Et as isServer,F as $b4b717babfbb907b$export$4c063cf1350e6fed,Ft as timeoutManager,G as $c87311424ea30a05$export$9ac100e40613ea10,H as $ea8dcbcb9ea1b556$export$95185d699e05d4d7,Ht as __require,I as $b4b717babfbb907b$export$bebd5a1431fec25d,It as Subscribable,J as $c87311424ea30a05$export$fedb369cb70207f1,K as $c87311424ea30a05$export$a11b0059900ceec8,L as $e7801be82b4b2a53$export$4debdb1a3f0fa79e,Lt as require_compiler_runtime,M as $64fa3d84918910a7$export$c62b8e45d58ddad9,Mt as shallowEqualObjects,N as $64fa3d84918910a7$export$ef03459518577ad4,Nt as shouldThrowError,O as $64fa3d84918910a7$export$2881499e37b75b9a,Ot as noop$1,P as $64fa3d84918910a7$export$fabf2dc03a41866e,Pt as timeUntilStale,Q as $3ef42575df84b30b$export$9d1611c77c2fe928,R as $8ae05eaa5c114e9c$export$7f54fc3180508a52,Rt as require_react_dom,S as $507fabe10e71c6fb$export$630ff653c5ada6a9,St as notifyManager,T as $ae1eeba8b9eafd08$export$5165eccb35aaadb5,Tt as hashKey,U as $ea8dcbcb9ea1b556$export$9a302a45f65d0572,Ut as __toESM,V as $ea8dcbcb9ea1b556$export$7e924b3091a3bd18,Vt as __export,W as $c87311424ea30a05$export$6446a186d09e379e,X as $65484d02dcb7eb3e$export$457c3d6518dd4c6f,Y as $7215afc6de606d6b$export$de79e2c695e052f3,Z as $5dc95899b306f630$export$c9058316764c140e,_ as $6179b936705e76d3$export$ae780daf29e6d456,_t as batch,a as CloseButton,at as $ff5963eb1fccf552$export$e08e3b67e392101e,b as $f645667febf57a63$export$f9762fab77588ecb,bt as getDefaultState,c as $514c0188e459b4c0$export$5f1af8db9871e1d6,ct as $b5e257d569688ac6$export$535bd6ca7f90a273,d as $01b77f81d0f07f68$export$75b6ee27786ba447,dt as tv,et as $d4ee10de306f2510$export$cd4e5573fbe2b576,f as $01b77f81d0f07f68$export$b04be29aa201d4f5,ft as z,g as $f7dceffc5ad7768b$export$4e328f61c538687f,gt as Store,h as $96b38030c423d352$export$9fc1347d4195ccb3,ht as Derived,i as Button,it as $431fbd86ca7dc216$export$f21a1ffae260145a,j as $64fa3d84918910a7$export$9d4c57ee4c6ffdd8,jt as resolveStaleTime,k as $64fa3d84918910a7$export$29f1550f4b0d4415,kt as replaceData,l as $514c0188e459b4c0$export$9afb8bc826b033ea,lt as $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c,m as $f39a9eba43920ace$export$8dc98ba7eadeaa56,mt as require_shim,n as toast,nt as $f4e2df6bd15f8569$export$98658e8c59125e6a,o as composeSlotClassName,ot as $bdb11010cef70236$export$b4cc09c592e8fdb8,p as $f39a9eba43920ace$export$86427a43e3e48ebb,pt as useStore,q as $c87311424ea30a05$export$e1865c3bedcd822b,r as Spinner,rt as $431fbd86ca7dc216$export$b204af158042fbac,s as composeTwRenderProps,st as $bdb11010cef70236$export$f680877a34711e37,tt as $d4ee10de306f2510$export$e58f029f0fbfdb29,u as $d2b4bc8c273e7be6$export$24d547caef80ccd1,ut as cn,v as $9ab94262bd0047c7$export$420e68273165f4ec,vt as useQueryClient,w as $f6c31cce2adf654f$export$45712eceda6fad21,wt as focusManager,x as $3ad3f6e1647bc98d$export$80f3e147d781571c,xt as fetchState,y as $f645667febf57a63$export$4c014de7c8940b4c,yt as require_jsx_runtime,z as $df56164dff5785e2$export$4338b53315abf666,zt as require_react}from"./index-BykZt4sl.js";import{t as ActivityCalendar}from"./index-CqFS6gMj-Dh0lZWsq.js";var QueryObserver=class extends Subscribable{constructor(client,options){super(),this.options=options,this.#e=client,this.#s=null,this.#o=pendingThenable(),this.bindMethods(),this.setOptions(options)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#c;#l;#u;#d;#f;#p;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),shouldFetchOnMount(this.#t,this.options)?this.#h():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(options){let prevOptions=this.options,prevQuery=this.#t;if(this.options=this.#e.defaultQueryOptions(options),this.options.enabled!==void 0&&typeof this.options.enabled!=`boolean`&&typeof this.options.enabled!=`function`&&typeof resolveEnabled(this.options.enabled,this.#t)!=`boolean`)throw Error(`Expected enabled to be a boolean or a callback that returns a boolean`);this.#S(),this.#t.setOptions(this.options),prevOptions._defaulted&&!shallowEqualObjects(this.options,prevOptions)&&this.#e.getQueryCache().notify({type:`observerOptionsUpdated`,query:this.#t,observer:this});let mounted=this.hasListeners();mounted&&shouldFetchOptionally(this.#t,prevQuery,this.options,prevOptions)&&this.#h(),this.updateResult(),mounted&&(this.#t!==prevQuery||resolveEnabled(this.options.enabled,this.#t)!==resolveEnabled(prevOptions.enabled,this.#t)||resolveStaleTime(this.options.staleTime,this.#t)!==resolveStaleTime(prevOptions.staleTime,this.#t))&&this.#g();let nextRefetchInterval=this.#_();mounted&&(this.#t!==prevQuery||resolveEnabled(this.options.enabled,this.#t)!==resolveEnabled(prevOptions.enabled,this.#t)||nextRefetchInterval!==this.#p)&&this.#v(nextRefetchInterval)}getOptimisticResult(options){let query=this.#e.getQueryCache().build(this.#e,options),result=this.createResult(query,options);return shouldAssignObserverCurrentProperties(this,result)&&(this.#r=result,this.#a=this.options,this.#i=this.#t.state),result}getCurrentResult(){return this.#r}trackResult(result,onPropTracked){return new Proxy(result,{get:(target,key)=>(this.trackProp(key),onPropTracked?.(key),key===`promise`&&(this.trackProp(`data`),!this.options.experimental_prefetchInRender&&this.#o.status===`pending`&&this.#o.reject(Error(`experimental_prefetchInRender feature flag is not enabled`))),Reflect.get(target,key))})}trackProp(key){this.#m.add(key)}getCurrentQuery(){return this.#t}refetch({...options}={}){return this.fetch({...options})}fetchOptimistic(options){let defaultedOptions=this.#e.defaultQueryOptions(options),query=this.#e.getQueryCache().build(this.#e,defaultedOptions);return query.fetch().then(()=>this.createResult(query,defaultedOptions))}fetch(fetchOptions){return this.#h({...fetchOptions,cancelRefetch:fetchOptions.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(fetchOptions){this.#S();let promise=this.#t.fetch(this.options,fetchOptions);return fetchOptions?.throwOnError||(promise=promise.catch(noop$1)),promise}#g(){this.#b();let staleTime=resolveStaleTime(this.options.staleTime,this.#t);if(isServer||this.#r.isStale||!isValidTimeout(staleTime))return;let timeout=timeUntilStale(this.#r.dataUpdatedAt,staleTime)+1;this.#d=timeoutManager.setTimeout(()=>{this.#r.isStale||this.updateResult()},timeout)}#_(){return(typeof this.options.refetchInterval==`function`?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(nextInterval){this.#x(),this.#p=nextInterval,!(isServer||resolveEnabled(this.options.enabled,this.#t)===!1||!isValidTimeout(this.#p)||this.#p===0)&&(this.#f=timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.#h()},this.#p))}#y(){this.#g(),this.#v(this.#_())}#b(){this.#d&&=(timeoutManager.clearTimeout(this.#d),void 0)}#x(){this.#f&&=(timeoutManager.clearInterval(this.#f),void 0)}createResult(query,options){let prevQuery=this.#t,prevOptions=this.options,prevResult=this.#r,prevResultState=this.#i,prevResultOptions=this.#a,queryInitialState=query===prevQuery?this.#n:query.state,{state}=query,newState={...state},isPlaceholderData=!1,data;if(options._optimisticResults){let mounted=this.hasListeners(),fetchOnMount=!mounted&&shouldFetchOnMount(query,options),fetchOptionally=mounted&&shouldFetchOptionally(query,prevQuery,options,prevOptions);(fetchOnMount||fetchOptionally)&&(newState={...newState,...fetchState(state.data,query.options)}),options._optimisticResults===`isRestoring`&&(newState.fetchStatus=`idle`)}let{error,errorUpdatedAt,status}=newState;data=newState.data;let skipSelect=!1;if(options.placeholderData!==void 0&&data===void 0&&status===`pending`){let placeholderData;prevResult?.isPlaceholderData&&options.placeholderData===prevResultOptions?.placeholderData?(placeholderData=prevResult.data,skipSelect=!0):placeholderData=typeof options.placeholderData==`function`?options.placeholderData(this.#u?.state.data,this.#u):options.placeholderData,placeholderData!==void 0&&(status=`success`,data=replaceData(prevResult?.data,placeholderData,options),isPlaceholderData=!0)}if(options.select&&data!==void 0&&!skipSelect)if(prevResult&&data===prevResultState?.data&&options.select===this.#c)data=this.#l;else try{this.#c=options.select,data=options.select(data),data=replaceData(prevResult?.data,data,options),this.#l=data,this.#s=null}catch(selectError){this.#s=selectError}this.#s&&(error=this.#s,data=this.#l,errorUpdatedAt=Date.now(),status=`error`);let isFetching=newState.fetchStatus===`fetching`,isPending=status===`pending`,isError=status===`error`,isLoading=isPending&&isFetching,hasData=data!==void 0,nextResult={status,fetchStatus:newState.fetchStatus,isPending,isSuccess:status===`success`,isError,isInitialLoading:isLoading,isLoading,data,dataUpdatedAt:newState.dataUpdatedAt,error,errorUpdatedAt,failureCount:newState.fetchFailureCount,failureReason:newState.fetchFailureReason,errorUpdateCount:newState.errorUpdateCount,isFetched:newState.dataUpdateCount>0||newState.errorUpdateCount>0,isFetchedAfterMount:newState.dataUpdateCount>queryInitialState.dataUpdateCount||newState.errorUpdateCount>queryInitialState.errorUpdateCount,isFetching,isRefetching:isFetching&&!isPending,isLoadingError:isError&&!hasData,isPaused:newState.fetchStatus===`paused`,isPlaceholderData,isRefetchError:isError&&hasData,isStale:isStale(query,options),refetch:this.refetch,promise:this.#o,isEnabled:resolveEnabled(options.enabled,query)!==!1};if(this.options.experimental_prefetchInRender){let hasResultData=nextResult.data!==void 0,isErrorWithoutData=nextResult.status===`error`&&!hasResultData,finalizeThenableIfPossible=thenable=>{isErrorWithoutData?thenable.reject(nextResult.error):hasResultData&&thenable.resolve(nextResult.data)},recreateThenable=()=>{finalizeThenableIfPossible(this.#o=nextResult.promise=pendingThenable())},prevThenable=this.#o;switch(prevThenable.status){case`pending`:query.queryHash===prevQuery.queryHash&&finalizeThenableIfPossible(prevThenable);break;case`fulfilled`:(isErrorWithoutData||nextResult.data!==prevThenable.value)&&recreateThenable();break;case`rejected`:(!isErrorWithoutData||nextResult.error!==prevThenable.reason)&&recreateThenable();break}}return nextResult}updateResult(){let prevResult=this.#r,nextResult=this.createResult(this.#t,this.options);this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#u=this.#t),!shallowEqualObjects(nextResult,prevResult)&&(this.#r=nextResult,this.#C({listeners:(()=>{if(!prevResult)return!0;let{notifyOnChangeProps}=this.options,notifyOnChangePropsValue=typeof notifyOnChangeProps==`function`?notifyOnChangeProps():notifyOnChangeProps;if(notifyOnChangePropsValue===`all`||!notifyOnChangePropsValue&&!this.#m.size)return!0;let includedProps=new Set(notifyOnChangePropsValue??this.#m);return this.options.throwOnError&&includedProps.add(`error`),Object.keys(this.#r).some(key=>{let typedKey=key;return this.#r[typedKey]!==prevResult[typedKey]&&includedProps.has(typedKey)})})()}))}#S(){let query=this.#e.getQueryCache().build(this.#e,this.options);if(query===this.#t)return;let prevQuery=this.#t;this.#t=query,this.#n=query.state,this.hasListeners()&&(prevQuery?.removeObserver(this),query.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(notifyOptions){notifyManager.batch(()=>{notifyOptions.listeners&&this.listeners.forEach(listener=>{listener(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:`observerResultsUpdated`})})}};function shouldLoadOnMount(query,options){return resolveEnabled(options.enabled,query)!==!1&&query.state.data===void 0&&!(query.state.status===`error`&&options.retryOnMount===!1)}function shouldFetchOnMount(query,options){return shouldLoadOnMount(query,options)||query.state.data!==void 0&&shouldFetchOn(query,options,options.refetchOnMount)}function shouldFetchOn(query,options,field){if(resolveEnabled(options.enabled,query)!==!1&&resolveStaleTime(options.staleTime,query)!==`static`){let value=typeof field==`function`?field(query):field;return value===`always`||value!==!1&&isStale(query,options)}return!1}function shouldFetchOptionally(query,prevQuery,options,prevOptions){return(query!==prevQuery||resolveEnabled(prevOptions.enabled,query)===!1)&&(!options.suspense||query.state.status!==`error`)&&isStale(query,options)}function isStale(query,options){return resolveEnabled(options.enabled,query)!==!1&&query.isStaleByTime(resolveStaleTime(options.staleTime,query))}function shouldAssignObserverCurrentProperties(observer,optimisticResult){return!shallowEqualObjects(observer.getCurrentResult(),optimisticResult)}var MutationObserver$1=class extends Subscribable{#e;#t=void 0;#n;#r;constructor(client,options){super(),this.#e=client,this.setOptions(options),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(options){let prevOptions=this.options;this.options=this.#e.defaultMutationOptions(options),shallowEqualObjects(this.options,prevOptions)||this.#e.getMutationCache().notify({type:`observerOptionsUpdated`,mutation:this.#n,observer:this}),prevOptions?.mutationKey&&this.options.mutationKey&&hashKey(prevOptions.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():this.#n?.state.status===`pending`&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(action){this.#i(),this.#a(action)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(variables,options){return this.#r=options,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(variables)}#i(){let state=this.#n?.state??getDefaultState();this.#t={...state,isPending:state.status===`pending`,isSuccess:state.status===`success`,isError:state.status===`error`,isIdle:state.status===`idle`,mutate:this.mutate,reset:this.reset}}#a(action){notifyManager.batch(()=>{if(this.#r&&this.hasListeners()){let variables=this.#t.variables,onMutateResult=this.#t.context,context={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(action?.type===`success`){try{this.#r.onSuccess?.(action.data,variables,onMutateResult,context)}catch(e$1){Promise.reject(e$1)}try{this.#r.onSettled?.(action.data,null,variables,onMutateResult,context)}catch(e$1){Promise.reject(e$1)}}else if(action?.type===`error`){try{this.#r.onError?.(action.error,variables,onMutateResult,context)}catch(e$1){Promise.reject(e$1)}try{this.#r.onSettled?.(void 0,action.error,variables,onMutateResult,context)}catch(e$1){Promise.reject(e$1)}}}this.listeners.forEach(listener=>{listener(this.#t)})})}},import_react=__toESM(require_react(),1),IsRestoringContext=import_react.createContext(!1),useIsRestoring=()=>import_react.useContext(IsRestoringContext),IsRestoringProvider=IsRestoringContext.Provider,import_jsx_runtime=require_jsx_runtime();function createValue(){let isReset=!1;return{clearReset:()=>{isReset=!1},reset:()=>{isReset=!0},isReset:()=>isReset}}var QueryErrorResetBoundaryContext=import_react.createContext(createValue()),useQueryErrorResetBoundary=()=>import_react.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(options,errorResetBoundary,query)=>{let throwOnError=query?.state.error&&typeof options.throwOnError==`function`?shouldThrowError(options.throwOnError,[query.state.error,query]):options.throwOnError;(options.suspense||options.experimental_prefetchInRender||throwOnError)&&(errorResetBoundary.isReset()||(options.retryOnMount=!1))},useClearResetErrorBoundary=errorResetBoundary=>{import_react.useEffect(()=>{errorResetBoundary.clearReset()},[errorResetBoundary])},getHasError=({result,errorResetBoundary,throwOnError,query,suspense})=>result.isError&&!errorResetBoundary.isReset()&&!result.isFetching&&query&&(suspense&&result.data===void 0||shouldThrowError(throwOnError,[result.error,query])),defaultThrowOnError=(_error,query)=>query.state.data===void 0,ensureSuspenseTimers=defaultedOptions=>{if(defaultedOptions.suspense){let MIN_SUSPENSE_TIME_MS=1e3,clamp=value=>value===`static`?value:Math.max(value??MIN_SUSPENSE_TIME_MS,MIN_SUSPENSE_TIME_MS),originalStaleTime=defaultedOptions.staleTime;defaultedOptions.staleTime=typeof originalStaleTime==`function`?(...args)=>clamp(originalStaleTime(...args)):clamp(originalStaleTime),typeof defaultedOptions.gcTime==`number`&&(defaultedOptions.gcTime=Math.max(defaultedOptions.gcTime,MIN_SUSPENSE_TIME_MS))}},willFetch=(result,isRestoring)=>result.isLoading&&result.isFetching&&!isRestoring,shouldSuspend=(defaultedOptions,result)=>defaultedOptions?.suspense&&result.isPending,fetchOptimistic=(defaultedOptions,observer,errorResetBoundary)=>observer.fetchOptimistic(defaultedOptions).catch(()=>{errorResetBoundary.clearReset()});function useBaseQuery(options,Observer,queryClient){let isRestoring=useIsRestoring(),errorResetBoundary=useQueryErrorResetBoundary(),client=useQueryClient(queryClient),defaultedOptions=client.defaultQueryOptions(options);client.getDefaultOptions().queries?._experimental_beforeQuery?.(defaultedOptions);let query=client.getQueryCache().get(defaultedOptions.queryHash);defaultedOptions._optimisticResults=isRestoring?`isRestoring`:`optimistic`,ensureSuspenseTimers(defaultedOptions),ensurePreventErrorBoundaryRetry(defaultedOptions,errorResetBoundary,query),useClearResetErrorBoundary(errorResetBoundary);let isNewCacheEntry=!client.getQueryCache().get(defaultedOptions.queryHash),[observer]=import_react.useState(()=>new Observer(client,defaultedOptions)),result=observer.getOptimisticResult(defaultedOptions),shouldSubscribe=!isRestoring&&options.subscribed!==!1;if(import_react.useSyncExternalStore(import_react.useCallback(onStoreChange=>{let unsubscribe=shouldSubscribe?observer.subscribe(notifyManager.batchCalls(onStoreChange)):noop$1;return observer.updateResult(),unsubscribe},[observer,shouldSubscribe]),()=>observer.getCurrentResult(),()=>observer.getCurrentResult()),import_react.useEffect(()=>{observer.setOptions(defaultedOptions)},[defaultedOptions,observer]),shouldSuspend(defaultedOptions,result))throw fetchOptimistic(defaultedOptions,observer,errorResetBoundary);if(getHasError({result,errorResetBoundary,throwOnError:defaultedOptions.throwOnError,query,suspense:defaultedOptions.suspense}))throw result.error;return client.getDefaultOptions().queries?._experimental_afterQuery?.(defaultedOptions,result),defaultedOptions.experimental_prefetchInRender&&!isServer&&willFetch(result,isRestoring)&&(isNewCacheEntry?fetchOptimistic(defaultedOptions,observer,errorResetBoundary):query?.promise)?.catch(noop$1).finally(()=>{observer.updateResult()}),defaultedOptions.notifyOnChangeProps?result:observer.trackResult(result)}function useSuspenseQuery(options,queryClient){return useBaseQuery({...options,enabled:!0,suspense:!0,throwOnError:defaultThrowOnError,placeholderData:void 0},QueryObserver,queryClient)}function queryOptions(options){return options}function useMutation(options,queryClient){let client=useQueryClient(queryClient),[observer]=import_react.useState(()=>new MutationObserver$1(client,options));import_react.useEffect(()=>{observer.setOptions(options)},[observer,options]);let result=import_react.useSyncExternalStore(import_react.useCallback(onStoreChange=>observer.subscribe(notifyManager.batchCalls(onStoreChange)),[observer]),()=>observer.getCurrentResult(),()=>observer.getCurrentResult()),mutate=import_react.useCallback((variables,mutateOptions)=>{observer.mutate(variables,mutateOptions).catch(noop$1)},[observer]);if(result.error&&shouldThrowError(observer.options.throwOnError,[result.error]))throw result.error;return{...result,mutate,mutateAsync:result.mutate}}function mutationOptions(options){return options}var chipVariants=tv({defaultVariants:{color:`default`,variant:`secondary`},slots:{base:`chip`,label:`chip__label`},variants:{color:{accent:{base:`chip--accent`},danger:{base:`chip--danger`},default:{base:`chip--default`},success:{base:`chip--success`},warning:{base:`chip--warning`}},size:{lg:{base:`chip--lg`},md:{base:`chip--md`},sm:{base:`chip--sm`}},variant:{primary:{base:`chip--primary`},secondary:{base:`chip--secondary`},soft:{base:`chip--soft`},tertiary:{base:`chip--tertiary`}}}}),fieldErrorVariants=tv({base:`field-error`}),inputVariants=tv({base:`input`,defaultVariants:{fullWidth:!1,variant:`primary`},variants:{fullWidth:{false:``,true:`input--full-width`},variant:{primary:`input--primary`,secondary:`input--secondary`}}}),labelVariants=tv({base:`label`,defaultVariants:{isDisabled:!1,isInvalid:!1,isRequired:!1},variants:{isDisabled:{true:`label--disabled`},isInvalid:{true:`label--invalid`},isRequired:{true:`label--required`}}}),modalVariants=tv({defaultVariants:{scroll:`inside`,size:`md`,variant:`opaque`},slots:{backdrop:`modal__backdrop`,body:`modal__body`,closeTrigger:`modal__close-trigger`,container:`modal__container`,dialog:`modal__dialog`,footer:`modal__footer`,header:`modal__header`,heading:`modal__heading`,icon:`modal__icon`,trigger:`modal__trigger`},variants:{scroll:{inside:{body:`modal__body--scroll-inside`,dialog:`modal__dialog--scroll-inside`},outside:{body:`modal__body--scroll-outside`,container:`modal__container--scroll-outside`,dialog:`modal__dialog--scroll-outside`}},size:{cover:{dialog:`modal__dialog--cover`},full:{container:`modal__container--full`,dialog:`modal__dialog--full`},lg:{dialog:`modal__dialog--lg`},md:{dialog:`modal__dialog--md`},sm:{dialog:`modal__dialog--sm`},xs:{dialog:`modal__dialog--xs`}},variant:{blur:{backdrop:`modal__backdrop--blur`},opaque:{backdrop:`modal__backdrop--opaque`},transparent:{backdrop:`modal__backdrop--transparent`}}}}),scrollShadowVariants=tv({defaultVariants:{hideScrollBar:!1,orientation:`vertical`,variant:`fade`},slots:{base:`scroll-shadow`},variants:{hideScrollBar:{false:{},true:{base:`scroll-shadow--hide-scrollbar`}},orientation:{horizontal:{base:`scroll-shadow--horizontal`},vertical:{base:`scroll-shadow--vertical`}},variant:{fade:{base:`scroll-shadow--fade`}}}}),skeletonVariants=tv({defaultVariants:{animationType:`shimmer`},slots:{base:`skeleton`},variants:{animationType:{none:`skeleton--none`,pulse:`skeleton--pulse`,shimmer:`skeleton--shimmer`}}}),tabsVariants=tv({defaultVariants:{variant:`primary`},slots:{base:`tabs`,tab:`tabs__tab`,tabIndicator:`tabs__indicator`,tabList:`tabs__list`,tabListContainer:`tabs__list-container`,tabPanel:`tabs__panel`},variants:{variant:{primary:{},secondary:{base:`tabs--secondary`}}}}),textFieldVariants=tv({base:`text-field`,defaultVariants:{fullWidth:!1},variants:{fullWidth:{false:``,true:`text-field--full-width`}}}),textAreaVariants=tv({base:`textarea`,defaultVariants:{fullWidth:!1,variant:`primary`},variants:{fullWidth:{false:``,true:`textarea--full-width`},variant:{primary:`textarea--primary`,secondary:`textarea--secondary`}}}),$4e85f108e88277b8$export$b085522c77523c51=(0,import_react.createContext)(null),$4e85f108e88277b8$export$ebe63fadcdce34ed=(0,import_react.createContext)(null),$4e85f108e88277b8$export$44644b8a16031b5b=(0,import_react.createContext)(null),$4e85f108e88277b8$export$717b2c0a523a0b53=(0,import_react.createContext)(null),$4e85f108e88277b8$export$265015d6dc85bf21=(0,import_react.createContext)(null),$4e85f108e88277b8$export$d688439359537581=(0,import_react.createContext)({}),$4e85f108e88277b8$export$b0d3ecf7112093a7=(0,import_react.createContext)(null),$4e85f108e88277b8$export$698f465ec27e93df=(0,import_react.createContext)(null),$dfc540311bf7f109$export$63eb3ababa9c55c4=class{get currentNode(){return this._currentNode}set currentNode(node){if(!$d4ee10de306f2510$export$4282f70798064fe0(this.root,node))throw Error(`Cannot set currentNode to a node that is not contained by the root node.`);let walkers=[],curNode=node,currentWalkerCurrentNode=node;for(this._currentNode=node;curNode&&curNode!==this.root;)if(curNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let shadowRoot=curNode,walker$1=this._doc.createTreeWalker(shadowRoot,this.whatToShow,{acceptNode:this._acceptNode});walkers.push(walker$1),walker$1.currentNode=currentWalkerCurrentNode,this._currentSetFor.add(walker$1),curNode=currentWalkerCurrentNode=shadowRoot.host}else curNode=curNode.parentNode;let walker=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});walkers.push(walker),walker.currentNode=currentWalkerCurrentNode,this._currentSetFor.add(walker),this._walkerStack=walkers}get doc(){return this._doc}firstChild(){let currentNode=this.currentNode,newNode=this.nextNode();return $d4ee10de306f2510$export$4282f70798064fe0(currentNode,newNode)?(newNode&&(this.currentNode=newNode),newNode):(this.currentNode=currentNode,null)}lastChild(){let newNode=this._walkerStack[0].lastChild();return newNode&&(this.currentNode=newNode),newNode}nextNode(){let nextNode=this._walkerStack[0].nextNode();if(nextNode){if(nextNode.shadowRoot){var _this_filter;let nodeResult;if(typeof this.filter==`function`?nodeResult=this.filter(nextNode):this.filter?.acceptNode&&(nodeResult=this.filter.acceptNode(nextNode)),nodeResult===NodeFilter.FILTER_ACCEPT)return this.currentNode=nextNode,nextNode;let newNode=this.nextNode();return newNode&&(this.currentNode=newNode),newNode}return nextNode&&(this.currentNode=nextNode),nextNode}else if(this._walkerStack.length>1){this._walkerStack.shift();let newNode=this.nextNode();return newNode&&(this.currentNode=newNode),newNode}else return null}previousNode(){let currentWalker=this._walkerStack[0];if(currentWalker.currentNode===currentWalker.root){if(this._currentSetFor.has(currentWalker))if(this._currentSetFor.delete(currentWalker),this._walkerStack.length>1){this._walkerStack.shift();let newNode=this.previousNode();return newNode&&(this.currentNode=newNode),newNode}else return null;return null}let previousNode=currentWalker.previousNode();if(previousNode){if(previousNode.shadowRoot){var _this_filter;let nodeResult;if(typeof this.filter==`function`?nodeResult=this.filter(previousNode):this.filter?.acceptNode&&(nodeResult=this.filter.acceptNode(previousNode)),nodeResult===NodeFilter.FILTER_ACCEPT)return previousNode&&(this.currentNode=previousNode),previousNode;let newNode=this.lastChild();return newNode&&(this.currentNode=newNode),newNode}return previousNode&&(this.currentNode=previousNode),previousNode}else if(this._walkerStack.length>1){this._walkerStack.shift();let newNode=this.previousNode();return newNode&&(this.currentNode=newNode),newNode}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(doc,root,whatToShow,filter){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=node=>{if(node.nodeType===Node.ELEMENT_NODE){let shadowRoot$1=node.shadowRoot;if(shadowRoot$1){let walker=this._doc.createTreeWalker(shadowRoot$1,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(walker),NodeFilter.FILTER_ACCEPT}else{var _this_filter;if(typeof this.filter==`function`)return this.filter(node);if(this.filter?.acceptNode)return this.filter.acceptNode(node);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=doc,this.root=root,this.filter=filter??null,this.whatToShow=whatToShow??NodeFilter.SHOW_ALL,this._currentNode=root,this._walkerStack.unshift(doc.createTreeWalker(root,whatToShow,this._acceptNode));let shadowRoot=root.shadowRoot;if(shadowRoot){let walker=this._doc.createTreeWalker(shadowRoot,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(walker)}}};function $dfc540311bf7f109$export$4d0f8be8b12a7ef6(doc,root,whatToShow,filter){return $f4e2df6bd15f8569$export$98658e8c59125e6a()?new $dfc540311bf7f109$export$63eb3ababa9c55c4(doc,root,whatToShow,filter):doc.createTreeWalker(root,whatToShow,filter)}function $313b98861ee5dd6c$export$d6875122194c7b44(props,defaultLabel){let{id,"aria-label":label,"aria-labelledby":labelledBy}=props;return id=$bdb11010cef70236$export$f680877a34711e37(id),labelledBy&&label?labelledBy=[...new Set([id,...labelledBy.trim().split(/\s+/)])].join(` `):labelledBy&&=labelledBy.trim().split(/\s+/).join(` `),!label&&!labelledBy&&defaultLabel&&(label=defaultLabel),{id,"aria-label":label,"aria-labelledby":labelledBy}}function $ca9b37712f007381$export$72ef708ab07251f1(effect,dependencies){let isInitialMount=(0,import_react.useRef)(!0),lastDeps=(0,import_react.useRef)(null);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>(isInitialMount.current=!0,()=>{isInitialMount.current=!1}),[]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{isInitialMount.current?isInitialMount.current=!1:(!lastDeps.current||dependencies.some((dep,i$1)=>!Object.is(dep,lastDeps[i$1])))&&effect(),lastDeps.current=dependencies},dependencies)}function $9daab02d461809db$var$hasResizeObserver(){return window.ResizeObserver!==void 0}function $9daab02d461809db$export$683480f191c0e3ea(options){let{ref,box,onResize}=options,onResizeEvent=$8ae05eaa5c114e9c$export$7f54fc3180508a52(onResize);(0,import_react.useEffect)(()=>{let element=ref?.current;if(element)if($9daab02d461809db$var$hasResizeObserver()){let resizeObserverInstance=new window.ResizeObserver(entries=>{entries.length&&onResizeEvent()});return resizeObserverInstance.observe(element,{box}),()=>{element&&resizeObserverInstance.unobserve(element)}}else return window.addEventListener(`resize`,onResizeEvent,!1),()=>{window.removeEventListener(`resize`,onResizeEvent,!1)}},[ref,box])}function $cc38e7bd3fc7b213$export$2bb74740c4e19def(node,checkForOverflow){if(!node)return!1;let style=window.getComputedStyle(node),isScrollable=/(auto|scroll)/.test(style.overflow+style.overflowX+style.overflowY);return isScrollable&&checkForOverflow&&(isScrollable=node.scrollHeight!==node.clientHeight||node.scrollWidth!==node.clientWidth),isScrollable}function $62d8ded9296f3872$export$cfa2225e87938781(node,checkForOverflow){let scrollableNode=node;for($cc38e7bd3fc7b213$export$2bb74740c4e19def(scrollableNode,checkForOverflow)&&(scrollableNode=scrollableNode.parentElement);scrollableNode&&!$cc38e7bd3fc7b213$export$2bb74740c4e19def(scrollableNode,checkForOverflow);)scrollableNode=scrollableNode.parentElement;return scrollableNode||document.scrollingElement||document.documentElement}function $a40c673dc9f6d9c7$export$94ed1c92c7beeb22(node,checkForOverflow){let scrollParents=[];for(;node&&node!==document.documentElement;)$cc38e7bd3fc7b213$export$2bb74740c4e19def(node,checkForOverflow)&&scrollParents.push(node),node=node.parentElement;return scrollParents}function $21f1aa98acb08317$export$16792effe837dba3(e$1){return $c87311424ea30a05$export$9ac100e40613ea10()?e$1.metaKey:e$1.ctrlKey}var $21f1aa98acb08317$var$nonTextInputTypes=new Set([`checkbox`,`radio`,`range`,`color`,`file`,`image`,`button`,`submit`,`reset`]);function $21f1aa98acb08317$export$c57958e35f31ed73(target){return target instanceof HTMLInputElement&&!$21f1aa98acb08317$var$nonTextInputTypes.has(target.type)||target instanceof HTMLTextAreaElement||target instanceof HTMLElement&&target.isContentEditable}var $5df64b3807dc15ee$var$visualViewport=typeof document<`u`&&window.visualViewport;function $5df64b3807dc15ee$export$d699905dd57c73ca(){let isSSR=$b5e257d569688ac6$export$535bd6ca7f90a273(),[size,setSize]=(0,import_react.useState)(()=>isSSR?{width:0,height:0}:$5df64b3807dc15ee$var$getViewportSize());return(0,import_react.useEffect)(()=>{let onResize=()=>{$5df64b3807dc15ee$var$visualViewport&&$5df64b3807dc15ee$var$visualViewport.scale>1||setSize(size$1=>{let newSize=$5df64b3807dc15ee$var$getViewportSize();return newSize.width===size$1.width&&newSize.height===size$1.height?size$1:newSize})},frame,onBlur=e$1=>{$5df64b3807dc15ee$var$visualViewport&&$5df64b3807dc15ee$var$visualViewport.scale>1||$21f1aa98acb08317$export$c57958e35f31ed73(e$1.target)&&(frame=requestAnimationFrame(()=>{(!document.activeElement||!$21f1aa98acb08317$export$c57958e35f31ed73(document.activeElement))&&setSize(size$1=>{let newSize={width:window.innerWidth,height:window.innerHeight};return newSize.width===size$1.width&&newSize.height===size$1.height?size$1:newSize})}))};return window.addEventListener(`blur`,onBlur,!0),$5df64b3807dc15ee$var$visualViewport?$5df64b3807dc15ee$var$visualViewport.addEventListener(`resize`,onResize):window.addEventListener(`resize`,onResize),()=>{cancelAnimationFrame(frame),window.removeEventListener(`blur`,onBlur,!0),$5df64b3807dc15ee$var$visualViewport?$5df64b3807dc15ee$var$visualViewport.removeEventListener(`resize`,onResize):window.removeEventListener(`resize`,onResize)}},[]),size}function $5df64b3807dc15ee$var$getViewportSize(){return{width:$5df64b3807dc15ee$var$visualViewport?$5df64b3807dc15ee$var$visualViewport.width*$5df64b3807dc15ee$var$visualViewport.scale:window.innerWidth,height:$5df64b3807dc15ee$var$visualViewport?$5df64b3807dc15ee$var$visualViewport.height*$5df64b3807dc15ee$var$visualViewport.scale:window.innerHeight}}var $ef06256079686ba0$var$descriptionId=0,$ef06256079686ba0$var$descriptionNodes=new Map;function $ef06256079686ba0$export$f8aeda7b10753fa1(description){let[id,setId]=(0,import_react.useState)();return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(!description)return;let desc=$ef06256079686ba0$var$descriptionNodes.get(description);if(desc)setId(desc.element.id);else{let id$1=`react-aria-description-${$ef06256079686ba0$var$descriptionId++}`;setId(id$1);let node=document.createElement(`div`);node.id=id$1,node.style.display=`none`,node.textContent=description,document.body.appendChild(node),desc={refCount:0,element:node},$ef06256079686ba0$var$descriptionNodes.set(description,desc)}return desc.refCount++,()=>{desc&&--desc.refCount===0&&(desc.element.remove(),$ef06256079686ba0$var$descriptionNodes.delete(description))}},[description]),{"aria-describedby":description?id:void 0}}function $e9faafb641e167db$export$90fc3a17d93f704c(ref,event,handler,options){let handleEvent=$8ae05eaa5c114e9c$export$7f54fc3180508a52(handler),isDisabled=handler==null;(0,import_react.useEffect)(()=>{if(isDisabled||!ref.current)return;let element=ref.current;return element.addEventListener(event,handleEvent,options),()=>{element.removeEventListener(event,handleEvent,options)}},[ref,event,options,isDisabled])}function $2f04cbc44ee30ce0$export$53a0910f038337bd(scrollView,element){let offsetX=$2f04cbc44ee30ce0$var$relativeOffset(scrollView,element,`left`),offsetY=$2f04cbc44ee30ce0$var$relativeOffset(scrollView,element,`top`),width=element.offsetWidth,height=element.offsetHeight,x$1=scrollView.scrollLeft,y$2=scrollView.scrollTop,{borderTopWidth,borderLeftWidth,scrollPaddingTop,scrollPaddingRight,scrollPaddingBottom,scrollPaddingLeft}=getComputedStyle(scrollView),borderAdjustedX=x$1+parseInt(borderLeftWidth,10),borderAdjustedY=y$2+parseInt(borderTopWidth,10),maxX=borderAdjustedX+scrollView.clientWidth,maxY=borderAdjustedY+scrollView.clientHeight,scrollPaddingTopNumber=parseInt(scrollPaddingTop,10)||0,scrollPaddingBottomNumber=parseInt(scrollPaddingBottom,10)||0,scrollPaddingRightNumber=parseInt(scrollPaddingRight,10)||0,scrollPaddingLeftNumber=parseInt(scrollPaddingLeft,10)||0;offsetX<=x$1+scrollPaddingLeftNumber?x$1=offsetX-parseInt(borderLeftWidth,10)-scrollPaddingLeftNumber:offsetX+width>maxX-scrollPaddingRightNumber&&(x$1+=offsetX+width-maxX+scrollPaddingRightNumber),offsetY<=borderAdjustedY+scrollPaddingTopNumber?y$2=offsetY-parseInt(borderTopWidth,10)-scrollPaddingTopNumber:offsetY+height>maxY-scrollPaddingBottomNumber&&(y$2+=offsetY+height-maxY+scrollPaddingBottomNumber),scrollView.scrollLeft=x$1,scrollView.scrollTop=y$2}function $2f04cbc44ee30ce0$var$relativeOffset(ancestor,child,axis){let prop=axis===`left`?`offsetLeft`:`offsetTop`,sum=0;for(;child.offsetParent&&(sum+=child[prop],child.offsetParent!==ancestor);){if(child.offsetParent.contains(ancestor)){sum-=ancestor[prop];break}child=child.offsetParent}return sum}function $2f04cbc44ee30ce0$export$c826860796309d1b(targetElement,opts){if(targetElement&&document.contains(targetElement)){let root=document.scrollingElement||document.documentElement,isScrollPrevented=window.getComputedStyle(root).overflow===`hidden`;if(isScrollPrevented){let scrollParents=$a40c673dc9f6d9c7$export$94ed1c92c7beeb22(targetElement);isScrollPrevented||scrollParents.push(root);for(let scrollParent of scrollParents)$2f04cbc44ee30ce0$export$53a0910f038337bd(scrollParent,targetElement)}else{var _targetElement_scrollIntoView;let{left:originalLeft,top:originalTop}=targetElement.getBoundingClientRect();targetElement==null||(_targetElement_scrollIntoView=targetElement.scrollIntoView)==null||_targetElement_scrollIntoView.call(targetElement,{block:`nearest`});let{left:newLeft,top:newTop}=targetElement.getBoundingClientRect();if(Math.abs(originalLeft-newLeft)>1||Math.abs(originalTop-newTop)>1){var _opts_containingElement_scrollIntoView,_opts_containingElement,_targetElement_scrollIntoView1;opts==null||(_opts_containingElement=opts.containingElement)==null||(_opts_containingElement_scrollIntoView=_opts_containingElement.scrollIntoView)==null||_opts_containingElement_scrollIntoView.call(_opts_containingElement,{block:`center`,inline:`center`}),(_targetElement_scrollIntoView1=targetElement.scrollIntoView)==null||_targetElement_scrollIntoView1.call(targetElement,{block:`nearest`})}}}}function $99facab73266f662$export$5add1d006293d136(ref,initialValue,onReset){let handleReset=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{onReset&&onReset(initialValue)});(0,import_react.useEffect)(()=>{var _ref_current;let form=ref?.current?.form;return form?.addEventListener(`reset`,handleReset),()=>{form?.removeEventListener(`reset`,handleReset)}},[ref])}function $cdc5a6778b766db2$export$a9d04c5684123369(value){let pieces=import_react.version.split(`.`);return parseInt(pieces[0],10)>=19?value:value?`true`:void 0}var $5671b20cf9b562b2$export$447a38995de2c711=`react-aria-clear-focus`,$5671b20cf9b562b2$export$831c820ad60f9d12=`react-aria-focus`,import_react_dom$4=require_react_dom();function $d3f049242431219c$export$6d3443f2c48bfc20(ref,isReady=!0){let[isEntering,setEntering]=(0,import_react.useState)(!0),isAnimationReady=isEntering&&isReady;return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(isAnimationReady&&ref.current&&`getAnimations`in ref.current)for(let animation of ref.current.getAnimations())animation instanceof CSSTransition&&animation.cancel()},[ref,isAnimationReady]),$d3f049242431219c$var$useAnimation(ref,isAnimationReady,(0,import_react.useCallback)(()=>setEntering(!1),[])),isAnimationReady}function $d3f049242431219c$export$45fda7c47f93fd48(ref,isOpen){let[exitState,setExitState]=(0,import_react.useState)(isOpen?`open`:`closed`);switch(exitState){case`open`:isOpen||setExitState(`exiting`);break;case`closed`:case`exiting`:isOpen&&setExitState(`open`);break}let isExiting=exitState===`exiting`;return $d3f049242431219c$var$useAnimation(ref,isExiting,(0,import_react.useCallback)(()=>{setExitState(state=>state===`exiting`?`closed`:state)},[])),isExiting}function $d3f049242431219c$var$useAnimation(ref,isActive,onEnd){$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(isActive&&ref.current){if(!(`getAnimations`in ref.current)){onEnd();return}let animations=ref.current.getAnimations();if(animations.length===0){onEnd();return}let canceled=!1;return Promise.all(animations.map(a$2=>a$2.finished)).then(()=>{canceled||(0,import_react_dom$4.flushSync)(()=>{onEnd()})}).catch(()=>{}),()=>{canceled=!0}}},[ref,isActive,onEnd])}var $458b0a5536c1a7cf$var$_React_useInsertionEffect,$458b0a5536c1a7cf$var$useEarlyEffect=typeof document<`u`?($458b0a5536c1a7cf$var$_React_useInsertionEffect=import_react.useInsertionEffect)??import_react.useLayoutEffect:()=>{};function $458b0a5536c1a7cf$export$40bfa8c7b0832715(value,defaultValue,onChange){let[stateValue,setStateValue]=(0,import_react.useState)(value||defaultValue),valueRef=(0,import_react.useRef)(stateValue),isControlledRef=(0,import_react.useRef)(value!==void 0),isControlled=value!==void 0;(0,import_react.useEffect)(()=>{isControlledRef.current,isControlledRef.current=isControlled},[isControlled]);let currentValue=isControlled?value:stateValue;$458b0a5536c1a7cf$var$useEarlyEffect(()=>{valueRef.current=currentValue});let[,forceUpdate]=(0,import_react.useReducer)(()=>({}),{});return[currentValue,(0,import_react.useCallback)((value$1,...args)=>{let newValue=typeof value$1==`function`?value$1(valueRef.current):value$1;Object.is(valueRef.current,newValue)||(valueRef.current=newValue,setStateValue(newValue),forceUpdate(),onChange?.(newValue,...args))},[onChange])]}var $dd149f63282afbbf$export$f6211563215e3b37=new WeakMap,$3b117e43dc0ca95d$export$27c701ed9e449e99=import_react.forwardRef(({children,...props},ref)=>{ref=$df56164dff5785e2$export$4338b53315abf666(ref);let{pressProps}=$f6c31cce2adf654f$export$45712eceda6fad21({...props,ref}),{focusableProps}=$f645667febf57a63$export$4c014de7c8940b4c(props,ref),child=import_react.Children.only(children);(0,import_react.useEffect)(()=>{},[ref,props.isDisabled]);let childRef=child.props.ref;return import_react.cloneElement(child,{...$3ef42575df84b30b$export$9d1611c77c2fe928(pressProps,focusableProps,child.props),ref:$5dc95899b306f630$export$c9058316764c140e(childRef,ref)})}),$f1ab8c75478c6f73$export$3351871ee4b288b8=import_react.forwardRef(({children,...props},ref)=>{let isRegistered=(0,import_react.useRef)(!1),prevContext=(0,import_react.useContext)($ae1eeba8b9eafd08$export$5165eccb35aaadb5);ref=$df56164dff5785e2$export$4338b53315abf666(ref||prevContext?.ref);let context=$3ef42575df84b30b$export$9d1611c77c2fe928(prevContext||{},{...props,ref,register(){isRegistered.current=!0,prevContext&&prevContext.register()}});return $e7801be82b4b2a53$export$4debdb1a3f0fa79e(prevContext,ref),(0,import_react.useEffect)(()=>{isRegistered.current||=!0},[]),import_react.createElement($ae1eeba8b9eafd08$export$5165eccb35aaadb5.Provider,{value:context},children)});function $f1ab8c75478c6f73$export$cf75428e0b9ed1ea({children}){let context=(0,import_react.useMemo)(()=>({register:()=>{}}),[]);return import_react.createElement($ae1eeba8b9eafd08$export$5165eccb35aaadb5.Provider,{value:context},children)}function $e0b6e0b68ec7f50f$export$872b660ac5a1ff98(props){let{ref,onInteractOutside,isDisabled,onInteractOutsideStart}=props,stateRef=(0,import_react.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),onPointerDown=$8ae05eaa5c114e9c$export$7f54fc3180508a52(e$1=>{onInteractOutside&&$e0b6e0b68ec7f50f$var$isValidEvent(e$1,ref)&&(onInteractOutsideStart&&onInteractOutsideStart(e$1),stateRef.current.isPointerDown=!0)}),triggerInteractOutside=$8ae05eaa5c114e9c$export$7f54fc3180508a52(e$1=>{onInteractOutside&&onInteractOutside(e$1)});(0,import_react.useEffect)(()=>{let state=stateRef.current;if(isDisabled)return;let element=ref.current,documentObject=$431fbd86ca7dc216$export$b204af158042fbac(element);if(typeof PointerEvent<`u`){let onClick=e$1=>{state.isPointerDown&&$e0b6e0b68ec7f50f$var$isValidEvent(e$1,ref)&&triggerInteractOutside(e$1),state.isPointerDown=!1};return documentObject.addEventListener(`pointerdown`,onPointerDown,!0),documentObject.addEventListener(`click`,onClick,!0),()=>{documentObject.removeEventListener(`pointerdown`,onPointerDown,!0),documentObject.removeEventListener(`click`,onClick,!0)}}},[ref,isDisabled])}function $e0b6e0b68ec7f50f$var$isValidEvent(event,ref){if(event.button>0)return!1;if(event.target){let ownerDocument=event.target.ownerDocument;if(!ownerDocument||!ownerDocument.documentElement.contains(event.target)||event.target.closest(`[data-react-aria-top-layer]`))return!1}return ref.current?!event.composedPath().includes(ref.current):!1}var $8a26561d2877236e$var$DEFAULT_THRESHOLD=500;function $8a26561d2877236e$export$c24ed0104d07eab9(props){let{isDisabled,onLongPressStart,onLongPressEnd,onLongPress,threshold=$8a26561d2877236e$var$DEFAULT_THRESHOLD,accessibilityDescription}=props,timeRef=(0,import_react.useRef)(void 0),{addGlobalListener,removeGlobalListener}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),{pressProps}=$f6c31cce2adf654f$export$45712eceda6fad21({isDisabled,onPressStart(e$1){if(e$1.continuePropagation(),(e$1.pointerType===`mouse`||e$1.pointerType===`touch`)&&(onLongPressStart&&onLongPressStart({...e$1,type:`longpressstart`}),timeRef.current=setTimeout(()=>{e$1.target.dispatchEvent(new PointerEvent(`pointercancel`,{bubbles:!0})),$431fbd86ca7dc216$export$b204af158042fbac(e$1.target).activeElement!==e$1.target&&$7215afc6de606d6b$export$de79e2c695e052f3(e$1.target),onLongPress&&onLongPress({...e$1,type:`longpress`}),timeRef.current=void 0},threshold),e$1.pointerType===`touch`)){let onContextMenu=e$2=>{e$2.preventDefault()};addGlobalListener(e$1.target,`contextmenu`,onContextMenu,{once:!0}),addGlobalListener(window,`pointerup`,()=>{setTimeout(()=>{removeGlobalListener(e$1.target,`contextmenu`,onContextMenu)},30)},{once:!0})}},onPressEnd(e$1){timeRef.current&&clearTimeout(timeRef.current),onLongPressEnd&&(e$1.pointerType===`mouse`||e$1.pointerType===`touch`)&&onLongPressEnd({...e$1,type:`longpressend`})}});return{longPressProps:$3ef42575df84b30b$export$9d1611c77c2fe928(pressProps,$ef06256079686ba0$export$f8aeda7b10753fa1(onLongPress&&!isDisabled?accessibilityDescription:void 0))}}var $9bf71ea28793e738$var$FocusContext=import_react.createContext(null),$9bf71ea28793e738$var$RESTORE_FOCUS_EVENT=`react-aria-focus-scope-restore`,$9bf71ea28793e738$var$activeScope=null;function $9bf71ea28793e738$export$20e40289641fbbb6(props){let{children,contain,restoreFocus,autoFocus}=props,startRef=(0,import_react.useRef)(null),endRef=(0,import_react.useRef)(null),scopeRef=(0,import_react.useRef)([]),{parentNode}=(0,import_react.useContext)($9bf71ea28793e738$var$FocusContext)||{},node=(0,import_react.useMemo)(()=>new $9bf71ea28793e738$var$TreeNode({scopeRef}),[scopeRef]);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let parent=parentNode||$9bf71ea28793e738$export$d06fae2ee68b101e.root;if($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(parent.scopeRef)&&$9bf71ea28793e738$var$activeScope&&!$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,parent.scopeRef)){let activeNode=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);activeNode&&(parent=activeNode)}parent.addChild(node),$9bf71ea28793e738$export$d06fae2ee68b101e.addNode(node)},[node,parentNode]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let node$1=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);node$1&&(node$1.contain=!!contain)},[contain]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{var _startRef_current;let node$1=startRef.current?.nextSibling,nodes=[],stopPropagation=e$1=>e$1.stopPropagation();for(;node$1&&node$1!==endRef.current;)nodes.push(node$1),node$1.addEventListener($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,stopPropagation),node$1=node$1.nextSibling;return scopeRef.current=nodes,()=>{for(let node$2 of nodes)node$2.removeEventListener($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,stopPropagation)}},[children]),$9bf71ea28793e738$var$useActiveScopeTracker(scopeRef,restoreFocus,contain),$9bf71ea28793e738$var$useFocusContainment(scopeRef,contain),$9bf71ea28793e738$var$useRestoreFocus(scopeRef,restoreFocus,contain),$9bf71ea28793e738$var$useAutoFocus(scopeRef,autoFocus),(0,import_react.useEffect)(()=>{let activeElement=$d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac(scopeRef.current?scopeRef.current[0]:void 0)),scope=null;if($9bf71ea28793e738$var$isElementInScope(activeElement,scopeRef.current)){for(let node$1 of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse())node$1.scopeRef&&$9bf71ea28793e738$var$isElementInScope(activeElement,node$1.scopeRef.current)&&(scope=node$1);scope===$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef)&&($9bf71ea28793e738$var$activeScope=scope.scopeRef)}},[scopeRef]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>()=>{var _focusScopeTree_getTreeNode_parent,_focusScopeTree_getTreeNode,_focusScopeTree_getTreeNode_parent_scopeRef;let parentScope=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef)?.parent?.scopeRef??null;(scopeRef===$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope(scopeRef,$9bf71ea28793e738$var$activeScope))&&(!parentScope||$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(parentScope))&&($9bf71ea28793e738$var$activeScope=parentScope),$9bf71ea28793e738$export$d06fae2ee68b101e.removeTreeNode(scopeRef)},[scopeRef]);let focusManager$1=(0,import_react.useMemo)(()=>$9bf71ea28793e738$var$createFocusManagerForScope(scopeRef),[]),value=(0,import_react.useMemo)(()=>({focusManager:focusManager$1,parentNode:node}),[node,focusManager$1]);return import_react.createElement($9bf71ea28793e738$var$FocusContext.Provider,{value},import_react.createElement(`span`,{"data-focus-scope-start":!0,hidden:!0,ref:startRef}),children,import_react.createElement(`span`,{"data-focus-scope-end":!0,hidden:!0,ref:endRef}))}function $9bf71ea28793e738$var$createFocusManagerForScope(scopeRef){return{focusNext(opts={}){let scope=scopeRef.current,{from,tabbable,wrap,accept}=opts;var _scope_;let node=from||$d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac(scope[0]??void 0)),sentinel=scope[0].previousElementSibling,walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable,accept},scope);walker.currentNode=$9bf71ea28793e738$var$isElementInScope(node,scope)?node:sentinel;let nextNode=walker.nextNode();return!nextNode&&wrap&&(walker.currentNode=sentinel,nextNode=walker.nextNode()),nextNode&&$9bf71ea28793e738$var$focusElement(nextNode,!0),nextNode},focusPrevious(opts={}){let scope=scopeRef.current,{from,tabbable,wrap,accept}=opts;var _scope_;let node=from||$d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac(scope[0]??void 0)),sentinel=scope[scope.length-1].nextElementSibling,walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable,accept},scope);walker.currentNode=$9bf71ea28793e738$var$isElementInScope(node,scope)?node:sentinel;let previousNode=walker.previousNode();return!previousNode&&wrap&&(walker.currentNode=sentinel,previousNode=walker.previousNode()),previousNode&&$9bf71ea28793e738$var$focusElement(previousNode,!0),previousNode},focusFirst(opts={}){let scope=scopeRef.current,{tabbable,accept}=opts,walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable,accept},scope);walker.currentNode=scope[0].previousElementSibling;let nextNode=walker.nextNode();return nextNode&&$9bf71ea28793e738$var$focusElement(nextNode,!0),nextNode},focusLast(opts={}){let scope=scopeRef.current,{tabbable,accept}=opts,walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope),{tabbable,accept},scope);walker.currentNode=scope[scope.length-1].nextElementSibling;let previousNode=walker.previousNode();return previousNode&&$9bf71ea28793e738$var$focusElement(previousNode,!0),previousNode}}}function $9bf71ea28793e738$var$getScopeRoot(scope){return scope[0].parentElement}function $9bf71ea28793e738$var$shouldContainFocus(scopeRef){let scope=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);for(;scope&&scope.scopeRef!==scopeRef;){if(scope.contain)return!1;scope=scope.parent}return!0}function $9bf71ea28793e738$var$isTabbableRadio(element){if(element.checked)return!0;let radios=[];if(!element.form)radios=[...$431fbd86ca7dc216$export$b204af158042fbac(element).querySelectorAll(`input[type="radio"][name="${CSS.escape(element.name)}"]`)].filter(radio=>!radio.form);else{var _element_form_elements,_element_form;radios=[...element.form?.elements?.namedItem(element.name)??[]]}return radios?!radios.some(radio=>radio.checked):!1}function $9bf71ea28793e738$var$useFocusContainment(scopeRef,contain){let focusedNode=(0,import_react.useRef)(void 0),raf=(0,import_react.useRef)(void 0);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let scope=scopeRef.current;if(!contain){raf.current&&=(cancelAnimationFrame(raf.current),void 0);return}let ownerDocument=$431fbd86ca7dc216$export$b204af158042fbac(scope?scope[0]:void 0),onKeyDown=e$1=>{if(e$1.key!==`Tab`||e$1.altKey||e$1.ctrlKey||e$1.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(scopeRef)||e$1.isComposing)return;let focusedElement=$d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument),scope$1=scopeRef.current;if(!scope$1||!$9bf71ea28793e738$var$isElementInScope(focusedElement,scope$1))return;let walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa($9bf71ea28793e738$var$getScopeRoot(scope$1),{tabbable:!0},scope$1);if(!focusedElement)return;walker.currentNode=focusedElement;let nextElement=e$1.shiftKey?walker.previousNode():walker.nextNode();nextElement||=(walker.currentNode=e$1.shiftKey?scope$1[scope$1.length-1].nextElementSibling:scope$1[0].previousElementSibling,e$1.shiftKey?walker.previousNode():walker.nextNode()),e$1.preventDefault(),nextElement&&$9bf71ea28793e738$var$focusElement(nextElement,!0)},onFocus=e$1=>{(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,scopeRef))&&$9bf71ea28793e738$var$isElementInScope($d4ee10de306f2510$export$e58f029f0fbfdb29(e$1),scopeRef.current)?($9bf71ea28793e738$var$activeScope=scopeRef,focusedNode.current=$d4ee10de306f2510$export$e58f029f0fbfdb29(e$1)):$9bf71ea28793e738$var$shouldContainFocus(scopeRef)&&!$9bf71ea28793e738$var$isElementInChildScope($d4ee10de306f2510$export$e58f029f0fbfdb29(e$1),scopeRef)?focusedNode.current?focusedNode.current.focus():$9bf71ea28793e738$var$activeScope&&$9bf71ea28793e738$var$activeScope.current&&$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current):$9bf71ea28793e738$var$shouldContainFocus(scopeRef)&&(focusedNode.current=$d4ee10de306f2510$export$e58f029f0fbfdb29(e$1))},onBlur=e$1=>{raf.current&&cancelAnimationFrame(raf.current),raf.current=requestAnimationFrame(()=>{let modality=$507fabe10e71c6fb$export$630ff653c5ada6a9(),shouldSkipFocusRestore=(modality===`virtual`||modality===null)&&$c87311424ea30a05$export$a11b0059900ceec8()&&$c87311424ea30a05$export$6446a186d09e379e(),activeElement=$d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument);if(!shouldSkipFocusRestore&&activeElement&&$9bf71ea28793e738$var$shouldContainFocus(scopeRef)&&!$9bf71ea28793e738$var$isElementInChildScope(activeElement,scopeRef)){$9bf71ea28793e738$var$activeScope=scopeRef;let target=$d4ee10de306f2510$export$e58f029f0fbfdb29(e$1);if(target&&target.isConnected){var _focusedNode_current;focusedNode.current=target,(_focusedNode_current=focusedNode.current)==null||_focusedNode_current.focus()}else $9bf71ea28793e738$var$activeScope.current&&$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current)}})};return ownerDocument.addEventListener(`keydown`,onKeyDown,!1),ownerDocument.addEventListener(`focusin`,onFocus,!1),scope?.forEach(element=>element.addEventListener(`focusin`,onFocus,!1)),scope?.forEach(element=>element.addEventListener(`focusout`,onBlur,!1)),()=>{ownerDocument.removeEventListener(`keydown`,onKeyDown,!1),ownerDocument.removeEventListener(`focusin`,onFocus,!1),scope?.forEach(element=>element.removeEventListener(`focusin`,onFocus,!1)),scope?.forEach(element=>element.removeEventListener(`focusout`,onBlur,!1))}},[scopeRef,contain]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>()=>{raf.current&&cancelAnimationFrame(raf.current)},[raf])}function $9bf71ea28793e738$var$isElementInAnyScope(element){return $9bf71ea28793e738$var$isElementInChildScope(element)}function $9bf71ea28793e738$var$isElementInScope(element,scope){return!element||!scope?!1:scope.some(node=>node.contains(element))}function $9bf71ea28793e738$var$isElementInChildScope(element,scope=null){if(element instanceof Element&&element.closest(`[data-react-aria-top-layer]`))return!0;for(let{scopeRef:s$1}of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scope)))if(s$1&&$9bf71ea28793e738$var$isElementInScope(element,s$1.current))return!0;return!1}function $9bf71ea28793e738$export$1258395f99bf9cbf(element){return $9bf71ea28793e738$var$isElementInChildScope(element,$9bf71ea28793e738$var$activeScope)}function $9bf71ea28793e738$var$isAncestorScope(ancestor,scope){var _focusScopeTree_getTreeNode;let parent=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scope)?.parent;for(;parent;){if(parent.scopeRef===ancestor)return!0;parent=parent.parent}return!1}function $9bf71ea28793e738$var$focusElement(element,scroll=!1){if(element!=null&&!scroll)try{$3ad3f6e1647bc98d$export$80f3e147d781571c(element)}catch{}else if(element!=null)try{element.focus()}catch{}}function $9bf71ea28793e738$var$getFirstInScope(scope,tabbable=!0){let sentinel=scope[0].previousElementSibling,scopeRoot=$9bf71ea28793e738$var$getScopeRoot(scope),walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot,{tabbable},scope);walker.currentNode=sentinel;let nextNode=walker.nextNode();return tabbable&&!nextNode&&(scopeRoot=$9bf71ea28793e738$var$getScopeRoot(scope),walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot,{tabbable:!1},scope),walker.currentNode=sentinel,nextNode=walker.nextNode()),nextNode}function $9bf71ea28793e738$var$focusFirstInScope(scope,tabbable=!0){$9bf71ea28793e738$var$focusElement($9bf71ea28793e738$var$getFirstInScope(scope,tabbable))}function $9bf71ea28793e738$var$useAutoFocus(scopeRef,autoFocus){let autoFocusRef=import_react.useRef(autoFocus);(0,import_react.useEffect)(()=>{autoFocusRef.current&&($9bf71ea28793e738$var$activeScope=scopeRef,!$9bf71ea28793e738$var$isElementInScope($d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac(scopeRef.current?scopeRef.current[0]:void 0)),$9bf71ea28793e738$var$activeScope.current)&&scopeRef.current&&$9bf71ea28793e738$var$focusFirstInScope(scopeRef.current)),autoFocusRef.current=!1},[scopeRef])}function $9bf71ea28793e738$var$useActiveScopeTracker(scopeRef,restore,contain){$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(restore||contain)return;let scope=scopeRef.current,ownerDocument=$431fbd86ca7dc216$export$b204af158042fbac(scope?scope[0]:void 0),onFocus=e$1=>{let target=$d4ee10de306f2510$export$e58f029f0fbfdb29(e$1);$9bf71ea28793e738$var$isElementInScope(target,scopeRef.current)?$9bf71ea28793e738$var$activeScope=scopeRef:$9bf71ea28793e738$var$isElementInAnyScope(target)||($9bf71ea28793e738$var$activeScope=null)};return ownerDocument.addEventListener(`focusin`,onFocus,!1),scope?.forEach(element=>element.addEventListener(`focusin`,onFocus,!1)),()=>{ownerDocument.removeEventListener(`focusin`,onFocus,!1),scope?.forEach(element=>element.removeEventListener(`focusin`,onFocus,!1))}},[scopeRef,restore,contain])}function $9bf71ea28793e738$var$shouldRestoreFocus(scopeRef){let scope=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);for(;scope&&scope.scopeRef!==scopeRef;){if(scope.nodeToRestore)return!1;scope=scope.parent}return scope?.scopeRef===scopeRef}function $9bf71ea28793e738$var$useRestoreFocus(scopeRef,restoreFocus,contain){let nodeToRestoreRef=(0,import_react.useRef)(typeof document<`u`?$d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac(scopeRef.current?scopeRef.current[0]:void 0)):null);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let scope=scopeRef.current,ownerDocument=$431fbd86ca7dc216$export$b204af158042fbac(scope?scope[0]:void 0);if(!restoreFocus||contain)return;let onFocus=()=>{(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,scopeRef))&&$9bf71ea28793e738$var$isElementInScope($d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument),scopeRef.current)&&($9bf71ea28793e738$var$activeScope=scopeRef)};return ownerDocument.addEventListener(`focusin`,onFocus,!1),scope?.forEach(element=>element.addEventListener(`focusin`,onFocus,!1)),()=>{ownerDocument.removeEventListener(`focusin`,onFocus,!1),scope?.forEach(element=>element.removeEventListener(`focusin`,onFocus,!1))}},[scopeRef,contain]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let ownerDocument=$431fbd86ca7dc216$export$b204af158042fbac(scopeRef.current?scopeRef.current[0]:void 0);if(!restoreFocus)return;let onKeyDown=e$1=>{if(e$1.key!==`Tab`||e$1.altKey||e$1.ctrlKey||e$1.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(scopeRef)||e$1.isComposing)return;let focusedElement=ownerDocument.activeElement;if(!$9bf71ea28793e738$var$isElementInChildScope(focusedElement,scopeRef)||!$9bf71ea28793e738$var$shouldRestoreFocus(scopeRef))return;let treeNode=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);if(!treeNode)return;let nodeToRestore=treeNode.nodeToRestore,walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(ownerDocument.body,{tabbable:!0});walker.currentNode=focusedElement;let nextElement=e$1.shiftKey?walker.previousNode():walker.nextNode();if((!nodeToRestore||!nodeToRestore.isConnected||nodeToRestore===ownerDocument.body)&&(nodeToRestore=void 0,treeNode.nodeToRestore=void 0),(!nextElement||!$9bf71ea28793e738$var$isElementInChildScope(nextElement,scopeRef))&&nodeToRestore){walker.currentNode=nodeToRestore;do nextElement=e$1.shiftKey?walker.previousNode():walker.nextNode();while($9bf71ea28793e738$var$isElementInChildScope(nextElement,scopeRef));e$1.preventDefault(),e$1.stopPropagation(),nextElement?$9bf71ea28793e738$var$focusElement(nextElement,!0):$9bf71ea28793e738$var$isElementInAnyScope(nodeToRestore)?$9bf71ea28793e738$var$focusElement(nodeToRestore,!0):focusedElement.blur()}};return contain||ownerDocument.addEventListener(`keydown`,onKeyDown,!0),()=>{contain||ownerDocument.removeEventListener(`keydown`,onKeyDown,!0)}},[scopeRef,restoreFocus,contain]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let ownerDocument=$431fbd86ca7dc216$export$b204af158042fbac(scopeRef.current?scopeRef.current[0]:void 0);if(!restoreFocus)return;let treeNode=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);if(treeNode){var _nodeToRestoreRef_current;return treeNode.nodeToRestore=nodeToRestoreRef.current??void 0,()=>{let treeNode$1=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);if(!treeNode$1)return;let nodeToRestore=treeNode$1.nodeToRestore,activeElement=$d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument);if(restoreFocus&&nodeToRestore&&(activeElement&&$9bf71ea28793e738$var$isElementInChildScope(activeElement,scopeRef)||activeElement===ownerDocument.body&&$9bf71ea28793e738$var$shouldRestoreFocus(scopeRef))){let clonedTree=$9bf71ea28793e738$export$d06fae2ee68b101e.clone();requestAnimationFrame(()=>{if(ownerDocument.activeElement===ownerDocument.body){let treeNode$2=clonedTree.getTreeNode(scopeRef);for(;treeNode$2;){if(treeNode$2.nodeToRestore&&treeNode$2.nodeToRestore.isConnected){$9bf71ea28793e738$var$restoreFocusToElement(treeNode$2.nodeToRestore);return}treeNode$2=treeNode$2.parent}for(treeNode$2=clonedTree.getTreeNode(scopeRef);treeNode$2;){if(treeNode$2.scopeRef&&treeNode$2.scopeRef.current&&$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(treeNode$2.scopeRef)){$9bf71ea28793e738$var$restoreFocusToElement($9bf71ea28793e738$var$getFirstInScope(treeNode$2.scopeRef.current,!0));return}treeNode$2=treeNode$2.parent}}})}}}},[scopeRef,restoreFocus])}function $9bf71ea28793e738$var$restoreFocusToElement(node){node.dispatchEvent(new CustomEvent($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,{bubbles:!0,cancelable:!0}))&&$9bf71ea28793e738$var$focusElement(node)}function $9bf71ea28793e738$export$2d6ec8fc375ceafa(root,opts,scope){let filter=opts?.tabbable?$b4b717babfbb907b$export$bebd5a1431fec25d:$b4b717babfbb907b$export$4c063cf1350e6fed,doc=$431fbd86ca7dc216$export$b204af158042fbac(root?.nodeType===Node.ELEMENT_NODE?root:null),walker=$dfc540311bf7f109$export$4d0f8be8b12a7ef6(doc,root||doc,NodeFilter.SHOW_ELEMENT,{acceptNode(node){var _opts_from;return opts!=null&&opts.from?.contains(node)||opts?.tabbable&&node.tagName===`INPUT`&&node.getAttribute(`type`)===`radio`&&(!$9bf71ea28793e738$var$isTabbableRadio(node)||walker.currentNode.tagName===`INPUT`&&walker.currentNode.type===`radio`&&walker.currentNode.name===node.name)?NodeFilter.FILTER_REJECT:filter(node)&&(!scope||$9bf71ea28793e738$var$isElementInScope(node,scope))&&(!opts?.accept||opts.accept(node))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return opts?.from&&(walker.currentNode=opts.from),walker}var $9bf71ea28793e738$var$Tree=class $9bf71ea28793e738$var$Tree{get size(){return this.fastMap.size}getTreeNode(data){return this.fastMap.get(data)}addTreeNode(scopeRef,parent,nodeToRestore){let parentNode=this.fastMap.get(parent??null);if(!parentNode)return;let node=new $9bf71ea28793e738$var$TreeNode({scopeRef});parentNode.addChild(node),node.parent=parentNode,this.fastMap.set(scopeRef,node),nodeToRestore&&(node.nodeToRestore=nodeToRestore)}addNode(node){this.fastMap.set(node.scopeRef,node)}removeTreeNode(scopeRef){if(scopeRef===null)return;let node=this.fastMap.get(scopeRef);if(!node)return;let parentNode=node.parent;for(let current of this.traverse())current!==node&&node.nodeToRestore&&current.nodeToRestore&&node.scopeRef&&node.scopeRef.current&&$9bf71ea28793e738$var$isElementInScope(current.nodeToRestore,node.scopeRef.current)&&(current.nodeToRestore=node.nodeToRestore);let children=node.children;parentNode&&(parentNode.removeChild(node),children.size>0&&children.forEach(child=>parentNode&&parentNode.addChild(child))),this.fastMap.delete(node.scopeRef)}*traverse(node=this.root){if(node.scopeRef!=null&&(yield node),node.children.size>0)for(let child of node.children)yield*this.traverse(child)}clone(){var _node_parent;let newTree=new $9bf71ea28793e738$var$Tree;var _node_parent_scopeRef;for(let node of this.traverse())newTree.addTreeNode(node.scopeRef,node.parent?.scopeRef??null,node.nodeToRestore);return newTree}constructor(){this.fastMap=new Map,this.root=new $9bf71ea28793e738$var$TreeNode({scopeRef:null}),this.fastMap.set(null,this.root)}},$9bf71ea28793e738$var$TreeNode=class{addChild(node){this.children.add(node),node.parent=this}removeChild(node){this.children.delete(node),node.parent=void 0}constructor(props){this.children=new Set,this.contain=!1,this.scopeRef=props.scopeRef}},$9bf71ea28793e738$export$d06fae2ee68b101e=new $9bf71ea28793e738$var$Tree;function $83013635b024ae3d$export$eac1895992b9f3d6(ref,options){let isDisabled=options?.isDisabled,[hasTabbableChild,setHasTabbableChild]=(0,import_react.useState)(!1);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(ref?.current&&!isDisabled){let update=()=>{ref.current&&setHasTabbableChild(!!$9bf71ea28793e738$export$2d6ec8fc375ceafa(ref.current,{tabbable:!0}).nextNode())};update();let observer=new MutationObserver(update);return observer.observe(ref.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:[`tabIndex`,`disabled`]}),()=>{observer.disconnect()}}}),isDisabled?!1:hasTabbableChild}function $55f9b1ae81f22853$export$76e4e37e5339496d(to){let from=$55f9b1ae81f22853$export$759df0d867455a91($431fbd86ca7dc216$export$b204af158042fbac(to));from!==to&&(from&&$55f9b1ae81f22853$export$6c5dc7e81d2cc29a(from,to),to&&$55f9b1ae81f22853$export$2b35b76d2e30e129(to,from))}function $55f9b1ae81f22853$export$6c5dc7e81d2cc29a(from,to){from.dispatchEvent(new FocusEvent(`blur`,{relatedTarget:to})),from.dispatchEvent(new FocusEvent(`focusout`,{bubbles:!0,relatedTarget:to}))}function $55f9b1ae81f22853$export$2b35b76d2e30e129(to,from){to.dispatchEvent(new FocusEvent(`focus`,{relatedTarget:from})),to.dispatchEvent(new FocusEvent(`focusin`,{bubbles:!0,relatedTarget:from}))}function $55f9b1ae81f22853$export$759df0d867455a91(document$1){let activeElement=$d4ee10de306f2510$export$cd4e5573fbe2b576(document$1),activeDescendant=activeElement?.getAttribute(`aria-activedescendant`);return activeDescendant&&document$1.getElementById(activeDescendant)||activeElement}var $a11501f3d1d39e6c$var$visibleOverlays=[];function $a11501f3d1d39e6c$export$ea8f71083e90600f(props,ref){let{onClose,shouldCloseOnBlur,isOpen,isDismissable=!1,isKeyboardDismissDisabled=!1,shouldCloseOnInteractOutside}=props;(0,import_react.useEffect)(()=>{if(isOpen&&!$a11501f3d1d39e6c$var$visibleOverlays.includes(ref))return $a11501f3d1d39e6c$var$visibleOverlays.push(ref),()=>{let index=$a11501f3d1d39e6c$var$visibleOverlays.indexOf(ref);index>=0&&$a11501f3d1d39e6c$var$visibleOverlays.splice(index,1)}},[isOpen,ref]);let onHide=()=>{$a11501f3d1d39e6c$var$visibleOverlays[$a11501f3d1d39e6c$var$visibleOverlays.length-1]===ref&&onClose&&onClose()},onInteractOutsideStart=e$1=>{(!shouldCloseOnInteractOutside||shouldCloseOnInteractOutside(e$1.target))&&$a11501f3d1d39e6c$var$visibleOverlays[$a11501f3d1d39e6c$var$visibleOverlays.length-1]===ref&&(e$1.stopPropagation(),e$1.preventDefault())},onInteractOutside=e$1=>{(!shouldCloseOnInteractOutside||shouldCloseOnInteractOutside(e$1.target))&&($a11501f3d1d39e6c$var$visibleOverlays[$a11501f3d1d39e6c$var$visibleOverlays.length-1]===ref&&(e$1.stopPropagation(),e$1.preventDefault()),onHide())},onKeyDown=e$1=>{e$1.key===`Escape`&&!isKeyboardDismissDisabled&&!e$1.nativeEvent.isComposing&&(e$1.stopPropagation(),e$1.preventDefault(),onHide())};$e0b6e0b68ec7f50f$export$872b660ac5a1ff98({ref,onInteractOutside:isDismissable&&isOpen?onInteractOutside:void 0,onInteractOutsideStart});let{focusWithinProps}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!shouldCloseOnBlur,onBlurWithin:e$1=>{!e$1.relatedTarget||$9bf71ea28793e738$export$1258395f99bf9cbf(e$1.relatedTarget)||(!shouldCloseOnInteractOutside||shouldCloseOnInteractOutside(e$1.relatedTarget))&&onClose?.()}}),onPointerDownUnderlay=e$1=>{e$1.target===e$1.currentTarget&&e$1.preventDefault()};return{overlayProps:{onKeyDown,...focusWithinProps},underlayProps:{onPointerDown:onPointerDownUnderlay}}}function $628037886ba31236$export$f9d5c8beee7d008d(props,state,ref){let{type}=props,{isOpen}=state;(0,import_react.useEffect)(()=>{ref&&ref.current&&$dd149f63282afbbf$export$f6211563215e3b37.set(ref.current,state.close)});let ariaHasPopup;type===`menu`?ariaHasPopup=!0:type===`listbox`&&(ariaHasPopup=`listbox`);let overlayId=$bdb11010cef70236$export$f680877a34711e37();return{triggerProps:{"aria-haspopup":ariaHasPopup,"aria-expanded":isOpen,"aria-controls":isOpen?overlayId:void 0,onPress:state.toggle},overlayProps:{id:overlayId}}}var $49c51c25361d4cd2$var$visualViewport=typeof document<`u`&&window.visualViewport,$49c51c25361d4cd2$var$preventScrollCount=0,$49c51c25361d4cd2$var$restore;function $49c51c25361d4cd2$export$ee0f7cc6afcd1c18(options={}){let{isDisabled}=options;$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(!isDisabled)return $49c51c25361d4cd2$var$preventScrollCount++,$49c51c25361d4cd2$var$preventScrollCount===1&&($49c51c25361d4cd2$var$restore=$c87311424ea30a05$export$fedb369cb70207f1()?$49c51c25361d4cd2$var$preventScrollMobileSafari():$49c51c25361d4cd2$var$preventScrollStandard()),()=>{$49c51c25361d4cd2$var$preventScrollCount--,$49c51c25361d4cd2$var$preventScrollCount===0&&$49c51c25361d4cd2$var$restore()}},[isDisabled])}function $49c51c25361d4cd2$var$preventScrollStandard(){let scrollbarWidth=window.innerWidth-document.documentElement.clientWidth;return $ff5963eb1fccf552$export$e08e3b67e392101e(scrollbarWidth>0&&(`scrollbarGutter`in document.documentElement.style?$49c51c25361d4cd2$var$setStyle(document.documentElement,`scrollbarGutter`,`stable`):$49c51c25361d4cd2$var$setStyle(document.documentElement,`paddingRight`,`${scrollbarWidth}px`)),$49c51c25361d4cd2$var$setStyle(document.documentElement,`overflow`,`hidden`))}function $49c51c25361d4cd2$var$preventScrollMobileSafari(){let scrollable,allowTouchMove=!1,onTouchStart=e$1=>{let target=e$1.target;scrollable=$cc38e7bd3fc7b213$export$2bb74740c4e19def(target)?target:$62d8ded9296f3872$export$cfa2225e87938781(target,!0),allowTouchMove=!1;let selection=target.ownerDocument.defaultView.getSelection();selection&&!selection.isCollapsed&&selection.containsNode(target,!0)&&(allowTouchMove=!0),`selectionStart`in target&&`selectionEnd`in target&&target.selectionStart<target.selectionEnd&&target.ownerDocument.activeElement===target&&(allowTouchMove=!0)},style=document.createElement(`style`);style.textContent=`@layer {
  * {
    overscroll-behavior: contain;
  }
}`,document.head.prepend(style);let onTouchMove=e$1=>{if(!(e$1.touches.length===2||allowTouchMove)){if(!scrollable||scrollable===document.documentElement||scrollable===document.body){e$1.preventDefault();return}scrollable.scrollHeight===scrollable.clientHeight&&scrollable.scrollWidth===scrollable.clientWidth&&e$1.preventDefault()}},onBlur=e$1=>{let target=e$1.target,relatedTarget=e$1.relatedTarget;if(relatedTarget&&$21f1aa98acb08317$export$c57958e35f31ed73(relatedTarget))relatedTarget.focus({preventScroll:!0}),$49c51c25361d4cd2$var$scrollIntoViewWhenReady(relatedTarget,$21f1aa98acb08317$export$c57958e35f31ed73(target));else if(!relatedTarget){var _target_parentElement;(target.parentElement?.closest(`[tabindex]`))?.focus({preventScroll:!0})}},focus=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(opts){let wasKeyboardVisible=document.activeElement!=null&&$21f1aa98acb08317$export$c57958e35f31ed73(document.activeElement);focus.call(this,{...opts,preventScroll:!0}),(!opts||!opts.preventScroll)&&$49c51c25361d4cd2$var$scrollIntoViewWhenReady(this,wasKeyboardVisible)};let removeEvents=$ff5963eb1fccf552$export$e08e3b67e392101e($49c51c25361d4cd2$var$addEvent(document,`touchstart`,onTouchStart,{passive:!1,capture:!0}),$49c51c25361d4cd2$var$addEvent(document,`touchmove`,onTouchMove,{passive:!1,capture:!0}),$49c51c25361d4cd2$var$addEvent(document,`blur`,onBlur,!0));return()=>{removeEvents(),style.remove(),HTMLElement.prototype.focus=focus}}function $49c51c25361d4cd2$var$setStyle(element,style,value){let cur=element.style[style];return element.style[style]=value,()=>{element.style[style]=cur}}function $49c51c25361d4cd2$var$addEvent(target,event,handler,options){return target.addEventListener(event,handler,options),()=>{target.removeEventListener(event,handler,options)}}function $49c51c25361d4cd2$var$scrollIntoViewWhenReady(target,wasKeyboardVisible){wasKeyboardVisible||!$49c51c25361d4cd2$var$visualViewport?$49c51c25361d4cd2$var$scrollIntoView(target):$49c51c25361d4cd2$var$visualViewport.addEventListener(`resize`,()=>$49c51c25361d4cd2$var$scrollIntoView(target),{once:!0})}function $49c51c25361d4cd2$var$scrollIntoView(target){let root=document.scrollingElement||document.documentElement,nextTarget=target;for(;nextTarget&&nextTarget!==root;){let scrollable=$62d8ded9296f3872$export$cfa2225e87938781(nextTarget);if(scrollable!==document.documentElement&&scrollable!==document.body&&scrollable!==nextTarget){let scrollableRect=scrollable.getBoundingClientRect(),targetRect=nextTarget.getBoundingClientRect();if(targetRect.top<scrollableRect.top||targetRect.bottom>scrollableRect.top+nextTarget.clientHeight){let bottom=scrollableRect.bottom;$49c51c25361d4cd2$var$visualViewport&&(bottom=Math.min(bottom,$49c51c25361d4cd2$var$visualViewport.offsetTop+$49c51c25361d4cd2$var$visualViewport.height));let adjustment=targetRect.top-scrollableRect.top-((bottom-scrollableRect.top)/2-targetRect.height/2);scrollable.scrollTo({top:Math.max(0,Math.min(scrollable.scrollHeight-scrollable.clientHeight,scrollable.scrollTop+adjustment)),behavior:`smooth`})}}nextTarget=scrollable.parentElement}}var $773d5888b972f1cf$exports={};$773d5888b972f1cf$exports={dismiss:``};var $d11f19852b941573$exports={};$d11f19852b941573$exports={dismiss:``};var $b983974c2ee1efb3$exports={};$b983974c2ee1efb3$exports={dismiss:`Odstranit`};var $5809cc9d4e92de73$exports={};$5809cc9d4e92de73$exports={dismiss:`Luk`};var $c68c2e4fc74398d1$exports={};$c68c2e4fc74398d1$exports={dismiss:`Schlieen`};var $0898b4c153db2b77$exports={};$0898b4c153db2b77$exports={dismiss:``};var $6d74810286a15183$exports={};$6d74810286a15183$exports={dismiss:`Dismiss`};var $309d73dc65f78055$exports={};$309d73dc65f78055$exports={dismiss:`Descartar`};var $44ad94f7205cf593$exports={};$44ad94f7205cf593$exports={dismiss:`Lpeta`};var $7c28f5687f0779a9$exports={};$7c28f5687f0779a9$exports={dismiss:`Hylk`};var $e6d75df4b68bd73a$exports={};$e6d75df4b68bd73a$exports={dismiss:`Rejeter`};var $87505c9dab186d0f$exports={};$87505c9dab186d0f$exports={dismiss:``};var $553439c3ffb3e492$exports={};$553439c3ffb3e492$exports={dismiss:`Odbaci`};var $74cf411061b983a2$exports={};$74cf411061b983a2$exports={dismiss:`Elutasts`};var $e933f298574dc435$exports={};$e933f298574dc435$exports={dismiss:`Ignora`};var $ac91fc9fe02f71f6$exports={};$ac91fc9fe02f71f6$exports={dismiss:``};var $52b96f86422025af$exports={};$52b96f86422025af$exports={dismiss:``};var $c0d724c3e51dafa6$exports={};$c0d724c3e51dafa6$exports={dismiss:`Atmesti`};var $c92899672a3fe72e$exports={};$c92899672a3fe72e$exports={dismiss:`Nerdt`};var $9f576b39d8e7a9d6$exports={};$9f576b39d8e7a9d6$exports={dismiss:`Lukk`};var $9d025808aeec81a7$exports={};$9d025808aeec81a7$exports={dismiss:`Negeren`};var $fce709921e2c0fa6$exports={};$fce709921e2c0fa6$exports={dismiss:`Zignoruj`};var $2599cf0c4ab37f59$exports={};$2599cf0c4ab37f59$exports={dismiss:`Descartar`};var $3c220ae7ef8a35fd$exports={};$3c220ae7ef8a35fd$exports={dismiss:`Dispensar`};var $93562b5094072f54$exports={};$93562b5094072f54$exports={dismiss:`Revocare`};var $cd9e2abd0d06c7b4$exports={};$cd9e2abd0d06c7b4$exports={dismiss:``};var $45375701f409adf1$exports={};$45375701f409adf1$exports={dismiss:`Zrui`};var $27fab53a576de9dd$exports={};$27fab53a576de9dd$exports={dismiss:`Opusti`};var $4438748d9952e7c7$exports={};$4438748d9952e7c7$exports={dismiss:`Odbaci`};var $0936d7347ef4da4c$exports={};$0936d7347ef4da4c$exports={dismiss:`Avvisa`};var $29700c92185d38f8$exports={};$29700c92185d38f8$exports={dismiss:`Kapat`};var $662ccaf2be4c25b3$exports={};$662ccaf2be4c25b3$exports={dismiss:``};var $d80a27deda7cdb3c$exports={};$d80a27deda7cdb3c$exports={dismiss:``};var $2b2734393847c884$exports={};$2b2734393847c884$exports={dismiss:``};var $a2f21f5f14f60553$exports={};$a2f21f5f14f60553$exports={"ar-AE":$773d5888b972f1cf$exports,"bg-BG":$d11f19852b941573$exports,"cs-CZ":$b983974c2ee1efb3$exports,"da-DK":$5809cc9d4e92de73$exports,"de-DE":$c68c2e4fc74398d1$exports,"el-GR":$0898b4c153db2b77$exports,"en-US":$6d74810286a15183$exports,"es-ES":$309d73dc65f78055$exports,"et-EE":$44ad94f7205cf593$exports,"fi-FI":$7c28f5687f0779a9$exports,"fr-FR":$e6d75df4b68bd73a$exports,"he-IL":$87505c9dab186d0f$exports,"hr-HR":$553439c3ffb3e492$exports,"hu-HU":$74cf411061b983a2$exports,"it-IT":$e933f298574dc435$exports,"ja-JP":$ac91fc9fe02f71f6$exports,"ko-KR":$52b96f86422025af$exports,"lt-LT":$c0d724c3e51dafa6$exports,"lv-LV":$c92899672a3fe72e$exports,"nb-NO":$9f576b39d8e7a9d6$exports,"nl-NL":$9d025808aeec81a7$exports,"pl-PL":$fce709921e2c0fa6$exports,"pt-BR":$2599cf0c4ab37f59$exports,"pt-PT":$3c220ae7ef8a35fd$exports,"ro-RO":$93562b5094072f54$exports,"ru-RU":$cd9e2abd0d06c7b4$exports,"sk-SK":$45375701f409adf1$exports,"sl-SI":$27fab53a576de9dd$exports,"sr-SP":$4438748d9952e7c7$exports,"sv-SE":$0936d7347ef4da4c$exports,"tr-TR":$29700c92185d38f8$exports,"uk-UA":$662ccaf2be4c25b3$exports,"zh-CN":$d80a27deda7cdb3c$exports,"zh-TW":$2b2734393847c884$exports};var $5c3e21d68f1c4674$var$styles={border:0,clip:`rect(0 0 0 0)`,clipPath:`inset(50%)`,height:`1px`,margin:`-1px`,overflow:`hidden`,padding:0,position:`absolute`,width:`1px`,whiteSpace:`nowrap`};function $5c3e21d68f1c4674$export$a966af930f325cab(props={}){let{style,isFocusable}=props,[isFocused,setFocused]=(0,import_react.useState)(!1),{focusWithinProps}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!isFocusable,onFocusWithinChange:val=>setFocused(val)}),combinedStyles=(0,import_react.useMemo)(()=>isFocused?style:style?{...$5c3e21d68f1c4674$var$styles,...style}:$5c3e21d68f1c4674$var$styles,[isFocused]);return{visuallyHiddenProps:{...focusWithinProps,style:combinedStyles}}}function $5c3e21d68f1c4674$export$439d29a4e110a164(props){let{children,elementType:Element$1=`div`,isFocusable,style,...otherProps}=props,{visuallyHiddenProps}=$5c3e21d68f1c4674$export$a966af930f325cab(props);return import_react.createElement(Element$1,$3ef42575df84b30b$export$9d1611c77c2fe928(otherProps,visuallyHiddenProps),children)}function $parcel$interopDefault(a$2){return a$2&&a$2.__esModule?a$2.default:a$2}function $86ea4cb521eb2e37$export$2317d149ed6f78c4(props){let{onDismiss,...otherProps}=props,labels=$313b98861ee5dd6c$export$d6875122194c7b44(otherProps,$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault($a2f21f5f14f60553$exports),`@react-aria/overlays`).format(`dismiss`)),onClick=()=>{onDismiss&&onDismiss()};return import_react.createElement($5c3e21d68f1c4674$export$439d29a4e110a164,null,import_react.createElement(`button`,{...labels,tabIndex:-1,onClick,style:{width:1,height:1}}))}var $5e3802645cc19319$var$supportsInert=typeof HTMLElement<`u`&&`inert`in HTMLElement.prototype,$5e3802645cc19319$var$refCountMap=new WeakMap,$5e3802645cc19319$var$observerStack=[];function $5e3802645cc19319$export$1c3ebcada18427bf(targets,options){let windowObj=$431fbd86ca7dc216$export$f21a1ffae260145a(targets?.[0]),opts=options instanceof windowObj.Element?{root:options}:options;var _opts_root;let root=opts?.root??document.body,shouldUseInert=opts?.shouldUseInert&&$5e3802645cc19319$var$supportsInert,visibleNodes=new Set(targets),hiddenNodes=new Set,getHidden=element=>shouldUseInert&&element instanceof windowObj.HTMLElement?element.inert:element.getAttribute(`aria-hidden`)===`true`,setHidden=(element,hidden)=>{shouldUseInert&&element instanceof windowObj.HTMLElement?element.inert=hidden:hidden?element.setAttribute(`aria-hidden`,`true`):(element.removeAttribute(`aria-hidden`),element instanceof windowObj.HTMLElement&&(element.inert=!1))},walk=root$1=>{for(let element of root$1.querySelectorAll(`[data-live-announcer], [data-react-aria-top-layer]`))visibleNodes.add(element);let acceptNode=node=>{if(hiddenNodes.has(node)||visibleNodes.has(node)||node.parentElement&&hiddenNodes.has(node.parentElement)&&node.parentElement.getAttribute(`role`)!==`row`)return NodeFilter.FILTER_REJECT;for(let target of visibleNodes)if(node.contains(target))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},walker=document.createTreeWalker(root$1,NodeFilter.SHOW_ELEMENT,{acceptNode}),acceptRoot=acceptNode(root$1);if(acceptRoot===NodeFilter.FILTER_ACCEPT&&hide(root$1),acceptRoot!==NodeFilter.FILTER_REJECT){let node=walker.nextNode();for(;node!=null;)hide(node),node=walker.nextNode()}},hide=node=>{var _refCountMap_get;let refCount=$5e3802645cc19319$var$refCountMap.get(node)??0;getHidden(node)&&refCount===0||(refCount===0&&setHidden(node,!0),hiddenNodes.add(node),$5e3802645cc19319$var$refCountMap.set(node,refCount+1))};$5e3802645cc19319$var$observerStack.length&&$5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length-1].disconnect(),walk(root);let observer=new MutationObserver(changes=>{for(let change of changes)if(change.type===`childList`&&![...visibleNodes,...hiddenNodes].some(node=>node.contains(change.target)))for(let node of change.addedNodes)(node instanceof HTMLElement||node instanceof SVGElement)&&(node.dataset.liveAnnouncer===`true`||node.dataset.reactAriaTopLayer===`true`)?visibleNodes.add(node):node instanceof Element&&walk(node)});observer.observe(root,{childList:!0,subtree:!0});let observerWrapper={visibleNodes,hiddenNodes,observe(){observer.observe(root,{childList:!0,subtree:!0})},disconnect(){observer.disconnect()}};return $5e3802645cc19319$var$observerStack.push(observerWrapper),()=>{observer.disconnect();for(let node of hiddenNodes){let count=$5e3802645cc19319$var$refCountMap.get(node);count!=null&&(count===1?(setHidden(node,!1),$5e3802645cc19319$var$refCountMap.delete(node)):$5e3802645cc19319$var$refCountMap.set(node,count-1))}observerWrapper===$5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length-1]?($5e3802645cc19319$var$observerStack.pop(),$5e3802645cc19319$var$observerStack.length&&$5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length-1].observe()):$5e3802645cc19319$var$observerStack.splice($5e3802645cc19319$var$observerStack.indexOf(observerWrapper),1)}}var import_react_dom$3=__toESM(require_react_dom(),1),$337b884510726a0d$export$a2200b96afd16271=import_react.createContext(null);function $337b884510726a0d$export$c6fdb837b070b4ff(props){let isSSR=$b5e257d569688ac6$export$535bd6ca7f90a273(),{portalContainer=isSSR?null:document.body,isExiting}=props,[contain,setContain]=(0,import_react.useState)(!1),contextValue=(0,import_react.useMemo)(()=>({contain,setContain}),[contain,setContain]),{getContainer}=$96b38030c423d352$export$9fc1347d4195ccb3();if(!props.portalContainer&&getContainer&&(portalContainer=getContainer()),!portalContainer)return null;let contents=props.children;return props.disableFocusManagement||(contents=import_react.createElement($9bf71ea28793e738$export$20e40289641fbbb6,{restoreFocus:!0,contain:(props.shouldContainFocus||contain)&&!isExiting},contents)),contents=import_react.createElement($337b884510726a0d$export$a2200b96afd16271.Provider,{value:contextValue},import_react.createElement($f1ab8c75478c6f73$export$cf75428e0b9ed1ea,null,contents)),import_react_dom$3.createPortal(contents,portalContainer)}function $337b884510726a0d$export$14c98a7594375490(){let setContain=(0,import_react.useContext)($337b884510726a0d$export$a2200b96afd16271)?.setContain;$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{setContain?.(!0)},[setContain])}function $8ac8429251c45e4b$export$dbc0f175b25fb0fb(props,state,ref){let{overlayProps,underlayProps}=$a11501f3d1d39e6c$export$ea8f71083e90600f({...props,isOpen:state.isOpen,onClose:state.close},ref);return $49c51c25361d4cd2$export$ee0f7cc6afcd1c18({isDisabled:!state.isOpen}),$337b884510726a0d$export$14c98a7594375490(),(0,import_react.useEffect)(()=>{if(state.isOpen&&ref.current)return $5e3802645cc19319$export$1c3ebcada18427bf([ref.current],{shouldUseInert:!0})},[state.isOpen,ref]),{modalProps:$3ef42575df84b30b$export$9d1611c77c2fe928(overlayProps),underlayProps}}function $d191a55c9702f145$export$8467354a121f1b9f(props){let{id,label,"aria-labelledby":ariaLabelledby,"aria-label":ariaLabel,labelElementType=`label`}=props;id=$bdb11010cef70236$export$f680877a34711e37(id);let labelId=$bdb11010cef70236$export$f680877a34711e37(),labelProps={};label&&(ariaLabelledby=ariaLabelledby?`${labelId} ${ariaLabelledby}`:labelId,labelProps={id:labelId,htmlFor:labelElementType===`label`?id:void 0});let fieldProps=$313b98861ee5dd6c$export$d6875122194c7b44({id,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledby});return{labelProps,fieldProps}}function $2baaea4c71418dea$export$294aa081a6c6f55d(props){let{description,errorMessage,isInvalid,validationState}=props,{labelProps,fieldProps}=$d191a55c9702f145$export$8467354a121f1b9f(props),descriptionId=$bdb11010cef70236$export$b4cc09c592e8fdb8([!!description,!!errorMessage,isInvalid,validationState]),errorMessageId=$bdb11010cef70236$export$b4cc09c592e8fdb8([!!description,!!errorMessage,isInvalid,validationState]);return fieldProps=$3ef42575df84b30b$export$9d1611c77c2fe928(fieldProps,{"aria-describedby":[descriptionId,errorMessageId,props[`aria-describedby`]].filter(Boolean).join(` `)||void 0}),{labelProps,fieldProps,descriptionProps:{id:descriptionId},errorMessageProps:{id:errorMessageId}}}function $feb5ffebff200149$export$d3e3bd3e26688c04(e$1){return $c87311424ea30a05$export$e1865c3bedcd822b()?e$1.altKey:e$1.ctrlKey}function $feb5ffebff200149$export$c3d8340acf92597f(collectionRef,key){var _collectionRef_current,_collectionRef_current1;let selector=`[data-key="${CSS.escape(String(key))}"]`,collection=collectionRef.current?.dataset.collection;return collection&&(selector=`[data-collection="${CSS.escape(collection)}"]${selector}`),collectionRef.current?.querySelector(selector)}var $feb5ffebff200149$var$collectionMap=new WeakMap;function $feb5ffebff200149$export$881eb0d9f3605d9d(collection){let id=$bdb11010cef70236$export$f680877a34711e37();return $feb5ffebff200149$var$collectionMap.set(collection,id),id}function $feb5ffebff200149$export$6aeb1680a0ae8741(collection){return $feb5ffebff200149$var$collectionMap.get(collection)}var $fb3050f43d946246$var$TYPEAHEAD_DEBOUNCE_WAIT_MS=1e3;function $fb3050f43d946246$export$e32c88dfddc6e1d8(options){let{keyboardDelegate,selectionManager,onTypeSelect}=options,state=(0,import_react.useRef)({search:``,timeout:void 0}).current;return{typeSelectProps:{onKeyDownCapture:keyboardDelegate.getKeyForSearch?e$1=>{let character=$fb3050f43d946246$var$getStringForKey(e$1.key);if(!(!character||e$1.ctrlKey||e$1.metaKey||!e$1.currentTarget.contains(e$1.target)||state.search.length===0&&character===` `)){if(character===` `&&state.search.trim().length>0&&(e$1.preventDefault(),`continuePropagation`in e$1||e$1.stopPropagation()),state.search+=character,keyboardDelegate.getKeyForSearch!=null){let key=keyboardDelegate.getKeyForSearch(state.search,selectionManager.focusedKey);key??=keyboardDelegate.getKeyForSearch(state.search),key!=null&&(selectionManager.setFocusedKey(key),onTypeSelect&&onTypeSelect(key))}clearTimeout(state.timeout),state.timeout=setTimeout(()=>{state.search=``},$fb3050f43d946246$var$TYPEAHEAD_DEBOUNCE_WAIT_MS)}}:void 0}}}function $fb3050f43d946246$var$getStringForKey(key){return key.length===1||!/^[A-Z]/i.test(key)?key:``}var import_react_dom$2=require_react_dom();function $ae20dd8cbca75726$export$d6daf82dcd84e87c(options){let{selectionManager:manager,keyboardDelegate:delegate,ref,autoFocus=!1,shouldFocusWrap=!1,disallowEmptySelection=!1,disallowSelectAll=!1,escapeKeyBehavior=`clearSelection`,selectOnFocus=manager.selectionBehavior===`replace`,disallowTypeAhead=!1,shouldUseVirtualFocus,allowsTabNavigation=!1,isVirtualized,scrollRef=ref,linkBehavior=`action`}=options,{direction}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),router=$ea8dcbcb9ea1b556$export$9a302a45f65d0572(),onKeyDown=e$1=>{var _ref_current;if(e$1.altKey&&e$1.key===`Tab`&&e$1.preventDefault(),!ref.current?.contains(e$1.target))return;let navigateToKey=(key,childFocus)=>{if(key!=null){if(manager.isLink(key)&&linkBehavior===`selection`&&selectOnFocus&&!$feb5ffebff200149$export$d3e3bd3e26688c04(e$1)){(0,import_react_dom$2.flushSync)(()=>{manager.setFocusedKey(key,childFocus)});let item=$feb5ffebff200149$export$c3d8340acf92597f(ref,key),itemProps=manager.getItemProps(key);item&&router.open(item,e$1,itemProps.href,itemProps.routerOptions);return}if(manager.setFocusedKey(key,childFocus),manager.isLink(key)&&linkBehavior===`override`)return;e$1.shiftKey&&manager.selectionMode===`multiple`?manager.extendSelection(key):selectOnFocus&&!$feb5ffebff200149$export$d3e3bd3e26688c04(e$1)&&manager.replaceSelection(key)}};switch(e$1.key){case`ArrowDown`:if(delegate.getKeyBelow){var _delegate_getKeyBelow,_delegate_getFirstKey,_delegate_getFirstKey1;let nextKey=manager.focusedKey==null?delegate.getFirstKey?.call(delegate):delegate.getKeyBelow?.call(delegate,manager.focusedKey);nextKey==null&&shouldFocusWrap&&(nextKey=delegate.getFirstKey?.call(delegate,manager.focusedKey)),nextKey!=null&&(e$1.preventDefault(),navigateToKey(nextKey))}break;case`ArrowUp`:if(delegate.getKeyAbove){var _delegate_getKeyAbove,_delegate_getLastKey,_delegate_getLastKey1;let nextKey=manager.focusedKey==null?delegate.getLastKey?.call(delegate):delegate.getKeyAbove?.call(delegate,manager.focusedKey);nextKey==null&&shouldFocusWrap&&(nextKey=delegate.getLastKey?.call(delegate,manager.focusedKey)),nextKey!=null&&(e$1.preventDefault(),navigateToKey(nextKey))}break;case`ArrowLeft`:if(delegate.getKeyLeftOf){var _delegate_getKeyLeftOf,_delegate_getFirstKey2,_delegate_getLastKey2;let nextKey=manager.focusedKey==null?null:delegate.getKeyLeftOf?.call(delegate,manager.focusedKey);nextKey==null&&shouldFocusWrap&&(nextKey=direction===`rtl`?delegate.getFirstKey?.call(delegate,manager.focusedKey):delegate.getLastKey?.call(delegate,manager.focusedKey)),nextKey!=null&&(e$1.preventDefault(),navigateToKey(nextKey,direction===`rtl`?`first`:`last`))}break;case`ArrowRight`:if(delegate.getKeyRightOf){var _delegate_getKeyRightOf,_delegate_getLastKey3,_delegate_getFirstKey3;let nextKey=manager.focusedKey==null?null:delegate.getKeyRightOf?.call(delegate,manager.focusedKey);nextKey==null&&shouldFocusWrap&&(nextKey=direction===`rtl`?delegate.getLastKey?.call(delegate,manager.focusedKey):delegate.getFirstKey?.call(delegate,manager.focusedKey)),nextKey!=null&&(e$1.preventDefault(),navigateToKey(nextKey,direction===`rtl`?`last`:`first`))}break;case`Home`:if(delegate.getFirstKey){if(manager.focusedKey===null&&e$1.shiftKey)return;e$1.preventDefault();let firstKey=delegate.getFirstKey(manager.focusedKey,$21f1aa98acb08317$export$16792effe837dba3(e$1));manager.setFocusedKey(firstKey),firstKey!=null&&($21f1aa98acb08317$export$16792effe837dba3(e$1)&&e$1.shiftKey&&manager.selectionMode===`multiple`?manager.extendSelection(firstKey):selectOnFocus&&manager.replaceSelection(firstKey))}break;case`End`:if(delegate.getLastKey){if(manager.focusedKey===null&&e$1.shiftKey)return;e$1.preventDefault();let lastKey=delegate.getLastKey(manager.focusedKey,$21f1aa98acb08317$export$16792effe837dba3(e$1));manager.setFocusedKey(lastKey),lastKey!=null&&($21f1aa98acb08317$export$16792effe837dba3(e$1)&&e$1.shiftKey&&manager.selectionMode===`multiple`?manager.extendSelection(lastKey):selectOnFocus&&manager.replaceSelection(lastKey))}break;case`PageDown`:if(delegate.getKeyPageBelow&&manager.focusedKey!=null){let nextKey=delegate.getKeyPageBelow(manager.focusedKey);nextKey!=null&&(e$1.preventDefault(),navigateToKey(nextKey))}break;case`PageUp`:if(delegate.getKeyPageAbove&&manager.focusedKey!=null){let nextKey=delegate.getKeyPageAbove(manager.focusedKey);nextKey!=null&&(e$1.preventDefault(),navigateToKey(nextKey))}break;case`a`:$21f1aa98acb08317$export$16792effe837dba3(e$1)&&manager.selectionMode===`multiple`&&disallowSelectAll!==!0&&(e$1.preventDefault(),manager.selectAll());break;case`Escape`:escapeKeyBehavior===`clearSelection`&&!disallowEmptySelection&&manager.selectedKeys.size!==0&&(e$1.stopPropagation(),e$1.preventDefault(),manager.clearSelection());break;case`Tab`:if(!allowsTabNavigation){if(e$1.shiftKey)ref.current.focus();else{let walker=$9bf71ea28793e738$export$2d6ec8fc375ceafa(ref.current,{tabbable:!0}),next,last;do last=walker.lastChild(),last&&(next=last);while(last);next&&(!next.contains(document.activeElement)||document.activeElement&&!$b4b717babfbb907b$export$bebd5a1431fec25d(document.activeElement))&&$7215afc6de606d6b$export$de79e2c695e052f3(next)}break}}},scrollPos=(0,import_react.useRef)({top:0,left:0});$e9faafb641e167db$export$90fc3a17d93f704c(scrollRef,`scroll`,isVirtualized?void 0:()=>{var _scrollRef_current,_scrollRef_current1,_scrollRef_current_scrollTop,_scrollRef_current_scrollLeft;scrollPos.current={top:scrollRef.current?.scrollTop??0,left:scrollRef.current?.scrollLeft??0}});let onFocus=e$1=>{if(manager.isFocused){e$1.currentTarget.contains(e$1.target)||manager.setFocused(!1);return}if(e$1.currentTarget.contains(e$1.target)){if(manager.setFocused(!0),manager.focusedKey==null){var _delegate_getLastKey,_delegate_getFirstKey;let navigateToKey=key=>{key!=null&&(manager.setFocusedKey(key),selectOnFocus&&!manager.isSelected(key)&&manager.replaceSelection(key))},relatedTarget=e$1.relatedTarget;var _manager_lastSelectedKey,_manager_firstSelectedKey;relatedTarget&&e$1.currentTarget.compareDocumentPosition(relatedTarget)&Node.DOCUMENT_POSITION_FOLLOWING?navigateToKey(manager.lastSelectedKey??delegate.getLastKey?.call(delegate)):navigateToKey(manager.firstSelectedKey??delegate.getFirstKey?.call(delegate))}else !isVirtualized&&scrollRef.current&&(scrollRef.current.scrollTop=scrollPos.current.top,scrollRef.current.scrollLeft=scrollPos.current.left);if(manager.focusedKey!=null&&scrollRef.current){let element=$feb5ffebff200149$export$c3d8340acf92597f(ref,manager.focusedKey);element instanceof HTMLElement&&(!element.contains(document.activeElement)&&!shouldUseVirtualFocus&&$7215afc6de606d6b$export$de79e2c695e052f3(element),$507fabe10e71c6fb$export$630ff653c5ada6a9()===`keyboard`&&$2f04cbc44ee30ce0$export$c826860796309d1b(element,{containingElement:ref.current}))}}},onBlur=e$1=>{e$1.currentTarget.contains(e$1.relatedTarget)||manager.setFocused(!1)},shouldVirtualFocusFirst=(0,import_react.useRef)(!1);$e9faafb641e167db$export$90fc3a17d93f704c(ref,$5671b20cf9b562b2$export$831c820ad60f9d12,shouldUseVirtualFocus?e$1=>{let{detail}=e$1;e$1.stopPropagation(),manager.setFocused(!0),detail?.focusStrategy===`first`&&(shouldVirtualFocusFirst.current=!0)}:void 0),$ca9b37712f007381$export$72ef708ab07251f1(()=>{if(shouldVirtualFocusFirst.current){var _delegate_getFirstKey,_delegate_getFirstKey1;let keyToFocus=delegate.getFirstKey?.call(delegate)??null;if(keyToFocus==null){let previousActiveElement=$d4ee10de306f2510$export$cd4e5573fbe2b576();$55f9b1ae81f22853$export$76e4e37e5339496d(ref.current),$55f9b1ae81f22853$export$2b35b76d2e30e129(previousActiveElement,null),manager.collection.size>0&&(shouldVirtualFocusFirst.current=!1)}else manager.setFocusedKey(keyToFocus),shouldVirtualFocusFirst.current=!1}},[manager.collection]),$ca9b37712f007381$export$72ef708ab07251f1(()=>{manager.collection.size>0&&(shouldVirtualFocusFirst.current=!1)},[manager.focusedKey]),$e9faafb641e167db$export$90fc3a17d93f704c(ref,$5671b20cf9b562b2$export$447a38995de2c711,shouldUseVirtualFocus?e$1=>{var _e_detail;e$1.stopPropagation(),manager.setFocused(!1),e$1.detail?.clearFocusKey&&manager.setFocusedKey(null)}:void 0);let autoFocusRef=(0,import_react.useRef)(autoFocus),didAutoFocusRef=(0,import_react.useRef)(!1);(0,import_react.useEffect)(()=>{if(autoFocusRef.current){var _delegate_getFirstKey,_delegate_getLastKey;let focusedKey=null;var _delegate_getFirstKey1;autoFocus===`first`&&(focusedKey=delegate.getFirstKey?.call(delegate)??null);var _delegate_getLastKey1;autoFocus===`last`&&(focusedKey=delegate.getLastKey?.call(delegate)??null);let selectedKeys=manager.selectedKeys;if(selectedKeys.size){for(let key of selectedKeys)if(manager.canSelectItem(key)){focusedKey=key;break}}manager.setFocused(!0),manager.setFocusedKey(focusedKey),focusedKey==null&&!shouldUseVirtualFocus&&ref.current&&$3ad3f6e1647bc98d$export$80f3e147d781571c(ref.current),manager.collection.size>0&&(autoFocusRef.current=!1,didAutoFocusRef.current=!0)}});let lastFocusedKey=(0,import_react.useRef)(manager.focusedKey),raf=(0,import_react.useRef)(null);(0,import_react.useEffect)(()=>{if(manager.isFocused&&manager.focusedKey!=null&&(manager.focusedKey!==lastFocusedKey.current||didAutoFocusRef.current)&&scrollRef.current&&ref.current){let modality=$507fabe10e71c6fb$export$630ff653c5ada6a9(),element=$feb5ffebff200149$export$c3d8340acf92597f(ref,manager.focusedKey);if(!(element instanceof HTMLElement))return;(modality===`keyboard`||didAutoFocusRef.current)&&(raf.current&&cancelAnimationFrame(raf.current),raf.current=requestAnimationFrame(()=>{scrollRef.current&&($2f04cbc44ee30ce0$export$53a0910f038337bd(scrollRef.current,element),modality!==`virtual`&&$2f04cbc44ee30ce0$export$c826860796309d1b(element,{containingElement:ref.current}))}))}!shouldUseVirtualFocus&&manager.isFocused&&manager.focusedKey==null&&lastFocusedKey.current!=null&&ref.current&&$3ad3f6e1647bc98d$export$80f3e147d781571c(ref.current),lastFocusedKey.current=manager.focusedKey,didAutoFocusRef.current=!1}),(0,import_react.useEffect)(()=>()=>{raf.current&&cancelAnimationFrame(raf.current)},[]),$e9faafb641e167db$export$90fc3a17d93f704c(ref,`react-aria-focus-scope-restore`,e$1=>{e$1.preventDefault(),manager.setFocused(!0)});let handlers={onKeyDown,onFocus,onBlur,onMouseDown(e$1){scrollRef.current===e$1.target&&e$1.preventDefault()}},{typeSelectProps}=$fb3050f43d946246$export$e32c88dfddc6e1d8({keyboardDelegate:delegate,selectionManager:manager});disallowTypeAhead||(handlers=$3ef42575df84b30b$export$9d1611c77c2fe928(typeSelectProps,handlers));let tabIndex;shouldUseVirtualFocus||(tabIndex=manager.focusedKey==null?0:-1);let collectionId=$feb5ffebff200149$export$881eb0d9f3605d9d(manager.collection);return{collectionProps:$3ef42575df84b30b$export$9d1611c77c2fe928(handlers,{tabIndex,"data-collection":collectionId})}}function $880e95eb8b93ba9a$export$ecf600387e221c37(options){let{id,selectionManager:manager,key,ref,shouldSelectOnPressUp,shouldUseVirtualFocus,focus,isDisabled,onAction,allowsDifferentPressOrigin,linkBehavior=`action`}=options,router=$ea8dcbcb9ea1b556$export$9a302a45f65d0572();id=$bdb11010cef70236$export$f680877a34711e37(id);let onSelect=e$1=>{if(e$1.pointerType===`keyboard`&&$feb5ffebff200149$export$d3e3bd3e26688c04(e$1))manager.toggleSelection(key);else{if(manager.selectionMode===`none`)return;if(manager.isLink(key)){if(linkBehavior===`selection`&&ref.current){let itemProps$1=manager.getItemProps(key);router.open(ref.current,e$1,itemProps$1.href,itemProps$1.routerOptions),manager.setSelectedKeys(manager.selectedKeys);return}else if(linkBehavior===`override`||linkBehavior===`none`)return}manager.selectionMode===`single`?manager.isSelected(key)&&!manager.disallowEmptySelection?manager.toggleSelection(key):manager.replaceSelection(key):e$1&&e$1.shiftKey?manager.extendSelection(key):manager.selectionBehavior===`toggle`||e$1&&($21f1aa98acb08317$export$16792effe837dba3(e$1)||e$1.pointerType===`touch`||e$1.pointerType===`virtual`)?manager.toggleSelection(key):manager.replaceSelection(key)}};(0,import_react.useEffect)(()=>{key===manager.focusedKey&&manager.isFocused&&(shouldUseVirtualFocus?$55f9b1ae81f22853$export$76e4e37e5339496d(ref.current):focus?focus():document.activeElement!==ref.current&&ref.current&&$3ad3f6e1647bc98d$export$80f3e147d781571c(ref.current))},[ref,key,manager.focusedKey,manager.childFocusStrategy,manager.isFocused,shouldUseVirtualFocus]),isDisabled||=manager.isDisabled(key);let itemProps={};!shouldUseVirtualFocus&&!isDisabled?itemProps={tabIndex:key===manager.focusedKey?0:-1,onFocus(e$1){e$1.target===ref.current&&manager.setFocusedKey(key)}}:isDisabled&&(itemProps.onMouseDown=e$1=>{e$1.preventDefault()});let isLinkOverride=manager.isLink(key)&&linkBehavior===`override`,isActionOverride=onAction&&options.UNSTABLE_itemBehavior===`action`,hasLinkAction=manager.isLink(key)&&linkBehavior!==`selection`&&linkBehavior!==`none`,allowsSelection=!isDisabled&&manager.canSelectItem(key)&&!isLinkOverride&&!isActionOverride,allowsActions=(onAction||hasLinkAction)&&!isDisabled,hasPrimaryAction=allowsActions&&(manager.selectionBehavior===`replace`?!allowsSelection:!allowsSelection||manager.isEmpty),hasSecondaryAction=allowsActions&&allowsSelection&&manager.selectionBehavior===`replace`,hasAction=hasPrimaryAction||hasSecondaryAction,modality=(0,import_react.useRef)(null),longPressEnabled=hasAction&&allowsSelection,longPressEnabledOnPressStart=(0,import_react.useRef)(!1),hadPrimaryActionOnPressStart=(0,import_react.useRef)(!1),collectionItemProps=manager.getItemProps(key),performAction=e$1=>{if(onAction){var _ref_current;onAction(),(_ref_current=ref.current)==null||_ref_current.dispatchEvent(new CustomEvent(`react-aria-item-action`,{bubbles:!0}))}hasLinkAction&&ref.current&&router.open(ref.current,e$1,collectionItemProps.href,collectionItemProps.routerOptions)},itemPressProps={ref};if(shouldSelectOnPressUp?(itemPressProps.onPressStart=e$1=>{modality.current=e$1.pointerType,longPressEnabledOnPressStart.current=longPressEnabled,e$1.pointerType===`keyboard`&&(!hasAction||$880e95eb8b93ba9a$var$isSelectionKey())&&onSelect(e$1)},allowsDifferentPressOrigin?(itemPressProps.onPressUp=hasPrimaryAction?void 0:e$1=>{e$1.pointerType===`mouse`&&allowsSelection&&onSelect(e$1)},itemPressProps.onPress=hasPrimaryAction?performAction:e$1=>{e$1.pointerType!==`keyboard`&&e$1.pointerType!==`mouse`&&allowsSelection&&onSelect(e$1)}):itemPressProps.onPress=e$1=>{if(hasPrimaryAction||hasSecondaryAction&&e$1.pointerType!==`mouse`){if(e$1.pointerType===`keyboard`&&!$880e95eb8b93ba9a$var$isActionKey())return;performAction(e$1)}else e$1.pointerType!==`keyboard`&&allowsSelection&&onSelect(e$1)}):(itemPressProps.onPressStart=e$1=>{modality.current=e$1.pointerType,longPressEnabledOnPressStart.current=longPressEnabled,hadPrimaryActionOnPressStart.current=hasPrimaryAction,allowsSelection&&(e$1.pointerType===`mouse`&&!hasPrimaryAction||e$1.pointerType===`keyboard`&&(!allowsActions||$880e95eb8b93ba9a$var$isSelectionKey()))&&onSelect(e$1)},itemPressProps.onPress=e$1=>{(e$1.pointerType===`touch`||e$1.pointerType===`pen`||e$1.pointerType===`virtual`||e$1.pointerType===`keyboard`&&hasAction&&$880e95eb8b93ba9a$var$isActionKey()||e$1.pointerType===`mouse`&&hadPrimaryActionOnPressStart.current)&&(hasAction?performAction(e$1):allowsSelection&&onSelect(e$1))}),itemProps[`data-collection`]=$feb5ffebff200149$export$6aeb1680a0ae8741(manager.collection),itemProps[`data-key`]=key,itemPressProps.preventFocusOnPress=shouldUseVirtualFocus,shouldUseVirtualFocus&&(itemPressProps=$3ef42575df84b30b$export$9d1611c77c2fe928(itemPressProps,{onPressStart(e$1){e$1.pointerType!==`touch`&&(manager.setFocused(!0),manager.setFocusedKey(key))},onPress(e$1){e$1.pointerType===`touch`&&(manager.setFocused(!0),manager.setFocusedKey(key))}})),collectionItemProps)for(let key$1 of[`onPressStart`,`onPressEnd`,`onPressChange`,`onPress`,`onPressUp`,`onClick`])collectionItemProps[key$1]&&(itemPressProps[key$1]=$ff5963eb1fccf552$export$e08e3b67e392101e(itemPressProps[key$1],collectionItemProps[key$1]));let{pressProps,isPressed}=$f6c31cce2adf654f$export$45712eceda6fad21(itemPressProps),onDoubleClick=hasSecondaryAction?e$1=>{modality.current===`mouse`&&(e$1.stopPropagation(),e$1.preventDefault(),performAction(e$1))}:void 0,{longPressProps}=$8a26561d2877236e$export$c24ed0104d07eab9({isDisabled:!longPressEnabled,onLongPress(e$1){e$1.pointerType===`touch`&&(onSelect(e$1),manager.setSelectionBehavior(`toggle`))}}),onDragStartCapture=e$1=>{modality.current===`touch`&&longPressEnabledOnPressStart.current&&e$1.preventDefault()},onClick=linkBehavior!==`none`&&manager.isLink(key)?e$1=>{$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening||e$1.preventDefault()}:void 0;return{itemProps:$3ef42575df84b30b$export$9d1611c77c2fe928(itemProps,allowsSelection||hasPrimaryAction||shouldUseVirtualFocus&&!isDisabled?pressProps:{},longPressEnabled?longPressProps:{},{onDoubleClick,onDragStartCapture,onClick,id},shouldUseVirtualFocus?{onMouseDown:e$1=>e$1.preventDefault()}:void 0),isPressed,isSelected:manager.isSelected(key),isFocused:manager.isFocused&&manager.focusedKey===key,isDisabled,allowsSelection,hasAction}}function $880e95eb8b93ba9a$var$isActionKey(){return window.event?.key===`Enter`}function $880e95eb8b93ba9a$var$isSelectionKey(){let event=window.event;return event?.key===` `||event?.code===`Space`}var $eb2240fc39a57fa5$export$bf788dd355e3a401=class{build(props,context){return this.context=context,$eb2240fc39a57fa5$var$iterable(()=>this.iterateCollection(props))}*iterateCollection(props){let{children,items}=props;if(import_react.isValidElement(children)&&children.type===import_react.Fragment)yield*this.iterateCollection({children:children.props.children,items});else if(typeof children==`function`){if(!items)throw Error(`props.children was a function but props.items is missing`);let index=0;for(let item of items)yield*this.getFullNode({value:item,index},{renderer:children}),index++}else{let items$1=[];import_react.Children.forEach(children,child=>{child&&items$1.push(child)});let index=0;for(let item of items$1){let nodes=this.getFullNode({element:item,index},{});for(let node of nodes)index++,yield node}}}getKey(item,partialNode,state,parentKey){if(item.key!=null)return item.key;if(partialNode.type===`cell`&&partialNode.key!=null)return`${parentKey}${partialNode.key}`;let v$1=partialNode.value;if(v$1!=null){var _v_key;let key=v$1.key??v$1.id;if(key==null)throw Error(`No key found for item`);return key}return parentKey?`${parentKey}.${partialNode.index}`:`$.${partialNode.index}`}getChildState(state,partialNode){return{renderer:partialNode.renderer||state.renderer}}*getFullNode(partialNode,state,parentKey,parentNode){if(import_react.isValidElement(partialNode.element)&&partialNode.element.type===import_react.Fragment){let children=[];import_react.Children.forEach(partialNode.element.props.children,child=>{children.push(child)});var _partialNode_index;let index=partialNode.index??0;for(let child of children)yield*this.getFullNode({element:child,index:index++},state,parentKey,parentNode);return}let element=partialNode.element;if(!element&&partialNode.value&&state&&state.renderer){let cached$1=this.cache.get(partialNode.value);if(cached$1&&(!cached$1.shouldInvalidate||!cached$1.shouldInvalidate(this.context))){cached$1.index=partialNode.index,cached$1.parentKey=parentNode?parentNode.key:null,yield cached$1;return}element=state.renderer(partialNode.value)}if(import_react.isValidElement(element)){let type=element.type;if(typeof type!=`function`&&typeof type.getCollectionNode!=`function`){let name=element.type;throw Error(`Unknown element <${name}> in collection.`)}let childNodes=type.getCollectionNode(element.props,this.context);var _partialNode_index1;let index=partialNode.index??0,result=childNodes.next();for(;!result.done&&result.value;){let childNode=result.value;partialNode.index=index;var _childNode_key;let nodeKey=childNode.key??null;nodeKey??=childNode.element?null:this.getKey(element,partialNode,state,parentKey);let children=[...this.getFullNode({...childNode,key:nodeKey,index,wrapper:$eb2240fc39a57fa5$var$compose(partialNode.wrapper,childNode.wrapper)},this.getChildState(state,childNode),parentKey?`${parentKey}${element.key}`:element.key,parentNode)];for(let node$1 of children){var _childNode_value,_ref;node$1.value=childNode.value??partialNode.value??null,node$1.value&&this.cache.set(node$1.value,node$1);var _parentNode_type;if(partialNode.type&&node$1.type!==partialNode.type)throw Error(`Unsupported type <${$eb2240fc39a57fa5$var$capitalize(node$1.type)}> in <${$eb2240fc39a57fa5$var$capitalize(parentNode?.type??`unknown parent type`)}>. Only <${$eb2240fc39a57fa5$var$capitalize(partialNode.type)}> is supported.`);index++,yield node$1}result=childNodes.next(children)}return}if(partialNode.key==null||partialNode.type==null)return;let builder=this;var _partialNode_value,_partialNode_textValue;let node={type:partialNode.type,props:partialNode.props,key:partialNode.key,parentKey:parentNode?parentNode.key:null,value:partialNode.value??null,level:parentNode?parentNode.level+1:0,index:partialNode.index,rendered:partialNode.rendered,textValue:partialNode.textValue??``,"aria-label":partialNode[`aria-label`],wrapper:partialNode.wrapper,shouldInvalidate:partialNode.shouldInvalidate,hasChildNodes:partialNode.hasChildNodes||!1,childNodes:$eb2240fc39a57fa5$var$iterable(function*(){if(!partialNode.hasChildNodes||!partialNode.childNodes)return;let index=0;for(let child of partialNode.childNodes()){child.key!=null&&(child.key=`${node.key}${child.key}`);let nodes=builder.getFullNode({...child,index},builder.getChildState(state,child),node.key,node);for(let node$1 of nodes)index++,yield node$1}})};yield node}constructor(){this.cache=new WeakMap}};function $eb2240fc39a57fa5$var$iterable(iterator$1){let cache=[],iterable=null;return{*[Symbol.iterator](){for(let item of cache)yield item;iterable||=iterator$1();for(let item of iterable)cache.push(item),yield item}}}function $eb2240fc39a57fa5$var$compose(outer,inner){if(outer&&inner)return element=>outer(inner(element));if(outer)return outer;if(inner)return inner}function $eb2240fc39a57fa5$var$capitalize(str){return str[0].toUpperCase()+str.slice(1)}function $7613b1592d41b092$export$6cd28814d92fa9c9(props,factory$1,context){let builder=(0,import_react.useMemo)(()=>new $eb2240fc39a57fa5$export$bf788dd355e3a401,[]),{children,items,collection}=props;return(0,import_react.useMemo)(()=>collection||factory$1(builder.build({children,items},context)),[builder,children,items,collection,context,factory$1])}function $c5a24bc478652b5f$export$1005530eda016c13(node,collection){return typeof collection.getChildren==`function`?collection.getChildren(node.key):node.childNodes}function $c5a24bc478652b5f$export$fbdeaa6a76694f71(iterable){return $c5a24bc478652b5f$export$5f3398f8733f90e2(iterable,0)}function $c5a24bc478652b5f$export$5f3398f8733f90e2(iterable,index){if(index<0)return;let i$1=0;for(let item of iterable){if(i$1===index)return item;i$1++}}function $c5a24bc478652b5f$export$8c434b3a7a4dad6(collection,a$2,b$2){if(a$2.parentKey===b$2.parentKey)return a$2.index-b$2.index;let aAncestors=[...$c5a24bc478652b5f$var$getAncestors(collection,a$2),a$2],bAncestors=[...$c5a24bc478652b5f$var$getAncestors(collection,b$2),b$2],firstNonMatchingAncestor=aAncestors.slice(0,bAncestors.length).findIndex((a$3,i$1)=>a$3!==bAncestors[i$1]);return firstNonMatchingAncestor===-1?aAncestors.findIndex(node=>node===b$2)>=0?1:(bAncestors.findIndex(node=>node===a$2),-1):(a$2=aAncestors[firstNonMatchingAncestor],b$2=bAncestors[firstNonMatchingAncestor],a$2.index-b$2.index)}function $c5a24bc478652b5f$var$getAncestors(collection,node){let parents=[],currNode=node;for(;currNode?.parentKey!=null;)currNode=collection.getItem(currNode.parentKey),currNode&&parents.unshift(currNode);return parents}var $e5be200c675c3b3a$export$aca958c65c314e6c={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},$e5be200c675c3b3a$var$CUSTOM_VALIDITY_STATE={...$e5be200c675c3b3a$export$aca958c65c314e6c,customError:!0,valid:!1},$e5be200c675c3b3a$export$dad6ae84456c676a={isInvalid:!1,validationDetails:$e5be200c675c3b3a$export$aca958c65c314e6c,validationErrors:[]},$e5be200c675c3b3a$export$571b5131b7e65c11=(0,import_react.createContext)({}),$e5be200c675c3b3a$export$a763b9476acd3eb=`__formValidationState`+Date.now();function $e5be200c675c3b3a$export$fc1a364ae1f3ff10(props){if(props[$e5be200c675c3b3a$export$a763b9476acd3eb]){let{realtimeValidation,displayValidation,updateValidation,resetValidation,commitValidation}=props[$e5be200c675c3b3a$export$a763b9476acd3eb];return{realtimeValidation,displayValidation,updateValidation,resetValidation,commitValidation}}return $e5be200c675c3b3a$var$useFormValidationStateImpl(props)}function $e5be200c675c3b3a$var$useFormValidationStateImpl(props){let{isInvalid,validationState,name,value,builtinValidation,validate,validationBehavior=`aria`}=props;validationState&&(isInvalid||=validationState===`invalid`);let controlledError=isInvalid===void 0?null:{isInvalid,validationErrors:[],validationDetails:$e5be200c675c3b3a$var$CUSTOM_VALIDITY_STATE},clientError=(0,import_react.useMemo)(()=>!validate||value==null?null:$e5be200c675c3b3a$var$getValidationResult($e5be200c675c3b3a$var$runValidate(validate,value)),[validate,value]);builtinValidation?.validationDetails.valid&&(builtinValidation=void 0);let serverErrors=(0,import_react.useContext)($e5be200c675c3b3a$export$571b5131b7e65c11),serverErrorMessages=(0,import_react.useMemo)(()=>name?Array.isArray(name)?name.flatMap(name$1=>$e5be200c675c3b3a$var$asArray(serverErrors[name$1])):$e5be200c675c3b3a$var$asArray(serverErrors[name]):[],[serverErrors,name]),[lastServerErrors,setLastServerErrors]=(0,import_react.useState)(serverErrors),[isServerErrorCleared,setServerErrorCleared]=(0,import_react.useState)(!1);serverErrors!==lastServerErrors&&(setLastServerErrors(serverErrors),setServerErrorCleared(!1));let serverError=(0,import_react.useMemo)(()=>$e5be200c675c3b3a$var$getValidationResult(isServerErrorCleared?[]:serverErrorMessages),[isServerErrorCleared,serverErrorMessages]),nextValidation=(0,import_react.useRef)($e5be200c675c3b3a$export$dad6ae84456c676a),[currentValidity,setCurrentValidity]=(0,import_react.useState)($e5be200c675c3b3a$export$dad6ae84456c676a),lastError=(0,import_react.useRef)($e5be200c675c3b3a$export$dad6ae84456c676a),commitValidation=()=>{if(!commitQueued)return;setCommitQueued(!1);let error=clientError||builtinValidation||nextValidation.current;$e5be200c675c3b3a$var$isEqualValidation(error,lastError.current)||(lastError.current=error,setCurrentValidity(error))},[commitQueued,setCommitQueued]=(0,import_react.useState)(!1);return(0,import_react.useEffect)(commitValidation),{realtimeValidation:controlledError||serverError||clientError||builtinValidation||$e5be200c675c3b3a$export$dad6ae84456c676a,displayValidation:validationBehavior===`native`?controlledError||serverError||currentValidity:controlledError||serverError||clientError||builtinValidation||currentValidity,updateValidation(value$1){validationBehavior===`aria`&&!$e5be200c675c3b3a$var$isEqualValidation(currentValidity,value$1)?setCurrentValidity(value$1):nextValidation.current=value$1},resetValidation(){let error=$e5be200c675c3b3a$export$dad6ae84456c676a;$e5be200c675c3b3a$var$isEqualValidation(error,lastError.current)||(lastError.current=error,setCurrentValidity(error)),validationBehavior===`native`&&setCommitQueued(!1),setServerErrorCleared(!0)},commitValidation(){validationBehavior===`native`&&setCommitQueued(!0),setServerErrorCleared(!0)}}}function $e5be200c675c3b3a$var$asArray(v$1){return v$1?Array.isArray(v$1)?v$1:[v$1]:[]}function $e5be200c675c3b3a$var$runValidate(validate,value){if(typeof validate==`function`){let e$1=validate(value);if(e$1&&typeof e$1!=`boolean`)return $e5be200c675c3b3a$var$asArray(e$1)}return[]}function $e5be200c675c3b3a$var$getValidationResult(errors){return errors.length?{isInvalid:!0,validationErrors:errors,validationDetails:$e5be200c675c3b3a$var$CUSTOM_VALIDITY_STATE}:null}function $e5be200c675c3b3a$var$isEqualValidation(a$2,b$2){return a$2===b$2?!0:!!a$2&&!!b$2&&a$2.isInvalid===b$2.isInvalid&&a$2.validationErrors.length===b$2.validationErrors.length&&a$2.validationErrors.every((a$3,i$1)=>a$3===b$2.validationErrors[i$1])&&Object.entries(a$2.validationDetails).every(([k$1,v$1])=>b$2.validationDetails[k$1]===v$1)}function $e93e671b31057976$export$b8473d3665f3a75a(props,state,ref){let{validationBehavior,focus}=props;$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(validationBehavior===`native`&&ref?.current&&!ref.current.disabled){let errorMessage=state.realtimeValidation.isInvalid?state.realtimeValidation.validationErrors.join(` `)||`Invalid value.`:``;ref.current.setCustomValidity(errorMessage),ref.current.hasAttribute(`title`)||(ref.current.title=``),state.realtimeValidation.isInvalid||state.updateValidation($e93e671b31057976$var$getNativeValidity(ref.current))}});let isIgnoredReset=(0,import_react.useRef)(!1),onReset=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{isIgnoredReset.current||state.resetValidation()}),onInvalid=$8ae05eaa5c114e9c$export$7f54fc3180508a52(e$1=>{var _ref_current;state.displayValidation.isInvalid||state.commitValidation();let form=ref?.current?.form;if(!e$1.defaultPrevented&&ref&&form&&$e93e671b31057976$var$getFirstInvalidInput(form)===ref.current){var _ref_current1;focus?focus():(_ref_current1=ref.current)==null||_ref_current1.focus(),$507fabe10e71c6fb$export$8397ddfc504fdb9a(`keyboard`)}e$1.preventDefault()}),onChange=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{state.commitValidation()});(0,import_react.useEffect)(()=>{let input=ref?.current;if(!input)return;let form=input.form,reset=form?.reset;return form&&(form.reset=()=>{isIgnoredReset.current=!window.event||window.event.type===`message`&&window.event.target instanceof MessagePort,reset?.call(form),isIgnoredReset.current=!1}),input.addEventListener(`invalid`,onInvalid),input.addEventListener(`change`,onChange),form?.addEventListener(`reset`,onReset),()=>{input.removeEventListener(`invalid`,onInvalid),input.removeEventListener(`change`,onChange),form?.removeEventListener(`reset`,onReset),form&&(form.reset=reset)}},[ref,validationBehavior])}function $e93e671b31057976$var$getValidity(input){let validity=input.validity;return{badInput:validity.badInput,customError:validity.customError,patternMismatch:validity.patternMismatch,rangeOverflow:validity.rangeOverflow,rangeUnderflow:validity.rangeUnderflow,stepMismatch:validity.stepMismatch,tooLong:validity.tooLong,tooShort:validity.tooShort,typeMismatch:validity.typeMismatch,valueMissing:validity.valueMissing,valid:validity.valid}}function $e93e671b31057976$var$getNativeValidity(input){return{isInvalid:!input.validity.valid,validationDetails:$e93e671b31057976$var$getValidity(input),validationErrors:input.validationMessage?[input.validationMessage]:[]}}function $e93e671b31057976$var$getFirstInvalidInput(form){for(let i$1=0;i$1<form.elements.length;i$1++){let element=form.elements[i$1];if(!element.validity.valid)return element}return null}function $2d73ec29415bd339$export$712718f7aec83d5(props,ref){let{inputElementType=`input`,isDisabled=!1,isRequired=!1,isReadOnly=!1,type=`text`,validationBehavior=`aria`}=props,[value,setValue]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(props.value,props.defaultValue||``,props.onChange),{focusableProps}=$f645667febf57a63$export$4c014de7c8940b4c(props,ref),validationState=$e5be200c675c3b3a$export$fc1a364ae1f3ff10({...props,value}),{isInvalid,validationErrors,validationDetails}=validationState.displayValidation,{labelProps,fieldProps,descriptionProps,errorMessageProps}=$2baaea4c71418dea$export$294aa081a6c6f55d({...props,isInvalid,errorMessage:props.errorMessage||validationErrors}),domProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{labelable:!0}),inputOnlyProps={type,pattern:props.pattern},[initialValue]=(0,import_react.useState)(value);var _props_defaultValue;return $99facab73266f662$export$5add1d006293d136(ref,props.defaultValue??initialValue,setValue),$e93e671b31057976$export$b8473d3665f3a75a(props,validationState,ref),{labelProps,inputProps:$3ef42575df84b30b$export$9d1611c77c2fe928(domProps,inputElementType===`input`?inputOnlyProps:void 0,{disabled:isDisabled,readOnly:isReadOnly,required:isRequired&&validationBehavior===`native`,"aria-required":isRequired&&validationBehavior===`aria`||void 0,"aria-invalid":isInvalid||void 0,"aria-errormessage":props[`aria-errormessage`],"aria-activedescendant":props[`aria-activedescendant`],"aria-autocomplete":props[`aria-autocomplete`],"aria-haspopup":props[`aria-haspopup`],"aria-controls":props[`aria-controls`],value,onChange:e$1=>setValue(e$1.target.value),autoComplete:props.autoComplete,autoCapitalize:props.autoCapitalize,maxLength:props.maxLength,minLength:props.minLength,name:props.name,form:props.form,placeholder:props.placeholder,inputMode:props.inputMode,autoCorrect:props.autoCorrect,spellCheck:props.spellCheck,enterKeyHint:props.enterKeyHint,onCopy:props.onCopy,onCut:props.onCut,onPaste:props.onPaste,onCompositionEnd:props.onCompositionEnd,onCompositionStart:props.onCompositionStart,onCompositionUpdate:props.onCompositionUpdate,onSelect:props.onSelect,onBeforeInput:props.onBeforeInput,onInput:props.onInput,...focusableProps,...fieldProps}),descriptionProps,errorMessageProps,isInvalid,validationErrors,validationDetails}}var $23b9f4fcf0fe224b$export$d68d59712b04d9d1=class{get childNodes(){throw Error(`childNodes is not supported`)}clone(){let node=new this.constructor(this.key);return node.value=this.value,node.level=this.level,node.hasChildNodes=this.hasChildNodes,node.rendered=this.rendered,node.textValue=this.textValue,node[`aria-label`]=this[`aria-label`],node.index=this.index,node.parentKey=this.parentKey,node.prevKey=this.prevKey,node.nextKey=this.nextKey,node.firstChildKey=this.firstChildKey,node.lastChildKey=this.lastChildKey,node.props=this.props,node.render=this.render,node.colSpan=this.colSpan,node.colIndex=this.colIndex,node}filter(collection,newCollection,filterFn){let clone$1=this.clone();return newCollection.addDescendants(clone$1,collection),clone$1}constructor(key){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue=``,this[`aria-label`]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=this.constructor.type,this.key=key}},$23b9f4fcf0fe224b$export$b1918e978f1ee46f=class extends $23b9f4fcf0fe224b$export$d68d59712b04d9d1{filter(collection,newCollection,filterFn){let[firstKey,lastKey]=$23b9f4fcf0fe224b$var$filterChildren(collection,newCollection,this.firstChildKey,filterFn),newNode=this.clone();return newNode.firstChildKey=firstKey,newNode.lastChildKey=lastKey,newNode}},$23b9f4fcf0fe224b$export$5ae2504e948afce5=class extends $23b9f4fcf0fe224b$export$d68d59712b04d9d1{};$23b9f4fcf0fe224b$export$5ae2504e948afce5.type=`header`;var $23b9f4fcf0fe224b$export$8258a0665a675899=class extends $23b9f4fcf0fe224b$export$d68d59712b04d9d1{};$23b9f4fcf0fe224b$export$8258a0665a675899.type=`loader`;var $23b9f4fcf0fe224b$export$fd11f34e1d07f134=class extends $23b9f4fcf0fe224b$export$b1918e978f1ee46f{filter(collection,newCollection,filterFn){if(filterFn(this.textValue,this)){let clone$1=this.clone();return newCollection.addDescendants(clone$1,collection),clone$1}return null}};$23b9f4fcf0fe224b$export$fd11f34e1d07f134.type=`item`;var $23b9f4fcf0fe224b$export$437f11dc9b403b78=class extends $23b9f4fcf0fe224b$export$b1918e978f1ee46f{filter(collection,newCollection,filterFn){let filteredSection=super.filter(collection,newCollection,filterFn);if(filteredSection&&filteredSection.lastChildKey!==null){let lastChild=collection.getItem(filteredSection.lastChildKey);if(lastChild&&lastChild.type!==`header`)return filteredSection}return null}};$23b9f4fcf0fe224b$export$437f11dc9b403b78.type=`section`;var $23b9f4fcf0fe224b$export$408d25a4e12db025=class{get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let node=this.firstKey==null?void 0:this.keyMap.get(this.firstKey);for(;node;)yield node,node=node.nextKey==null?void 0:this.keyMap.get(node.nextKey)}getChildren(key){let keyMap=this.keyMap;return{*[Symbol.iterator](){let parent=keyMap.get(key),node=parent?.firstChildKey==null?null:keyMap.get(parent.firstChildKey);for(;node;)yield node,node=node.nextKey==null?void 0:keyMap.get(node.nextKey)}}}getKeyBefore(key){let node=this.keyMap.get(key);if(!node)return null;if(node.prevKey!=null){for(node=this.keyMap.get(node.prevKey);node&&node.type!==`item`&&node.lastChildKey!=null;)node=this.keyMap.get(node.lastChildKey);var _node_key;return node?.key??null}return node.parentKey}getKeyAfter(key){let node=this.keyMap.get(key);if(!node)return null;if(node.type!==`item`&&node.firstChildKey!=null)return node.firstChildKey;for(;node;){if(node.nextKey!=null)return node.nextKey;if(node.parentKey!=null)node=this.keyMap.get(node.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let node=this.lastKey==null?null:this.keyMap.get(this.lastKey);for(;node?.lastChildKey!=null;)node=this.keyMap.get(node.lastChildKey);var _node_key;return node?.key??null}getItem(key){var _this_keyMap_get;return this.keyMap.get(key)??null}at(){throw Error(`Not implemented`)}clone(){let Constructor=this.constructor,collection=new Constructor;return collection.keyMap=new Map(this.keyMap),collection.firstKey=this.firstKey,collection.lastKey=this.lastKey,collection.itemCount=this.itemCount,collection}addNode(node){if(this.frozen)throw Error(`Cannot add a node to a frozen collection`);node.type===`item`&&this.keyMap.get(node.key)==null&&this.itemCount++,this.keyMap.set(node.key,node)}addDescendants(node,oldCollection){this.addNode(node);let children=oldCollection.getChildren(node.key);for(let child of children)this.addDescendants(child,oldCollection)}removeNode(key){if(this.frozen)throw Error(`Cannot remove a node to a frozen collection`);let node=this.keyMap.get(key);node!=null&&node.type===`item`&&this.itemCount--,this.keyMap.delete(key)}commit(firstKey,lastKey,isSSR=!1){if(this.frozen)throw Error(`Cannot commit a frozen collection`);this.firstKey=firstKey,this.lastKey=lastKey,this.frozen=!isSSR}filter(filterFn){let newCollection=new this.constructor,[firstKey,lastKey]=$23b9f4fcf0fe224b$var$filterChildren(this,newCollection,this.firstKey,filterFn);return newCollection?.commit(firstKey,lastKey),newCollection}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1,this.itemCount=0}};function $23b9f4fcf0fe224b$var$filterChildren(collection,newCollection,firstChildKey,filterFn){if(firstChildKey==null)return[null,null];let firstNode=null,lastNode=null,currentNode=collection.getItem(firstChildKey);for(;currentNode!=null;){let newNode=currentNode.filter(collection,newCollection,filterFn);newNode!=null&&(newNode.nextKey=null,lastNode&&(newNode.prevKey=lastNode.key,lastNode.nextKey=newNode.key),firstNode??=newNode,newCollection.addNode(newNode),lastNode=newNode),currentNode=currentNode.nextKey?collection.getItem(currentNode.nextKey):null}if(lastNode&&lastNode.type===`separator`){let prevKey=lastNode.prevKey;newCollection.removeNode(lastNode.key),prevKey?(lastNode=newCollection.getItem(prevKey),lastNode.nextKey=null):lastNode=null}var _firstNode_key,_lastNode_key;return[firstNode?.key??null,lastNode?.key??null]}var $681cc3c98f569e39$export$410b0c854570d131=class{*[Symbol.iterator](){let node=this.firstChild;for(;node;)yield node,node=node.nextSibling}get firstChild(){return this._firstChild}set firstChild(firstChild){this._firstChild=firstChild,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(lastChild){this._lastChild=lastChild,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(previousSibling){this._previousSibling=previousSibling,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(nextSibling){this._nextSibling=nextSibling,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(parentNode){this._parentNode=parentNode,this.ownerDocument.markDirty(this)}get isConnected(){var _this_parentNode;return this.parentNode?.isConnected||!1}invalidateChildIndices(child){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||child.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=child,this.ownerDocument.markDirty(this))}updateChildIndices(){let node=this._minInvalidChildIndex;for(;node;)node.index=node.previousSibling?node.previousSibling.index+1:0,node=node.nextSibling;this._minInvalidChildIndex=null}appendChild(child){child.parentNode&&child.parentNode.removeChild(child),this.firstChild??=child,this.lastChild?(this.lastChild.nextSibling=child,child.index=this.lastChild.index+1,child.previousSibling=this.lastChild):(child.previousSibling=null,child.index=0),child.parentNode=this,child.nextSibling=null,this.lastChild=child,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(newNode,referenceNode){if(referenceNode==null)return this.appendChild(newNode);newNode.parentNode&&newNode.parentNode.removeChild(newNode),newNode.nextSibling=referenceNode,newNode.previousSibling=referenceNode.previousSibling,newNode.index=referenceNode.index-1,this.firstChild===referenceNode?this.firstChild=newNode:referenceNode.previousSibling&&(referenceNode.previousSibling.nextSibling=newNode),referenceNode.previousSibling=newNode,newNode.parentNode=referenceNode.parentNode,this.invalidateChildIndices(newNode),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(child){child.parentNode===this&&(this._minInvalidChildIndex===child&&(this._minInvalidChildIndex=null),child.nextSibling&&(this.invalidateChildIndices(child.nextSibling),child.nextSibling.previousSibling=child.previousSibling),child.previousSibling&&(child.previousSibling.nextSibling=child.nextSibling),this.firstChild===child&&(this.firstChild=child.nextSibling),this.lastChild===child&&(this.lastChild=child.previousSibling),child.parentNode=null,child.nextSibling=null,child.previousSibling=null,child.index=0,this.ownerDocument.markDirty(child),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let node=this.previousSibling;for(;node&&node.isHidden;)node=node.previousSibling;return node}get nextVisibleSibling(){let node=this.nextSibling;for(;node&&node.isHidden;)node=node.nextSibling;return node}get firstVisibleChild(){let node=this.firstChild;for(;node&&node.isHidden;)node=node.nextSibling;return node}get lastVisibleChild(){let node=this.lastChild;for(;node&&node.isHidden;)node=node.previousSibling;return node}constructor(ownerDocument){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=ownerDocument}},$681cc3c98f569e39$export$dc064fe9e59310fd=class $681cc3c98f569e39$export$dc064fe9e59310fd extends $681cc3c98f569e39$export$410b0c854570d131{get index(){return this._index}set index(index){this._index=index,this.ownerDocument.markDirty(this)}get level(){var _this_node;return this.parentNode instanceof $681cc3c98f569e39$export$dc064fe9e59310fd?this.parentNode.level+(this.node?.type===`item`?1:0):0}getMutableNode(){return this.node==null?null:(this.isMutated||=(this.node=this.node.clone(),!0),this.ownerDocument.markDirty(this),this.node)}updateNode(){var _this_parentNode_node,_this_previousVisibleSibling_node,_this_previousVisibleSibling,_nextSibling_node,_this_firstVisibleChild_node,_this_firstVisibleChild,_this_lastVisibleChild_node,_this_lastVisibleChild;let nextSibling=this.nextVisibleSibling,node=this.getMutableNode();if(node!=null){node.index=this.index,node.level=this.level;var _this_parentNode_node_key;node.parentKey=this.parentNode instanceof $681cc3c98f569e39$export$dc064fe9e59310fd?this.parentNode.node?.key??null:null;var _this_previousVisibleSibling_node_key;node.prevKey=this.previousVisibleSibling?.node?.key??null;var _nextSibling_node_key;node.nextKey=nextSibling?.node?.key??null,node.hasChildNodes=!!this.firstChild;var _this_firstVisibleChild_node_key;node.firstChildKey=this.firstVisibleChild?.node?.key??null;var _this_lastVisibleChild_node_key;if(node.lastChildKey=this.lastVisibleChild?.node?.key??null,(node.colSpan!=null||node.colIndex!=null)&&nextSibling){var _node_colIndex,_node_colSpan;let nextColIndex=(node.colIndex??node.index)+(node.colSpan??1);if(nextSibling.node!=null&&nextColIndex!==nextSibling.node.colIndex){let siblingNode=nextSibling.getMutableNode();siblingNode.colIndex=nextColIndex}}}}setProps(obj,ref,CollectionNodeClass,rendered,render){let node,{value:value1,textValue,id,...props}=obj;if(this.node==null?(node=new CollectionNodeClass(id??`react-aria-${++this.ownerDocument.nodeId}`),this.node=node):node=this.getMutableNode(),props.ref=ref,node.props=props,node.rendered=rendered,node.render=render,node.value=value1,obj[`aria-label`]&&(node[`aria-label`]=obj[`aria-label`]),node.textValue=textValue||(typeof props.children==`string`?props.children:``)||obj[`aria-label`]||``,id!=null&&id!==node.key)throw Error(`Cannot change the id of an item`);props.colSpan!=null&&(node.colSpan=props.colSpan),this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let element=this;return{get display(){return element.isHidden?`none`:``},set display(value){let isHidden=value===`none`;if(element.isHidden!==isHidden){var _element_parentNode,_element_parentNode1;(element.parentNode?.firstVisibleChild===element||element.parentNode?.lastVisibleChild===element)&&element.ownerDocument.markDirty(element.parentNode);let prev=element.previousVisibleSibling,next=element.nextVisibleSibling;prev&&element.ownerDocument.markDirty(prev),next&&element.ownerDocument.markDirty(next),element.isHidden=isHidden,element.ownerDocument.markDirty(element)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(type,ownerDocument){super(ownerDocument),this.nodeType=8,this.isMutated=!0,this._index=0,this.isHidden=!1,this.node=null}},$681cc3c98f569e39$export$b34a105447964f9f=class extends $681cc3c98f569e39$export$410b0c854570d131{get isConnected(){return!0}createElement(type){return new $681cc3c98f569e39$export$dc064fe9e59310fd(type,this)}getMutableCollection(){return this.nextCollection||=this.collection.clone(),this.nextCollection}markDirty(node){this.dirtyNodes.add(node)}addNode(element){if(element.isHidden||element.node==null)return;let collection=this.getMutableCollection();if(!collection.getItem(element.node.key))for(let child of element)this.addNode(child);collection.addNode(element.node)}removeNode(node){for(let child of node)this.removeNode(child);node.node&&this.getMutableCollection().removeNode(node.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let element of this.dirtyNodes)element instanceof $681cc3c98f569e39$export$dc064fe9e59310fd&&(!element.isConnected||element.isHidden)?this.removeNode(element):element.updateChildIndices();for(let element of this.dirtyNodes)element instanceof $681cc3c98f569e39$export$dc064fe9e59310fd?(element.isConnected&&!element.isHidden&&(element.updateNode(),this.addNode(element)),element.node&&this.dirtyNodes.delete(element),element.isMutated=!1):this.dirtyNodes.delete(element);if(this.nextCollection){var _this_firstVisibleChild_node,_this_firstVisibleChild,_this_lastVisibleChild_node,_this_lastVisibleChild,_this_firstVisibleChild_node_key,_this_lastVisibleChild_node_key;this.nextCollection.commit(this.firstVisibleChild?.node?.key??null,this.lastVisibleChild?.node?.key??null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let fn of this.subscriptions)fn();this.inSubscription=!1}}subscribe(fn){return this.subscriptions.add(fn),()=>this.subscriptions.delete(fn)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(collection){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=collection,this.nextCollection=collection}};function $e948873055cbafe4$export$727c8fc270210f13(props){let{children,items,idScope,addIdAndValue,dependencies=[]}=props,cache=(0,import_react.useMemo)(()=>new WeakMap,dependencies);return(0,import_react.useMemo)(()=>{if(items&&typeof children==`function`){let res=[];for(let item of items){let rendered=cache.get(item);if(!rendered){rendered=children(item);var _rendered_props_id,_ref;let key=rendered.props.id??item.key??item.id;if(key==null)throw Error(`Could not determine key for item`);idScope!=null&&(key=idScope+`:`+key),rendered=(0,import_react.cloneElement)(rendered,addIdAndValue?{key,id:key,value:item}:{key}),cache.set(item,rendered)}res.push(rendered)}return res}else if(typeof children!=`function`)return children},[children,items,cache,idScope,addIdAndValue])}var import_react_dom$1=require_react_dom(),import_shim=require_shim(),$e1995378a142960e$var$ShallowRenderContext=(0,import_react.createContext)(!1),$e1995378a142960e$var$CollectionDocumentContext=(0,import_react.createContext)(null);function $e1995378a142960e$export$bf788dd355e3a401(props){if((0,import_react.useContext)($e1995378a142960e$var$CollectionDocumentContext))return props.content;let{collection,document:document$1}=$e1995378a142960e$var$useCollectionDocument(props.createCollection);return import_react.createElement(import_react.Fragment,null,import_react.createElement($f39a9eba43920ace$export$8dc98ba7eadeaa56,null,import_react.createElement($e1995378a142960e$var$CollectionDocumentContext.Provider,{value:document$1},props.content)),import_react.createElement($e1995378a142960e$var$CollectionInner,{render:props.children,collection}))}function $e1995378a142960e$var$CollectionInner({collection,render}){return render(collection)}function $e1995378a142960e$var$useSyncExternalStoreFallback(subscribe,getSnapshot,getServerSnapshot){let isSSR=$b5e257d569688ac6$export$535bd6ca7f90a273(),isSSRRef=(0,import_react.useRef)(isSSR);return isSSRRef.current=isSSR,(0,import_shim.useSyncExternalStore)(subscribe,(0,import_react.useCallback)(()=>isSSRRef.current?getServerSnapshot():getSnapshot(),[getSnapshot,getServerSnapshot]))}var $e1995378a142960e$var$useSyncExternalStore=typeof import_react.useSyncExternalStore==`function`?import_react.useSyncExternalStore:$e1995378a142960e$var$useSyncExternalStoreFallback;function $e1995378a142960e$var$useCollectionDocument(createCollection){let[document$1]=(0,import_react.useState)(()=>new $681cc3c98f569e39$export$b34a105447964f9f(createCollection?.()||new $23b9f4fcf0fe224b$export$408d25a4e12db025));return{collection:$e1995378a142960e$var$useSyncExternalStore((0,import_react.useCallback)(fn=>document$1.subscribe(fn),[document$1]),(0,import_react.useCallback)(()=>{let collection=document$1.getCollection();return document$1.isSSR&&document$1.resetAfterSSR(),collection},[document$1]),(0,import_react.useCallback)(()=>(document$1.isSSR=!0,document$1.getCollection()),[document$1])),document:document$1}}var $e1995378a142960e$var$SSRContext=(0,import_react.createContext)(null);function $e1995378a142960e$var$createCollectionNodeClass(type){var _class;return _class=class extends $23b9f4fcf0fe224b$export$d68d59712b04d9d1{},_class.type=type,_class}function $e1995378a142960e$var$useSSRCollectionNode(CollectionNodeClass,props,ref,rendered,children,render){typeof CollectionNodeClass==`string`&&(CollectionNodeClass=$e1995378a142960e$var$createCollectionNodeClass(CollectionNodeClass));let itemRef=(0,import_react.useCallback)(element=>{element?.setProps(props,ref,CollectionNodeClass,rendered,render)},[props,ref,rendered,render,CollectionNodeClass]),parentNode=(0,import_react.useContext)($e1995378a142960e$var$SSRContext);if(parentNode){let element=parentNode.ownerDocument.nodesByProps.get(props);return element||(element=parentNode.ownerDocument.createElement(CollectionNodeClass.type),element.setProps(props,ref,CollectionNodeClass,rendered,render),parentNode.appendChild(element),parentNode.ownerDocument.updateCollection(),parentNode.ownerDocument.nodesByProps.set(props,element)),children?import_react.createElement($e1995378a142960e$var$SSRContext.Provider,{value:element},children):null}return import_react.createElement(CollectionNodeClass.type,{ref:itemRef},children)}function $e1995378a142960e$export$18af5c7a9e9b3664(CollectionNodeClass,render){let Component=({node})=>render(node.props,node.props.ref,node),Result=(0,import_react.forwardRef)((props,ref)=>{let focusableProps=(0,import_react.useContext)($f645667febf57a63$export$f9762fab77588ecb);if(!(0,import_react.useContext)($e1995378a142960e$var$ShallowRenderContext)){if(render.length>=3)throw Error(render.name+` cannot be rendered outside a collection.`);return render(props,ref)}return $e1995378a142960e$var$useSSRCollectionNode(CollectionNodeClass,props,ref,`children`in props?props.children:null,null,node=>import_react.createElement($f645667febf57a63$export$f9762fab77588ecb.Provider,{value:focusableProps},import_react.createElement(Component,{node})))});return Result.displayName=render.name,Result}function $e1995378a142960e$var$useCollectionChildren(options){return $e948873055cbafe4$export$727c8fc270210f13({...options,addIdAndValue:!0})}var $e1995378a142960e$var$CollectionContext=(0,import_react.createContext)(null);function $e1995378a142960e$export$fb8073518f34e6ec(props){let ctx=(0,import_react.useContext)($e1995378a142960e$var$CollectionContext),dependencies=(ctx?.dependencies||[]).concat(props.dependencies);var _props_idScope;let idScope=props.idScope??ctx?.idScope,children=$e1995378a142960e$var$useCollectionChildren({...props,idScope,dependencies});return(0,import_react.useContext)($e1995378a142960e$var$CollectionDocumentContext)&&(children=import_react.createElement($e1995378a142960e$var$CollectionRoot,null,children)),ctx=(0,import_react.useMemo)(()=>({dependencies,idScope}),[idScope,...dependencies]),import_react.createElement($e1995378a142960e$var$CollectionContext.Provider,{value:ctx},children)}function $e1995378a142960e$var$CollectionRoot({children}){let doc=(0,import_react.useContext)($e1995378a142960e$var$CollectionDocumentContext),wrappedChildren=(0,import_react.useMemo)(()=>import_react.createElement($e1995378a142960e$var$CollectionDocumentContext.Provider,{value:null},import_react.createElement($e1995378a142960e$var$ShallowRenderContext.Provider,{value:!0},children)),[children]);return $b5e257d569688ac6$export$535bd6ca7f90a273()?import_react.createElement($e1995378a142960e$var$SSRContext.Provider,{value:doc},wrappedChildren):(0,import_react_dom$1.createPortal)(wrappedChildren,doc)}var $7135fc7d473fd974$export$a164736487e3f0ae={CollectionRoot({collection,renderDropIndicator}){return $7135fc7d473fd974$var$useCollectionRender(collection,null,renderDropIndicator)},CollectionBranch({collection,parent,renderDropIndicator}){return $7135fc7d473fd974$var$useCollectionRender(collection,parent,renderDropIndicator)}};function $7135fc7d473fd974$var$useCollectionRender(collection,parent,renderDropIndicator){return $e948873055cbafe4$export$727c8fc270210f13({items:parent?collection.getChildren(parent.key):collection,dependencies:[renderDropIndicator],children(node){let rendered=node.render(node);return!renderDropIndicator||node.type!==`item`?rendered:import_react.createElement(import_react.Fragment,null,renderDropIndicator({type:`item`,key:node.key,dropPosition:`before`}),rendered,$7135fc7d473fd974$export$2dbbd341daed716d(collection,node,renderDropIndicator))}})}function $7135fc7d473fd974$export$2dbbd341daed716d(collection,node,renderDropIndicator){let key=node.key,keyAfter=collection.getKeyAfter(key),nextItemInFlattenedCollection=keyAfter==null?null:collection.getItem(keyAfter);for(;nextItemInFlattenedCollection!=null&&nextItemInFlattenedCollection.type!==`item`;)keyAfter=collection.getKeyAfter(nextItemInFlattenedCollection.key),nextItemInFlattenedCollection=keyAfter==null?null:collection.getItem(keyAfter);let nextItemInSameLevel=node.nextKey==null?null:collection.getItem(node.nextKey);for(;nextItemInSameLevel!=null&&nextItemInSameLevel.type!==`item`;)nextItemInSameLevel=nextItemInSameLevel.nextKey==null?null:collection.getItem(nextItemInSameLevel.nextKey);let afterIndicators=[];if(nextItemInSameLevel==null){let current=node;for(;current?.type===`item`&&(!nextItemInFlattenedCollection||current.parentKey!==nextItemInFlattenedCollection.parentKey&&nextItemInFlattenedCollection.level<current.level);){let indicator=renderDropIndicator({type:`item`,key:current.key,dropPosition:`after`});(0,import_react.isValidElement)(indicator)&&afterIndicators.push((0,import_react.cloneElement)(indicator,{key:`${current.key}-after`})),current=current.parentKey==null?null:collection.getItem(current.parentKey)}}return afterIndicators}var $7135fc7d473fd974$export$4feb769f8ddf26c5=(0,import_react.createContext)($7135fc7d473fd974$export$a164736487e3f0ae);function $7135fc7d473fd974$export$90e00781bc59d8f9(focusedKey){return(0,import_react.useMemo)(()=>focusedKey==null?null:new Set([focusedKey]),[focusedKey])}function $40df3f8667284809$export$d55e7ee900f34e93(props,ref){let{role=`dialog`}=props,titleId=$bdb11010cef70236$export$b4cc09c592e8fdb8();titleId=props[`aria-label`]?void 0:titleId;let isRefocusing=(0,import_react.useRef)(!1);return(0,import_react.useEffect)(()=>{if(ref.current&&!ref.current.contains(document.activeElement)){$3ad3f6e1647bc98d$export$80f3e147d781571c(ref.current);let timeout=setTimeout(()=>{(document.activeElement===ref.current||document.activeElement===document.body)&&(isRefocusing.current=!0,ref.current&&(ref.current.blur(),$3ad3f6e1647bc98d$export$80f3e147d781571c(ref.current)),isRefocusing.current=!1)},500);return()=>{clearTimeout(timeout)}}},[ref]),$337b884510726a0d$export$14c98a7594375490(),{dialogProps:{...$65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{labelable:!0}),role,tabIndex:-1,"aria-labelledby":props[`aria-labelledby`]||titleId,onBlur:e$1=>{isRefocusing.current&&e$1.stopPropagation()}},titleProps:{id:titleId}}}var $99b62ae3ff97ec45$export$c5f62239608282b6=new WeakMap;function $99b62ae3ff97ec45$export$567fc7097e064344(state,key,role){return state?(typeof key==`string`&&(key=key.replace(/\s+/g,``)),`${$99b62ae3ff97ec45$export$c5f62239608282b6.get(state)}-${role}-${key}`):``}function $0175d55c2a017ebc$export$fdf4756d5b8ef90a(props,state,ref){let{key,isDisabled:propsDisabled,shouldSelectOnPressUp}=props,{selectionManager:manager,selectedKey}=state,isSelected=key===selectedKey,isDisabled=propsDisabled||state.isDisabled||state.selectionManager.isDisabled(key),{itemProps,isPressed}=$880e95eb8b93ba9a$export$ecf600387e221c37({selectionManager:manager,key,ref,isDisabled,shouldSelectOnPressUp,linkBehavior:`selection`}),tabId=$99b62ae3ff97ec45$export$567fc7097e064344(state,key,`tab`),tabPanelId=$99b62ae3ff97ec45$export$567fc7097e064344(state,key,`tabpanel`),{tabIndex}=itemProps,item=state.collection.getItem(key),domProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(item?.props,{labelable:!0});delete domProps.id;let linkProps=$ea8dcbcb9ea1b556$export$7e924b3091a3bd18(item?.props),{focusableProps}=$f645667febf57a63$export$4c014de7c8940b4c({isDisabled},ref);return{tabProps:$3ef42575df84b30b$export$9d1611c77c2fe928(domProps,focusableProps,linkProps,itemProps,{id:tabId,"aria-selected":isSelected,"aria-disabled":isDisabled||void 0,"aria-controls":isSelected?tabPanelId:void 0,tabIndex:isDisabled?void 0:tabIndex,role:`tab`}),isSelected,isDisabled,isPressed}}function $34bce698202e07cb$export$fae0121b5afe572d(props,state,ref){let tabIndex=$83013635b024ae3d$export$eac1895992b9f3d6(ref)?void 0:0;var _props_id;let id=$99b62ae3ff97ec45$export$567fc7097e064344(state,props.id??state?.selectedKey,`tabpanel`);return{tabPanelProps:$3ef42575df84b30b$export$9d1611c77c2fe928($313b98861ee5dd6c$export$d6875122194c7b44({...props,id,"aria-labelledby":$99b62ae3ff97ec45$export$567fc7097e064344(state,state?.selectedKey,`tab`)}),{tabIndex,role:`tabpanel`,"aria-describedby":props[`aria-describedby`],"aria-details":props[`aria-details`]})}}var $bfc6f2d60b8a4c40$export$15010ca3c1abe90b=class{getKeyLeftOf(key){return this.flipDirection?this.getNextKey(key):this.getPreviousKey(key)}getKeyRightOf(key){return this.flipDirection?this.getPreviousKey(key):this.getNextKey(key)}isDisabled(key){var _this_collection_getItem_props,_this_collection_getItem;return this.disabledKeys.has(key)||!!((_this_collection_getItem=this.collection.getItem(key))!=null&&_this_collection_getItem.props?.isDisabled)}getFirstKey(){let key=this.collection.getFirstKey();return key!=null&&this.isDisabled(key)&&(key=this.getNextKey(key)),key}getLastKey(){let key=this.collection.getLastKey();return key!=null&&this.isDisabled(key)&&(key=this.getPreviousKey(key)),key}getKeyAbove(key){return this.tabDirection?null:this.getPreviousKey(key)}getKeyBelow(key){return this.tabDirection?null:this.getNextKey(key)}getNextKey(startKey){let key=startKey;do key=this.collection.getKeyAfter(key),key??=this.collection.getFirstKey();while(key!=null&&this.isDisabled(key));return key}getPreviousKey(startKey){let key=startKey;do key=this.collection.getKeyBefore(key),key??=this.collection.getLastKey();while(key!=null&&this.isDisabled(key));return key}constructor(collection,direction,orientation,disabledKeys=new Set){this.collection=collection,this.flipDirection=direction===`rtl`&&orientation===`horizontal`,this.disabledKeys=disabledKeys,this.tabDirection=orientation===`horizontal`}};function $58d314389b21fa3f$export$773e389e644c5874(props,state,ref){let{orientation=`horizontal`,keyboardActivation=`automatic`}=props,{collection,selectionManager:manager,disabledKeys}=state,{direction}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),{collectionProps}=$ae20dd8cbca75726$export$d6daf82dcd84e87c({ref,selectionManager:manager,keyboardDelegate:(0,import_react.useMemo)(()=>new $bfc6f2d60b8a4c40$export$15010ca3c1abe90b(collection,direction,orientation,disabledKeys),[collection,disabledKeys,orientation,direction]),selectOnFocus:keyboardActivation===`automatic`,disallowEmptySelection:!0,scrollRef:ref,linkBehavior:`selection`}),tabsId=$bdb11010cef70236$export$f680877a34711e37();return $99b62ae3ff97ec45$export$c5f62239608282b6.set(state,tabsId),{tabListProps:{...$3ef42575df84b30b$export$9d1611c77c2fe928(collectionProps,$313b98861ee5dd6c$export$d6875122194c7b44({...props,id:tabsId})),role:`tablist`,"aria-orientation":orientation,tabIndex:void 0}}}var $a02d57049d202695$export$d085fb9e920b5ca7=class{*[Symbol.iterator](){yield*this.iterable}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(key){let node=this.keyMap.get(key);var _node_prevKey;return node?node.prevKey??null:null}getKeyAfter(key){let node=this.keyMap.get(key);var _node_nextKey;return node?node.nextKey??null:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(key){var _this_keyMap_get;return this.keyMap.get(key)??null}at(idx){let keys=[...this.getKeys()];return this.getItem(keys[idx])}getChildren(key){return this.keyMap.get(key)?.childNodes||[]}constructor(nodes){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=nodes;let visit=node=>{if(this.keyMap.set(node.key,node),node.childNodes&&node.type===`section`)for(let child of node.childNodes)visit(child)};for(let node of nodes)visit(node);let last=null,index=0,size=0;for(let[key,node]of this.keyMap)last?(last.nextKey=key,node.prevKey=last.key):(this.firstKey=key,node.prevKey=void 0),node.type===`item`&&(node.index=index++),(node.type===`section`||node.type===`item`)&&size++,last=node,last.nextKey=void 0;this._size=size;var _last_key;this.lastKey=last?.key??null}},$e40ea825a81a3709$export$52baac22726c72bf=class $e40ea825a81a3709$export$52baac22726c72bf extends Set{constructor(keys,anchorKey,currentKey){super(keys),keys instanceof $e40ea825a81a3709$export$52baac22726c72bf?(this.anchorKey=anchorKey??keys.anchorKey,this.currentKey=currentKey??keys.currentKey):(this.anchorKey=anchorKey??null,this.currentKey=currentKey??null)}};function $7af3f5b51489e0b5$var$equalSets(setA,setB){if(setA.size!==setB.size)return!1;for(let item of setA)if(!setB.has(item))return!1;return!0}function $7af3f5b51489e0b5$export$253fe78d46329472(props){let{selectionMode=`none`,disallowEmptySelection=!1,allowDuplicateSelectionEvents,selectionBehavior:selectionBehaviorProp=`toggle`,disabledBehavior=`all`}=props,isFocusedRef=(0,import_react.useRef)(!1),[,setFocused]=(0,import_react.useState)(!1),focusedKeyRef=(0,import_react.useRef)(null),childFocusStrategyRef=(0,import_react.useRef)(null),[,setFocusedKey]=(0,import_react.useState)(null),[selectedKeys,setSelectedKeys]=$458b0a5536c1a7cf$export$40bfa8c7b0832715((0,import_react.useMemo)(()=>$7af3f5b51489e0b5$var$convertSelection(props.selectedKeys),[props.selectedKeys]),(0,import_react.useMemo)(()=>$7af3f5b51489e0b5$var$convertSelection(props.defaultSelectedKeys,new $e40ea825a81a3709$export$52baac22726c72bf),[props.defaultSelectedKeys]),props.onSelectionChange),disabledKeysProp=(0,import_react.useMemo)(()=>props.disabledKeys?new Set(props.disabledKeys):new Set,[props.disabledKeys]),[selectionBehavior,setSelectionBehavior]=(0,import_react.useState)(selectionBehaviorProp);selectionBehaviorProp===`replace`&&selectionBehavior===`toggle`&&typeof selectedKeys==`object`&&selectedKeys.size===0&&setSelectionBehavior(`replace`);let lastSelectionBehavior=(0,import_react.useRef)(selectionBehaviorProp);return(0,import_react.useEffect)(()=>{selectionBehaviorProp!==lastSelectionBehavior.current&&(setSelectionBehavior(selectionBehaviorProp),lastSelectionBehavior.current=selectionBehaviorProp)},[selectionBehaviorProp]),{selectionMode,disallowEmptySelection,selectionBehavior,setSelectionBehavior,get isFocused(){return isFocusedRef.current},setFocused(f$2){isFocusedRef.current=f$2,setFocused(f$2)},get focusedKey(){return focusedKeyRef.current},get childFocusStrategy(){return childFocusStrategyRef.current},setFocusedKey(k$1,childFocusStrategy=`first`){focusedKeyRef.current=k$1,childFocusStrategyRef.current=childFocusStrategy,setFocusedKey(k$1)},selectedKeys,setSelectedKeys(keys){(allowDuplicateSelectionEvents||!$7af3f5b51489e0b5$var$equalSets(keys,selectedKeys))&&setSelectedKeys(keys)},disabledKeys:disabledKeysProp,disabledBehavior}}function $7af3f5b51489e0b5$var$convertSelection(selection,defaultValue){return selection?selection===`all`?`all`:new $e40ea825a81a3709$export$52baac22726c72bf(selection):defaultValue}var $d496c0a20b6e58ec$export$6c8a5aaad13c9852=class $d496c0a20b6e58ec$export$6c8a5aaad13c9852{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(selectionBehavior){this.state.setSelectionBehavior(selectionBehavior)}get isFocused(){return this.state.isFocused}setFocused(isFocused){this.state.setFocused(isFocused)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(key,childFocusStrategy){(key==null||this.collection.getItem(key))&&this.state.setFocusedKey(key,childFocusStrategy)}get selectedKeys(){return this.state.selectedKeys===`all`?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(key){if(this.state.selectionMode===`none`)return!1;let mappedKey=this.getKey(key);return mappedKey==null?!1:this.state.selectedKeys===`all`?this.canSelectItem(mappedKey):this.state.selectedKeys.has(mappedKey)}get isEmpty(){return this.state.selectedKeys!==`all`&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys===`all`)return!0;if(this._isSelectAll!=null)return this._isSelectAll;let allKeys=this.getSelectAllKeys(),selectedKeys=this.state.selectedKeys;return this._isSelectAll=allKeys.every(k$1=>selectedKeys.has(k$1)),this._isSelectAll}get firstSelectedKey(){let first=null;for(let key of this.state.selectedKeys){let item=this.collection.getItem(key);(!first||item&&$c5a24bc478652b5f$export$8c434b3a7a4dad6(this.collection,item,first)<0)&&(first=item)}var _first_key;return first?.key??null}get lastSelectedKey(){let last=null;for(let key of this.state.selectedKeys){let item=this.collection.getItem(key);(!last||item&&$c5a24bc478652b5f$export$8c434b3a7a4dad6(this.collection,item,last)>0)&&(last=item)}var _last_key;return last?.key??null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(toKey){if(this.selectionMode===`none`)return;if(this.selectionMode===`single`){this.replaceSelection(toKey);return}let mappedToKey=this.getKey(toKey);if(mappedToKey==null)return;let selection;if(this.state.selectedKeys===`all`)selection=new $e40ea825a81a3709$export$52baac22726c72bf([mappedToKey],mappedToKey,mappedToKey);else{let selectedKeys=this.state.selectedKeys;var _selectedKeys_anchorKey;let anchorKey=selectedKeys.anchorKey??mappedToKey;selection=new $e40ea825a81a3709$export$52baac22726c72bf(selectedKeys,anchorKey,mappedToKey);var _selectedKeys_currentKey;for(let key of this.getKeyRange(anchorKey,selectedKeys.currentKey??mappedToKey))selection.delete(key);for(let key of this.getKeyRange(mappedToKey,anchorKey))this.canSelectItem(key)&&selection.add(key)}this.state.setSelectedKeys(selection)}getKeyRange(from,to){let fromItem=this.collection.getItem(from),toItem=this.collection.getItem(to);return fromItem&&toItem?$c5a24bc478652b5f$export$8c434b3a7a4dad6(this.collection,fromItem,toItem)<=0?this.getKeyRangeInternal(from,to):this.getKeyRangeInternal(to,from):[]}getKeyRangeInternal(from,to){var _this_layoutDelegate;if(this.layoutDelegate?.getKeyRange)return this.layoutDelegate.getKeyRange(from,to);let keys=[],key=from;for(;key!=null;){let item=this.collection.getItem(key);if(item&&(item.type===`item`||item.type===`cell`&&this.allowsCellSelection)&&keys.push(key),key===to)return keys;key=this.collection.getKeyAfter(key)}return[]}getKey(key){let item=this.collection.getItem(key);if(!item||item.type===`cell`&&this.allowsCellSelection)return key;for(;item&&item.type!==`item`&&item.parentKey!=null;)item=this.collection.getItem(item.parentKey);return!item||item.type!==`item`?null:item.key}toggleSelection(key){if(this.selectionMode===`none`)return;if(this.selectionMode===`single`&&!this.isSelected(key)){this.replaceSelection(key);return}let mappedKey=this.getKey(key);if(mappedKey==null)return;let keys=new $e40ea825a81a3709$export$52baac22726c72bf(this.state.selectedKeys===`all`?this.getSelectAllKeys():this.state.selectedKeys);keys.has(mappedKey)?keys.delete(mappedKey):this.canSelectItem(mappedKey)&&(keys.add(mappedKey),keys.anchorKey=mappedKey,keys.currentKey=mappedKey),!(this.disallowEmptySelection&&keys.size===0)&&this.state.setSelectedKeys(keys)}replaceSelection(key){if(this.selectionMode===`none`)return;let mappedKey=this.getKey(key);if(mappedKey==null)return;let selection=this.canSelectItem(mappedKey)?new $e40ea825a81a3709$export$52baac22726c72bf([mappedKey],mappedKey,mappedKey):new $e40ea825a81a3709$export$52baac22726c72bf;this.state.setSelectedKeys(selection)}setSelectedKeys(keys){if(this.selectionMode===`none`)return;let selection=new $e40ea825a81a3709$export$52baac22726c72bf;for(let key of keys){let mappedKey=this.getKey(key);if(mappedKey!=null&&(selection.add(mappedKey),this.selectionMode===`single`))break}this.state.setSelectedKeys(selection)}getSelectAllKeys(){let keys=[],addKeys=key=>{for(;key!=null;){if(this.canSelectItem(key)){var _getFirstItem;let item=this.collection.getItem(key);item?.type===`item`&&keys.push(key);var _getFirstItem_key;item?.hasChildNodes&&(this.allowsCellSelection||item.type!==`item`)&&addKeys($c5a24bc478652b5f$export$fbdeaa6a76694f71($c5a24bc478652b5f$export$1005530eda016c13(item,this.collection))?.key??null)}key=this.collection.getKeyAfter(key)}};return addKeys(this.collection.getFirstKey()),keys}selectAll(){!this.isSelectAll&&this.selectionMode===`multiple`&&this.state.setSelectedKeys(`all`)}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys===`all`||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new $e40ea825a81a3709$export$52baac22726c72bf)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(key,e$1){this.selectionMode!==`none`&&(this.selectionMode===`single`?this.isSelected(key)&&!this.disallowEmptySelection?this.toggleSelection(key):this.replaceSelection(key):this.selectionBehavior===`toggle`||e$1&&(e$1.pointerType===`touch`||e$1.pointerType===`virtual`)?this.toggleSelection(key):this.replaceSelection(key))}isSelectionEqual(selection){if(selection===this.state.selectedKeys)return!0;let selectedKeys=this.selectedKeys;if(selection.size!==selectedKeys.size)return!1;for(let key of selection)if(!selectedKeys.has(key))return!1;for(let key of selectedKeys)if(!selection.has(key))return!1;return!0}canSelectItem(key){var _item_props;if(this.state.selectionMode===`none`||this.state.disabledKeys.has(key))return!1;let item=this.collection.getItem(key);return!(!item||item!=null&&item.props?.isDisabled||item.type===`cell`&&!this.allowsCellSelection)}isDisabled(key){var _this_collection_getItem_props,_this_collection_getItem;return this.state.disabledBehavior===`all`&&(this.state.disabledKeys.has(key)||!!((_this_collection_getItem=this.collection.getItem(key))!=null&&_this_collection_getItem.props?.isDisabled))}isLink(key){var _this_collection_getItem_props,_this_collection_getItem;return!!((_this_collection_getItem=this.collection.getItem(key))!=null&&_this_collection_getItem.props?.href)}getItemProps(key){var _this_collection_getItem;return this.collection.getItem(key)?.props}withCollection(collection){return new $d496c0a20b6e58ec$export$6c8a5aaad13c9852(collection,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(collection,state,options){this.collection=collection,this.state=state;var _options_allowsCellSelection;this.allowsCellSelection=options?.allowsCellSelection??!1,this._isSelectAll=null,this.layoutDelegate=options?.layoutDelegate||null}};function $e72dd72e1c76a225$export$2f645645f7bca764(props){let{filter,layoutDelegate}=props,selectionState=$7af3f5b51489e0b5$export$253fe78d46329472(props),disabledKeys=(0,import_react.useMemo)(()=>props.disabledKeys?new Set(props.disabledKeys):new Set,[props.disabledKeys]),collection=$7613b1592d41b092$export$6cd28814d92fa9c9(props,(0,import_react.useCallback)(nodes=>filter?new $a02d57049d202695$export$d085fb9e920b5ca7(filter(nodes)):new $a02d57049d202695$export$d085fb9e920b5ca7(nodes),[filter]),(0,import_react.useMemo)(()=>({suppressTextValueWarning:props.suppressTextValueWarning}),[props.suppressTextValueWarning])),selectionManager=(0,import_react.useMemo)(()=>new $d496c0a20b6e58ec$export$6c8a5aaad13c9852(collection,selectionState,{layoutDelegate}),[collection,selectionState,layoutDelegate]);return $e72dd72e1c76a225$var$useFocusedKeyReset(collection,selectionManager),{collection,disabledKeys,selectionManager}}function $e72dd72e1c76a225$var$useFocusedKeyReset(collection,selectionManager){let cachedCollection=(0,import_react.useRef)(null);(0,import_react.useEffect)(()=>{if(selectionManager.focusedKey!=null&&!collection.getItem(selectionManager.focusedKey)&&cachedCollection.current){let startItem=cachedCollection.current.getItem(selectionManager.focusedKey),cachedItemNodes=[...cachedCollection.current.getKeys()].map(key=>{let itemNode=cachedCollection.current.getItem(key);return itemNode?.type===`item`?itemNode:null}).filter(node=>node!==null),itemNodes=[...collection.getKeys()].map(key=>{let itemNode=collection.getItem(key);return itemNode?.type===`item`?itemNode:null}).filter(node=>node!==null);var _cachedItemNodes_length,_itemNodes_length;let diff=(cachedItemNodes?.length??0)-(itemNodes?.length??0);var _startItem_index,_startItem_index1,_itemNodes_length1;let index=Math.min(diff>1?Math.max((startItem?.index??0)-diff+1,0):startItem?.index??0,(itemNodes?.length??0)-1),newNode=null,isReverseSearching=!1;for(;index>=0;){if(!selectionManager.isDisabled(itemNodes[index].key)){newNode=itemNodes[index];break}if(index<itemNodes.length-1&&!isReverseSearching)index++;else{isReverseSearching=!0;var _startItem_index2,_startItem_index3;index>(startItem?.index??0)&&(index=startItem?.index??0),index--}}selectionManager.setFocusedKey(newNode?newNode.key:null)}cachedCollection.current=collection},[collection,selectionManager])}function $a0d645289fe9b86b$export$e7f05e985daf4b5f(props){var _props_defaultSelectedKey;let[selectedKey,setSelectedKey]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(props.selectedKey,props.defaultSelectedKey??null,props.onSelectionChange),selectedKeys=(0,import_react.useMemo)(()=>selectedKey==null?[]:[selectedKey],[selectedKey]),{collection,disabledKeys,selectionManager}=$e72dd72e1c76a225$export$2f645645f7bca764({...props,selectionMode:`single`,disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys,onSelectionChange:keys=>{if(keys===`all`)return;var _keys_values_next_value;let key=keys.values().next().value??null;key===selectedKey&&props.onSelectionChange&&props.onSelectionChange(key),setSelectedKey(key)}});return{collection,disabledKeys,selectionManager,selectedKey,setSelectedKey,selectedItem:selectedKey==null?null:collection.getItem(selectedKey)}}function $fc909762b330b746$export$61c6a8c84e605fb6(props){let[isOpen,setOpen]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(props.isOpen,props.defaultOpen||!1,props.onOpenChange);return{isOpen,setOpen,open:(0,import_react.useCallback)(()=>{setOpen(!0)},[setOpen]),close:(0,import_react.useCallback)(()=>{setOpen(!1)},[setOpen]),toggle:(0,import_react.useCallback)(()=>{setOpen(!isOpen)},[setOpen,isOpen])}}function $a28c903ee9ad8dc5$export$79fefeb1c2091ac3(props){let overlayTriggerState=$fc909762b330b746$export$61c6a8c84e605fb6(props),[focusStrategy,setFocusStrategy]=(0,import_react.useState)(null),[expandedKeysStack,setExpandedKeysStack]=(0,import_react.useState)([]),closeAll=()=>{setExpandedKeysStack([]),overlayTriggerState.close()},openSubmenu=(triggerKey,level)=>{setExpandedKeysStack(oldStack=>level>oldStack.length?oldStack:[...oldStack.slice(0,level),triggerKey])},closeSubmenu=(triggerKey,level)=>{setExpandedKeysStack(oldStack=>oldStack[level]===triggerKey?oldStack.slice(0,level):oldStack)};return{focusStrategy,...overlayTriggerState,open(focusStrategy$1=null){setFocusStrategy(focusStrategy$1),overlayTriggerState.open()},toggle(focusStrategy$1=null){setFocusStrategy(focusStrategy$1),overlayTriggerState.toggle()},close(){closeAll()},expandedKeysStack,openSubmenu,closeSubmenu}}function $76f919a04c5a7d14$export$4ba071daf4e486(props){var _props_defaultSelectedKey,_ref;let state=$a0d645289fe9b86b$export$e7f05e985daf4b5f({...props,onSelectionChange:props.onSelectionChange?key=>{var _props_onSelectionChange;key!=null&&((_props_onSelectionChange=props.onSelectionChange)==null||_props_onSelectionChange.call(props,key))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:props.defaultSelectedKey??$76f919a04c5a7d14$var$findDefaultSelectedKey(props.collection,props.disabledKeys?new Set(props.disabledKeys):new Set)??void 0}),{selectionManager,collection,selectedKey:currentSelectedKey}=state,lastSelectedKey=(0,import_react.useRef)(currentSelectedKey);return(0,import_react.useEffect)(()=>{let selectedKey=currentSelectedKey;props.selectedKey==null&&(selectionManager.isEmpty||selectedKey==null||!collection.getItem(selectedKey))&&(selectedKey=$76f919a04c5a7d14$var$findDefaultSelectedKey(collection,state.disabledKeys),selectedKey!=null&&selectionManager.setSelectedKeys([selectedKey])),(selectedKey!=null&&selectionManager.focusedKey==null||!selectionManager.isFocused&&selectedKey!==lastSelectedKey.current)&&selectionManager.setFocusedKey(selectedKey),lastSelectedKey.current=selectedKey}),{...state,isDisabled:props.isDisabled||!1}}function $76f919a04c5a7d14$var$findDefaultSelectedKey(collection,disabledKeys){let selectedKey=null;if(collection){var _collection_getItem_props,_collection_getItem,_collection_getItem_props1,_collection_getItem1;for(selectedKey=collection.getFirstKey();selectedKey!=null&&(disabledKeys.has(selectedKey)||(_collection_getItem=collection.getItem(selectedKey))!=null&&_collection_getItem.props?.isDisabled)&&selectedKey!==collection.getLastKey();)selectedKey=collection.getKeyAfter(selectedKey);selectedKey!=null&&(disabledKeys.has(selectedKey)||(_collection_getItem1=collection.getItem(selectedKey))!=null&&_collection_getItem1.props?.isDisabled)&&selectedKey===collection.getLastKey()&&(selectedKey=collection.getFirstKey())}return selectedKey}var $ee014567cb39d3f0$export$ff05c3ac10437e03=(0,import_react.createContext)(null),$ee014567cb39d3f0$export$f551688fc98f2e09=(0,import_react.forwardRef)(function(props,ref){return(0,import_react.useContext)($ee014567cb39d3f0$export$ff05c3ac10437e03)?.isInvalid?import_react.createElement($ee014567cb39d3f0$var$FieldErrorInner,{...props,ref}):null}),$ee014567cb39d3f0$var$FieldErrorInner=(0,import_react.forwardRef)((props,ref)=>{let validation=(0,import_react.useContext)($ee014567cb39d3f0$export$ff05c3ac10437e03),domProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{global:!0}),renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,defaultClassName:`react-aria-FieldError`,defaultChildren:validation.validationErrors.length===0?void 0:validation.validationErrors.join(` `),values:validation});return renderProps.children==null?null:import_react.createElement($514c0188e459b4c0$export$5f1af8db9871e1d6,{slot:`errorMessage`,...domProps,...renderProps,ref})}),$d3e0e05bdfcf66bd$export$c24727297075ec6a=(0,import_react.createContext)(null),$a049562f99e7db0e$export$f9c6924e160136d1=(0,import_react.createContext)({}),$3985021b0ad6602f$export$37fb8590cf2c088c=(0,import_react.createContext)({}),$3985021b0ad6602f$var$filterHoverProps=props=>{let{onHoverStart,onHoverChange,onHoverEnd,...otherProps}=props;return otherProps},$3985021b0ad6602f$export$f5b8910cec6cf069=$f39a9eba43920ace$export$86427a43e3e48ebb(function(props,ref){[props,ref]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,ref,$3985021b0ad6602f$export$37fb8590cf2c088c);let{hoverProps,isHovered}=$6179b936705e76d3$export$ae780daf29e6d456({...props,isDisabled:props.disabled}),{isFocused,isFocusVisible,focusProps}=$f7dceffc5ad7768b$export$4e328f61c538687f({isTextInput:!0,autoFocus:props.autoFocus}),isInvalid=!!props[`aria-invalid`]&&props[`aria-invalid`]!==`false`,renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,values:{isHovered,isFocused,isFocusVisible,isDisabled:props.disabled||!1,isInvalid},defaultClassName:`react-aria-Input`});return import_react.createElement(`input`,{...$3ef42575df84b30b$export$9d1611c77c2fe928($3985021b0ad6602f$var$filterHoverProps(props),focusProps,hoverProps),...renderProps,ref,"data-focused":isFocused||void 0,"data-disabled":props.disabled||void 0,"data-hovered":isHovered||void 0,"data-focus-visible":isFocusVisible||void 0,"data-invalid":isInvalid||void 0})}),import_react_dom=require_react_dom(),$c8a5a149f625efcf$var$SharedElementContext=(0,import_react.createContext)(null);function $c8a5a149f625efcf$export$758399f318e6385a(props){let ref=(0,import_react.useRef)({});return import_react.createElement($c8a5a149f625efcf$var$SharedElementContext.Provider,{value:ref},props.children)}var $c8a5a149f625efcf$export$c34620ff8881d89f=(0,import_react.forwardRef)(function(props,ref){let{name,isVisible=!0,children,className,style,...divProps}=props,[state,setState]=(0,import_react.useState)(isVisible?`visible`:`hidden`),scopeRef=(0,import_react.useContext)($c8a5a149f625efcf$var$SharedElementContext);if(!scopeRef)throw Error(`<SharedElement> must be rendered inside a <SharedElementTransition>`);isVisible&&state===`hidden`&&setState(`visible`),ref=$df56164dff5785e2$export$4338b53315abf666(ref),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let element=ref.current,scope=scopeRef.current,prevSnapshot=scope[name],frame=null;if(element&&isVisible&&prevSnapshot){setState(`visible`);let animations=element.getAnimations(),values=prevSnapshot.style.map(([property,prevValue])=>{let value=element.style[property];if(property===`translate`){let prevRect=prevSnapshot.rect,currentItem=element.getBoundingClientRect(),deltaX=prevRect.left-currentItem?.left,deltaY=prevRect.top-currentItem?.top;element.style.translate=`${deltaX}px ${deltaY}px`}else element.style[property]=prevValue;return[property,value]});for(let a$2 of element.getAnimations())animations.includes(a$2)||a$2.cancel();frame=requestAnimationFrame(()=>{frame=null;for(let[property,value]of values)element.style[property]=value}),delete scope[name]}else element&&isVisible&&!prevSnapshot?(queueMicrotask(()=>(0,import_react_dom.flushSync)(()=>setState(`entering`))),frame=requestAnimationFrame(()=>{frame=null,setState(`visible`)})):element&&!isVisible&&queueMicrotask(()=>{scope[name]?(delete scope[name],(0,import_react_dom.flushSync)(()=>setState(`exiting`)),Promise.all(element.getAnimations().map(a$2=>a$2.finished)).then(()=>setState(`hidden`)).catch(()=>{})):setState(`hidden`)});return()=>{if(frame!=null&&cancelAnimationFrame(frame),element&&element.isConnected&&!element.hasAttribute(`data-exiting`)){let style$1=window.getComputedStyle(element);if(style$1.transitionProperty!==`none`){let transitionProperty=style$1.transitionProperty.split(/\s*,\s*/);scope[name]={rect:element.getBoundingClientRect(),style:transitionProperty.map(p$2=>[p$2,style$1[p$2]])}}}}},[ref,scopeRef,name,isVisible]);let renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({children,className,style,values:{isEntering:state===`entering`,isExiting:state===`exiting`}});return state===`hidden`?null:import_react.createElement(`div`,{...divProps,...renderProps,ref,"data-entering":state===`entering`||void 0,"data-exiting":state===`exiting`||void 0})}),$1d5b8b8664671ef2$export$c9549807523555e0=(0,import_react.createContext)({isSelected:!1}),$1d5b8b8664671ef2$export$17f80983afe4e444=(0,import_react.forwardRef)(function(props,ref){[props,ref]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,ref,$1d5b8b8664671ef2$export$c9549807523555e0);let{isSelected,...otherProps}=props;return import_react.createElement($c8a5a149f625efcf$export$c34620ff8881d89f,{...otherProps,ref,className:props.className||`react-aria-SelectionIndicator`,name:`SelectionIndicator`,isVisible:isSelected})}),$07b14b47974efb58$export$9b9a0cd73afb7ca4=(0,import_react.createContext)(null),$3674c52c6b3c5bce$export$795aec4671cbae19=(0,import_react.createContext)(null),$3674c52c6b3c5bce$var$SubmenuTriggerNode=class extends $23b9f4fcf0fe224b$export$d68d59712b04d9d1{filter(collection,newCollection,filterFn){let triggerNode=collection.getItem(this.firstChildKey);if(triggerNode&&filterFn(triggerNode.textValue,this)){let clone$1=this.clone();return newCollection.addDescendants(clone$1,collection),clone$1}return null}};$3674c52c6b3c5bce$var$SubmenuTriggerNode.type=`submenutrigger`;var $de32f1b87079253c$export$8b93a07348a7730c=(0,import_react.createContext)(null),$de32f1b87079253c$export$d2f961adcb0afbe=(0,import_react.createContext)(null);function $de32f1b87079253c$export$2e1e1122cf0cba88(props){let state=$a28c903ee9ad8dc5$export$79fefeb1c2091ac3(props),buttonRef=(0,import_react.useRef)(null),{triggerProps,overlayProps}=$628037886ba31236$export$f9d5c8beee7d008d({type:`dialog`},state,buttonRef),[buttonWidth,setButtonWidth]=(0,import_react.useState)(null);return $9daab02d461809db$export$683480f191c0e3ea({ref:buttonRef,onResize:(0,import_react.useCallback)(()=>{buttonRef.current&&setButtonWidth(buttonRef.current.offsetWidth+`px`)},[buttonRef])}),triggerProps.id=$bdb11010cef70236$export$f680877a34711e37(),overlayProps[`aria-labelledby`]=triggerProps.id,import_react.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$de32f1b87079253c$export$d2f961adcb0afbe,state],[$3674c52c6b3c5bce$export$795aec4671cbae19,state],[$de32f1b87079253c$export$8b93a07348a7730c,overlayProps],[$07b14b47974efb58$export$9b9a0cd73afb7ca4,{trigger:`DialogTrigger`,triggerRef:buttonRef,"aria-labelledby":overlayProps[`aria-labelledby`],style:{"--trigger-width":buttonWidth}}]]},import_react.createElement($f1ab8c75478c6f73$export$3351871ee4b288b8,{...triggerProps,ref:buttonRef,isPressed:state.isOpen},props.children))}var $de32f1b87079253c$export$3ddf2d174ce01153=(0,import_react.forwardRef)(function(props,ref){let originalAriaLabelledby=props[`aria-labelledby`];[props,ref]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,ref,$de32f1b87079253c$export$8b93a07348a7730c);let{dialogProps,titleProps}=$40df3f8667284809$export$d55e7ee900f34e93({...props,"aria-labelledby":originalAriaLabelledby},ref),state=(0,import_react.useContext)($de32f1b87079253c$export$d2f961adcb0afbe);!dialogProps[`aria-label`]&&!dialogProps[`aria-labelledby`]&&props[`aria-labelledby`]&&(dialogProps[`aria-labelledby`]=props[`aria-labelledby`]);let renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({defaultClassName:`react-aria-Dialog`,className:props.className,style:props.style,children:props.children,values:{close:state?.close||(()=>{})}}),DOMProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{global:!0});return import_react.createElement(`section`,{...$3ef42575df84b30b$export$9d1611c77c2fe928(DOMProps,renderProps,dialogProps),ref,slot:props.slot||void 0},import_react.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$4e85f108e88277b8$export$d688439359537581,{slots:{[$64fa3d84918910a7$export$c62b8e45d58ddad9]:{},title:{...titleProps,level:2}}}],[$d2b4bc8c273e7be6$export$24d547caef80ccd1,{slots:{[$64fa3d84918910a7$export$c62b8e45d58ddad9]:{},close:{onPress:()=>state?.close()}}}]]},renderProps.children))}),$5cb03073d3f54797$export$a8a3e93435678ff9=(0,import_react.forwardRef)(function(props,ref){[props,ref]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,ref,$4e85f108e88277b8$export$d688439359537581);let{children,level=3,className,...domProps}=props,Element$1=`h${level}`;return import_react.createElement(Element$1,{...domProps,ref,className:className??`react-aria-Heading`},children)}),$f3f84453ead64de5$export$ab57792b9b6974a6=(0,import_react.createContext)(null),$f3f84453ead64de5$var$InternalModalContext=(0,import_react.createContext)(null),$f3f84453ead64de5$export$2b77a92f1a5ad772=(0,import_react.forwardRef)(function(props,ref){if((0,import_react.useContext)($f3f84453ead64de5$var$InternalModalContext))return import_react.createElement($f3f84453ead64de5$var$ModalContent,{...props,modalRef:ref},props.children);let{isDismissable,isKeyboardDismissDisabled,isOpen,defaultOpen,onOpenChange,children,isEntering,isExiting,UNSTABLE_portalContainer,shouldCloseOnInteractOutside,...otherProps}=props;return import_react.createElement($f3f84453ead64de5$export$8948f78d83984c69,{isDismissable,isKeyboardDismissDisabled,isOpen,defaultOpen,onOpenChange,isEntering,isExiting,UNSTABLE_portalContainer,shouldCloseOnInteractOutside},import_react.createElement($f3f84453ead64de5$var$ModalContent,{...otherProps,modalRef:ref},children))});function $f3f84453ead64de5$var$ModalOverlayWithForwardRef(props,ref){[props,ref]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,ref,$f3f84453ead64de5$export$ab57792b9b6974a6);let contextState=(0,import_react.useContext)($de32f1b87079253c$export$d2f961adcb0afbe),localState=$fc909762b330b746$export$61c6a8c84e605fb6(props),state=props.isOpen!=null||props.defaultOpen!=null||!contextState?localState:contextState,objectRef=$df56164dff5785e2$export$4338b53315abf666(ref),modalRef=(0,import_react.useRef)(null),isOverlayExiting=$d3f049242431219c$export$45fda7c47f93fd48(objectRef,state.isOpen),isModalExiting=$d3f049242431219c$export$45fda7c47f93fd48(modalRef,state.isOpen),isExiting=isOverlayExiting||isModalExiting||props.isExiting||!1,isSSR=$b5e257d569688ac6$export$535bd6ca7f90a273();return!state.isOpen&&!isExiting||isSSR?null:import_react.createElement($f3f84453ead64de5$var$ModalOverlayInner,{...props,state,isExiting,overlayRef:objectRef,modalRef})}var $f3f84453ead64de5$export$8948f78d83984c69=(0,import_react.forwardRef)($f3f84453ead64de5$var$ModalOverlayWithForwardRef);function $f3f84453ead64de5$var$ModalOverlayInner({UNSTABLE_portalContainer,...props}){let modalRef=props.modalRef,{state}=props,{modalProps,underlayProps}=$8ac8429251c45e4b$export$dbc0f175b25fb0fb(props,state,modalRef),entering=$d3f049242431219c$export$6d3443f2c48bfc20(props.overlayRef)||props.isEntering||!1,renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,defaultClassName:`react-aria-ModalOverlay`,values:{isEntering:entering,isExiting:props.isExiting,state}}),viewport=$5df64b3807dc15ee$export$d699905dd57c73ca(),pageHeight;if(typeof document<`u`){let scrollingElement=$cc38e7bd3fc7b213$export$2bb74740c4e19def(document.body)?document.body:document.scrollingElement||document.documentElement,fractionalHeightDifference=scrollingElement.getBoundingClientRect().height%1;pageHeight=scrollingElement.scrollHeight-fractionalHeightDifference}let style={...renderProps.style,"--visual-viewport-height":viewport.height+`px`,"--page-height":pageHeight===void 0?void 0:pageHeight+`px`};return import_react.createElement($337b884510726a0d$export$c6fdb837b070b4ff,{isExiting:props.isExiting,portalContainer:UNSTABLE_portalContainer},import_react.createElement(`div`,{...$3ef42575df84b30b$export$9d1611c77c2fe928($65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{global:!0}),underlayProps),...renderProps,style,ref:props.overlayRef,"data-entering":entering||void 0,"data-exiting":props.isExiting||void 0},import_react.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$f3f84453ead64de5$var$InternalModalContext,{modalProps,modalRef,isExiting:props.isExiting,isDismissable:props.isDismissable}],[$de32f1b87079253c$export$d2f961adcb0afbe,state]]},renderProps.children)))}function $f3f84453ead64de5$var$ModalContent(props){let{modalProps,modalRef,isExiting,isDismissable}=(0,import_react.useContext)($f3f84453ead64de5$var$InternalModalContext),state=(0,import_react.useContext)($de32f1b87079253c$export$d2f961adcb0afbe),ref=$df56164dff5785e2$export$4338b53315abf666((0,import_react.useMemo)(()=>$5dc95899b306f630$export$c9058316764c140e(props.modalRef,modalRef),[props.modalRef,modalRef])),entering=$d3f049242431219c$export$6d3443f2c48bfc20(ref),renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,defaultClassName:`react-aria-Modal`,values:{isEntering:entering,isExiting,state}});return import_react.createElement(`div`,{...$3ef42575df84b30b$export$9d1611c77c2fe928($65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{global:!0}),modalProps),...renderProps,ref,"data-entering":entering||void 0,"data-exiting":isExiting||void 0},isDismissable&&import_react.createElement($86ea4cb521eb2e37$export$2317d149ed6f78c4,{onDismiss:state.close}),renderProps.children)}var $5e8ad37a45e1c704$export$cfa7aa87c26e7d1f=(0,import_react.createContext)(null),$5e8ad37a45e1c704$export$364712098d2aa57c=(0,import_react.createContext)(null),$5e8ad37a45e1c704$export$b2539bed5023c21c=(0,import_react.forwardRef)(function(props,ref){[props,ref]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,ref,$5e8ad37a45e1c704$export$cfa7aa87c26e7d1f);let{children,orientation=`horizontal`}=props;return children=(0,import_react.useMemo)(()=>typeof children==`function`?children({orientation,defaultChildren:null}):children,[children,orientation]),import_react.createElement($e1995378a142960e$export$bf788dd355e3a401,{content:children},collection=>import_react.createElement($5e8ad37a45e1c704$var$TabsInner,{props,collection,tabsRef:ref}))});function $5e8ad37a45e1c704$var$TabsInner({props,tabsRef:ref,collection}){let{orientation=`horizontal`}=props,state=$76f919a04c5a7d14$export$4ba071daf4e486({...props,collection,children:void 0}),{focusProps,isFocused,isFocusVisible}=$f7dceffc5ad7768b$export$4e328f61c538687f({within:!0}),values=(0,import_react.useMemo)(()=>({orientation,isFocusWithin:isFocused,isFocusVisible}),[orientation,isFocused,isFocusVisible]),renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,defaultClassName:`react-aria-Tabs`,values}),DOMProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{global:!0});return import_react.createElement(`div`,{...$3ef42575df84b30b$export$9d1611c77c2fe928(DOMProps,renderProps,focusProps),ref,slot:props.slot||void 0,"data-focused":isFocused||void 0,"data-orientation":orientation,"data-focus-visible":isFocusVisible||void 0,"data-disabled":state.isDisabled||void 0},import_react.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$5e8ad37a45e1c704$export$cfa7aa87c26e7d1f,props],[$5e8ad37a45e1c704$export$364712098d2aa57c,state]]},renderProps.children))}var $5e8ad37a45e1c704$export$e51a686c67fdaa2d=(0,import_react.forwardRef)(function(props,ref){return(0,import_react.useContext)($5e8ad37a45e1c704$export$364712098d2aa57c)?import_react.createElement($5e8ad37a45e1c704$var$TabListInner,{props,forwardedRef:ref}):import_react.createElement($e1995378a142960e$export$fb8073518f34e6ec,props)});function $5e8ad37a45e1c704$var$TabListInner({props,forwardedRef:ref}){let state=(0,import_react.useContext)($5e8ad37a45e1c704$export$364712098d2aa57c),{CollectionRoot}=(0,import_react.useContext)($7135fc7d473fd974$export$4feb769f8ddf26c5),{orientation=`horizontal`,keyboardActivation=`automatic`}=$64fa3d84918910a7$export$fabf2dc03a41866e($5e8ad37a45e1c704$export$cfa7aa87c26e7d1f),objectRef=$df56164dff5785e2$export$4338b53315abf666(ref),{tabListProps}=$58d314389b21fa3f$export$773e389e644c5874({...props,orientation,keyboardActivation},state,objectRef),renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,children:null,defaultClassName:`react-aria-TabList`,values:{orientation,state}}),DOMProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{global:!0});return delete DOMProps.id,import_react.createElement(`div`,{...$3ef42575df84b30b$export$9d1611c77c2fe928(DOMProps,renderProps,tabListProps),ref:objectRef,"data-orientation":orientation||void 0},import_react.createElement($c8a5a149f625efcf$export$758399f318e6385a,null,import_react.createElement(CollectionRoot,{collection:state.collection,persistedKeys:$7135fc7d473fd974$export$90e00781bc59d8f9(state.selectionManager.focusedKey)})))}var $5e8ad37a45e1c704$var$TabItemNode=class extends $23b9f4fcf0fe224b$export$d68d59712b04d9d1{};$5e8ad37a45e1c704$var$TabItemNode.type=`item`;var $5e8ad37a45e1c704$export$3e41faf802a29e71=$e1995378a142960e$export$18af5c7a9e9b3664($5e8ad37a45e1c704$var$TabItemNode,(props,forwardedRef,item)=>{let state=(0,import_react.useContext)($5e8ad37a45e1c704$export$364712098d2aa57c),ref=$df56164dff5785e2$export$4338b53315abf666(forwardedRef),{tabProps,isSelected,isDisabled,isPressed}=$0175d55c2a017ebc$export$fdf4756d5b8ef90a({key:item.key,...props},state,ref),{focusProps,isFocused,isFocusVisible}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{hoverProps,isHovered}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled,onHoverStart:props.onHoverStart,onHoverEnd:props.onHoverEnd,onHoverChange:props.onHoverChange}),renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,id:void 0,children:item.rendered,defaultClassName:`react-aria-Tab`,values:{isSelected,isDisabled,isFocused,isFocusVisible,isPressed,isHovered}}),ElementType=item.props.href?`a`:`div`,DOMProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{global:!0});return delete DOMProps.id,delete DOMProps.onClick,import_react.createElement(ElementType,{...$3ef42575df84b30b$export$9d1611c77c2fe928(DOMProps,renderProps,tabProps,focusProps,hoverProps),ref,"data-selected":isSelected||void 0,"data-disabled":isDisabled||void 0,"data-focused":isFocused||void 0,"data-focus-visible":isFocusVisible||void 0,"data-pressed":isPressed||void 0,"data-hovered":isHovered||void 0},import_react.createElement($1d5b8b8664671ef2$export$c9549807523555e0.Provider,{value:{isSelected}},renderProps.children))}),$5e8ad37a45e1c704$export$3d96ec278d3efce4=$f39a9eba43920ace$export$86427a43e3e48ebb(function(props,forwardedRef){let state=(0,import_react.useContext)($5e8ad37a45e1c704$export$364712098d2aa57c),ref=$df56164dff5785e2$export$4338b53315abf666(forwardedRef),isSelected=state.selectedKey===props.id,[isInitiallySelected,setInitiallySelected]=(0,import_react.useState)(state.selectedKey==null?null:isSelected);isInitiallySelected==null&&state.selectedKey!=null?setInitiallySelected(isSelected):!isSelected&&isInitiallySelected&&setInitiallySelected(!1);let isExiting=$d3f049242431219c$export$45fda7c47f93fd48(ref,isSelected);return!isSelected&&!props.shouldForceMount&&!isExiting?null:import_react.createElement($5e8ad37a45e1c704$var$TabPanelInner,{...props,tabPanelRef:ref,isInitiallySelected:isInitiallySelected||!1,isExiting})});function $5e8ad37a45e1c704$var$TabPanelInner(props){let state=(0,import_react.useContext)($5e8ad37a45e1c704$export$364712098d2aa57c),{id,tabPanelRef:ref,isInitiallySelected,isExiting,...otherProps}=props,{tabPanelProps}=$34bce698202e07cb$export$fae0121b5afe572d(props,state,ref),{focusProps,isFocused,isFocusVisible}=$f7dceffc5ad7768b$export$4e328f61c538687f(),isSelected=state.selectedKey===props.id,isEntering=$d3f049242431219c$export$6d3443f2c48bfc20(ref)&&!isInitiallySelected,renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,defaultClassName:`react-aria-TabPanel`,values:{isFocused,isFocusVisible,isInert:$cdc5a6778b766db2$export$a9d04c5684123369(!isSelected),isEntering,isExiting,state}}),DOMProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(otherProps,{global:!0});delete DOMProps.id;let domProps=isSelected?$3ef42575df84b30b$export$9d1611c77c2fe928(DOMProps,tabPanelProps,focusProps,renderProps):$3ef42575df84b30b$export$9d1611c77c2fe928(DOMProps,renderProps);return import_react.createElement(`div`,{...domProps,ref,"data-focused":isFocused||void 0,"data-focus-visible":isFocusVisible||void 0,inert:$cdc5a6778b766db2$export$a9d04c5684123369(!isSelected||props.inert),"data-inert":isSelected?void 0:`true`,"data-entering":isEntering||void 0,"data-exiting":isExiting||void 0},import_react.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$5e8ad37a45e1c704$export$cfa7aa87c26e7d1f,null],[$5e8ad37a45e1c704$export$364712098d2aa57c,null]]},import_react.createElement($7135fc7d473fd974$export$4feb769f8ddf26c5.Provider,{value:$7135fc7d473fd974$export$a164736487e3f0ae},renderProps.children)))}var $216918bed6669f72$export$2dc6166a7e65358c=(0,import_react.createContext)({}),$216918bed6669f72$var$filterHoverProps=props=>{let{onHoverStart,onHoverChange,onHoverEnd,...otherProps}=props;return otherProps},$216918bed6669f72$export$f5c9f3c2c4054eec=(0,import_react.forwardRef)(function(props,ref){[props,ref]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,ref,$216918bed6669f72$export$2dc6166a7e65358c);let{hoverProps,isHovered}=$6179b936705e76d3$export$ae780daf29e6d456(props),{isFocused,isFocusVisible,focusProps}=$f7dceffc5ad7768b$export$4e328f61c538687f({isTextInput:!0,autoFocus:props.autoFocus}),isInvalid=!!props[`aria-invalid`]&&props[`aria-invalid`]!==`false`,renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,values:{isHovered,isFocused,isFocusVisible,isDisabled:props.disabled||!1,isInvalid},defaultClassName:`react-aria-TextArea`});return import_react.createElement(`textarea`,{...$3ef42575df84b30b$export$9d1611c77c2fe928($216918bed6669f72$var$filterHoverProps(props),focusProps,hoverProps),...renderProps,ref,"data-focused":isFocused||void 0,"data-disabled":props.disabled||void 0,"data-hovered":isHovered||void 0,"data-focus-visible":isFocusVisible||void 0,"data-invalid":isInvalid||void 0})}),$bcdf0525bf22703d$export$2129e27b3ef0d483=(0,import_react.createContext)(null),$bcdf0525bf22703d$export$2c73285ae9390cec=$f39a9eba43920ace$export$86427a43e3e48ebb(function(props,ref){[props,ref]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,ref,$bcdf0525bf22703d$export$2129e27b3ef0d483);let{validationBehavior:formValidationBehavior}=$64fa3d84918910a7$export$fabf2dc03a41866e($d3e0e05bdfcf66bd$export$c24727297075ec6a)||{};var _props_validationBehavior,_ref;let validationBehavior=props.validationBehavior??formValidationBehavior??`native`,inputRef=(0,import_react.useRef)(null);[props,inputRef]=$64fa3d84918910a7$export$29f1550f4b0d4415(props,inputRef,$4e85f108e88277b8$export$698f465ec27e93df);let[labelRef,label]=$64fa3d84918910a7$export$9d4c57ee4c6ffdd8(!props[`aria-label`]&&!props[`aria-labelledby`]),[inputElementType,setInputElementType]=(0,import_react.useState)(`input`),{labelProps,inputProps,descriptionProps,errorMessageProps,...validation}=$2d73ec29415bd339$export$712718f7aec83d5({...$64fa3d84918910a7$export$ef03459518577ad4(props),inputElementType,label,validationBehavior},inputRef),inputOrTextAreaRef=(0,import_react.useCallback)(el=>{inputRef.current=el,el&&setInputElementType(el instanceof HTMLTextAreaElement?`textarea`:`input`)},[inputRef]),renderProps=$64fa3d84918910a7$export$4d86445c2cf5e3({...props,values:{isDisabled:props.isDisabled||!1,isInvalid:validation.isInvalid,isReadOnly:props.isReadOnly||!1,isRequired:props.isRequired||!1},defaultClassName:`react-aria-TextField`}),DOMProps=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(props,{global:!0});return delete DOMProps.id,import_react.createElement(`div`,{...DOMProps,...renderProps,ref,slot:props.slot||void 0,"data-disabled":props.isDisabled||void 0,"data-invalid":validation.isInvalid||void 0,"data-readonly":props.isReadOnly||void 0,"data-required":props.isRequired||void 0},import_react.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$01b77f81d0f07f68$export$75b6ee27786ba447,{...labelProps,ref:labelRef}],[$3985021b0ad6602f$export$37fb8590cf2c088c,{...inputProps,ref:inputOrTextAreaRef}],[$216918bed6669f72$export$2dc6166a7e65358c,{...inputProps,ref:inputOrTextAreaRef}],[$a049562f99e7db0e$export$f9c6924e160136d1,{role:`presentation`,isInvalid:validation.isInvalid,isDisabled:props.isDisabled||!1}],[$514c0188e459b4c0$export$9afb8bc826b033ea,{slots:{description:descriptionProps,errorMessage:errorMessageProps}}],[$ee014567cb39d3f0$export$ff05c3ac10437e03,validation]]},renderProps.children))}),SurfaceContext=(0,import_react.createContext)({}),ChipContext=(0,import_react.createContext)({}),ChipRoot=({children,className,color,size,variant,...props})=>{let slots$2=import_react.useMemo(()=>chipVariants({color,size,variant}),[color,size,variant]),chipChildren=import_react.useMemo(()=>typeof children==`string`||typeof children==`number`?(0,import_jsx_runtime.jsx)(ChipLabel,{children}):children,[children]);return(0,import_jsx_runtime.jsx)(ChipContext,{value:{slots:slots$2},children:(0,import_jsx_runtime.jsx)(`span`,{...props,className:composeSlotClassName(slots$2.base,className),"data-slot":`chip`,children:chipChildren})})},ChipLabel=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(ChipContext);return(0,import_jsx_runtime.jsx)(`span`,{className:composeSlotClassName(slots$2?.label,className),"data-slot":`chip-label`,...props,children})},Chip=Object.assign(ChipRoot,{Root:ChipRoot,Label:ChipLabel}),useScrollShadow=props=>{let{containerRef,isEnabled,offset,onVisibilityChange,orientation,visibility}=props,prevStateRef=(0,import_react.useRef)(null),rafIdRef=(0,import_react.useRef)(null),checkOverflow=(0,import_react.useCallback)(()=>{let el=containerRef.current;if(!el)return;let isVertical=orientation===`vertical`,scrollStart=isVertical?el.scrollTop:el.scrollLeft,scrollSize=isVertical?el.scrollHeight:el.scrollWidth,clientSize=isVertical?el.clientHeight:el.clientWidth,hasScrollBefore=scrollStart>offset,hasScrollAfter=scrollStart+clientSize+offset<scrollSize,prevState=prevStateRef.current;prevState&&prevState.hasScrollBefore===hasScrollBefore&&prevState.hasScrollAfter===hasScrollAfter||(prevStateRef.current={hasScrollBefore,hasScrollAfter},rafIdRef.current!==null&&cancelAnimationFrame(rafIdRef.current),rafIdRef.current=requestAnimationFrame(()=>{rafIdRef.current=null,isVertical?hasScrollBefore&&hasScrollAfter?(el.dataset.topBottomScroll=`true`,delete el.dataset.topScroll,delete el.dataset.bottomScroll,onVisibilityChange?.(`both`)):(el.dataset.topScroll=String(hasScrollBefore),el.dataset.bottomScroll=String(hasScrollAfter),delete el.dataset.topBottomScroll,onVisibilityChange&&onVisibilityChange(hasScrollBefore?`top`:hasScrollAfter?`bottom`:`none`)):hasScrollBefore&&hasScrollAfter?(el.dataset.leftRightScroll=`true`,delete el.dataset.leftScroll,delete el.dataset.rightScroll,onVisibilityChange?.(`both`)):(el.dataset.leftScroll=String(hasScrollBefore),el.dataset.rightScroll=String(hasScrollAfter),delete el.dataset.leftRightScroll,onVisibilityChange&&onVisibilityChange(hasScrollBefore?`left`:hasScrollAfter?`right`:`none`))}))},[containerRef,orientation,offset,onVisibilityChange]);(0,import_react.useEffect)(()=>{let el=containerRef.current;if(!el||!isEnabled||visibility!==`auto`)return;checkOverflow(),el.addEventListener(`scroll`,checkOverflow,{passive:!0});let resizeObserver=new ResizeObserver(checkOverflow);return resizeObserver.observe(el),()=>{el.removeEventListener(`scroll`,checkOverflow),resizeObserver.disconnect(),rafIdRef.current!==null&&(cancelAnimationFrame(rafIdRef.current),rafIdRef.current=null),prevStateRef.current=null}},[containerRef,visibility,isEnabled,checkOverflow])},useSafeLayoutEffect=globalThis?.document?import_react.useLayoutEffect:import_react.useEffect,ScrollShadowRoot=({children,className,hideScrollBar=!1,isEnabled=!0,offset=0,onVisibilityChange,orientation=`vertical`,ref,size=40,variant=`fade`,visibility=`auto`,...props})=>{let internalRef=(0,import_react.useRef)(null);useScrollShadow({containerRef:internalRef,isEnabled,offset,onVisibilityChange,orientation,visibility}),useSafeLayoutEffect(()=>{let el=internalRef.current;!el||visibility===`auto`||(delete el.dataset.topScroll,delete el.dataset.bottomScroll,delete el.dataset.topBottomScroll,delete el.dataset.leftScroll,delete el.dataset.rightScroll,delete el.dataset.leftRightScroll,visibility===`both`?el.dataset[orientation===`vertical`?`topBottomScroll`:`leftRightScroll`]=`true`:visibility!==`none`&&(el.dataset[`${visibility}Scroll`]=`true`))},[visibility,orientation]);let slots$2=(0,import_react.useMemo)(()=>scrollShadowVariants({hideScrollBar,orientation,variant}),[orientation,hideScrollBar,variant]);return(0,import_jsx_runtime.jsx)(`div`,{ref:$5dc95899b306f630$export$c9058316764c140e(internalRef,ref),className:slots$2.base({className}),"data-orientation":orientation,"data-scroll-shadow-size":size,style:{"--scroll-shadow-size":`${size}px`,...props.style},...props,children})};ScrollShadowRoot.displayName=`HeroUI.ScrollShadow`;var ScrollShadow=Object.assign(ScrollShadowRoot,{Root:ScrollShadowRoot}),cssVariableCache=new Map;function useCSSVariable(variableName,override,cache=!0){let isSSR=$b5e257d569688ac6$export$535bd6ca7f90a273();return import_react.useMemo(()=>{if(override!==void 0)return override;if(!isSSR){if(cache&&cssVariableCache.has(variableName))return cssVariableCache.get(variableName);try{let root=document.documentElement,value=getComputedStyle(root).getPropertyValue(variableName).trim()||void 0;return cache&&cssVariableCache.set(variableName,value),value}catch{return}}},[variableName,override,isSSR,cache])}var SkeletonRoot=({animationType,className,...props})=>{let resolvedAnimationType=useCSSVariable(`--skeleton-animation`,animationType);return(0,import_jsx_runtime.jsx)(`div`,{className:import_react.useMemo(()=>skeletonVariants({animationType:resolvedAnimationType}),[resolvedAnimationType]).base({className}),...props})},Skeleton=Object.assign(SkeletonRoot,{Root:SkeletonRoot}),TabsContext=(0,import_react.createContext)({}),TabsRoot=({children,className,hideSeparator=!1,orientation=`horizontal`,variant,...props})=>{let slots$2=import_react.useMemo(()=>tabsVariants({variant}),[variant]);return(0,import_jsx_runtime.jsx)(TabsContext,{value:{hideSeparator,orientation,slots:slots$2},children:(0,import_jsx_runtime.jsx)($5e8ad37a45e1c704$export$b2539bed5023c21c,{...props,className:composeTwRenderProps(className,slots$2.base()),"data-slot":`tabs`,orientation,children})})},TabListContainer=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(TabsContext);return(0,import_jsx_runtime.jsx)(`div`,{className:composeSlotClassName(slots$2?.tabListContainer,className),"data-slot":`tabs-list-container`,...props,children})},TabList=({children,className,...props})=>{let{hideSeparator,slots:slots$2}=(0,import_react.useContext)(TabsContext);return(0,import_jsx_runtime.jsx)($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{...props,className:composeTwRenderProps(className,slots$2?.tabList()),"data-hide-separator":hideSeparator?`true`:void 0,"data-slot":`tabs-list`,children})},Tab=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(TabsContext);return(0,import_jsx_runtime.jsx)($5e8ad37a45e1c704$export$3e41faf802a29e71,{...props,className:composeTwRenderProps(className,slots$2?.tab()),"data-slot":`tabs-tab`,children})},TabIndicator=({className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(TabsContext);return(0,import_jsx_runtime.jsx)($1d5b8b8664671ef2$export$17f80983afe4e444,{className:composeSlotClassName(slots$2?.tabIndicator,className),"data-slot":`tabs-indicator`,...props})},TabPanel=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(TabsContext);return(0,import_jsx_runtime.jsx)($5e8ad37a45e1c704$export$3d96ec278d3efce4,{...props,className:composeTwRenderProps(className,slots$2?.tabPanel()),"data-slot":`tabs-panel`,children})},Tabs=Object.assign(TabsRoot,{Root:TabsRoot,ListContainer:TabListContainer,List:TabList,Tab,Indicator:TabIndicator,Panel:TabPanel}),TextFieldContext=(0,import_react.createContext)({}),TextFieldRoot=({children,className,fullWidth,variant,...props})=>{let styles=import_react.useMemo(()=>textFieldVariants({fullWidth}),[fullWidth]);return(0,import_jsx_runtime.jsx)($bcdf0525bf22703d$export$2c73285ae9390cec,{"data-slot":`text-field`,...props,className:composeTwRenderProps(className,styles),children:values=>(0,import_jsx_runtime.jsx)(TextFieldContext,{value:{variant},children:(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:typeof children==`function`?children(values):children})})})},InputRoot=({className,fullWidth,variant:variantProp,...rest})=>{let context=(0,import_react.useContext)(TextFieldContext);return(0,import_jsx_runtime.jsx)($3985021b0ad6602f$export$f5b8910cec6cf069,{className:composeTwRenderProps(className,inputVariants({fullWidth,variant:variantProp??context.variant})),"data-slot":`input`,...rest})},Input=Object.assign(InputRoot,{Root:InputRoot}),TextAreaRoot=({className,fullWidth,variant,...rest})=>{let textFieldContext=(0,import_react.useContext)(TextFieldContext),resolvedVariant=variant??textFieldContext?.variant;return(0,import_jsx_runtime.jsx)($216918bed6669f72$export$f5c9f3c2c4054eec,{"data-slot":`textarea`,className:composeTwRenderProps(className,textAreaVariants({fullWidth,variant:resolvedVariant})),...rest})},TextArea=Object.assign(TextAreaRoot,{Root:TextAreaRoot}),TextField=Object.assign(TextFieldRoot,{Root:TextFieldRoot}),LabelRoot=({children,className,isDisabled,isInvalid,isRequired,...rest})=>(0,import_jsx_runtime.jsx)($01b77f81d0f07f68$export$b04be29aa201d4f5,{className:labelVariants({isRequired,isDisabled,isInvalid,className}),"data-slot":`label`,...rest,children}),Label=Object.assign(LabelRoot,{Root:LabelRoot}),FieldErrorRoot=({children,className,...rest})=>(0,import_jsx_runtime.jsx)($ee014567cb39d3f0$export$f551688fc98f2e09,{"data-visible":!0,className:composeTwRenderProps(className,fieldErrorVariants()),"data-slot":`field-error`,...rest,children:renderProps=>typeof children==`function`?children(renderProps):children}),FieldError=Object.assign(FieldErrorRoot,{Root:FieldErrorRoot}),ModalContext=(0,import_react.createContext)({}),ModalRoot=({children,state,...props})=>{let modalContext=(0,import_react.useMemo)(()=>({slots:modalVariants(),placement:void 0}),[]),controlledProps=(0,import_react.useMemo)(()=>state?{isOpen:state.isOpen,onOpenChange:state.setOpen}:{},[state]);return(0,import_jsx_runtime.jsx)(ModalContext,{value:modalContext,children:(0,import_jsx_runtime.jsx)($de32f1b87079253c$export$2e1e1122cf0cba88,{"data-slot":`modal-root`,...$3ef42575df84b30b$export$9d1611c77c2fe928(props,controlledProps),children})})},ModalTrigger=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(ModalContext);return(0,import_jsx_runtime.jsx)($3b117e43dc0ca95d$export$27c701ed9e449e99,{children:(0,import_jsx_runtime.jsx)(`div`,{className:composeSlotClassName(slots$2?.trigger,className),"data-slot":`modal-trigger`,role:`button`,...props,children})})},ModalBackdrop=({children,className,isDismissable=!0,variant,...props})=>{let{slots:contextSlots}=(0,import_react.useContext)(ModalContext),updatedSlots=(0,import_react.useMemo)(()=>modalVariants({variant}),[variant]),updatedModalContext=(0,import_react.useMemo)(()=>({slots:{...contextSlots,...updatedSlots}}),[contextSlots,updatedSlots]);return(0,import_jsx_runtime.jsx)($f3f84453ead64de5$export$8948f78d83984c69,{className:composeTwRenderProps(className,updatedSlots?.backdrop()),"data-slot":`modal-backdrop`,isDismissable,...props,children:renderProps=>(0,import_jsx_runtime.jsxs)(ModalContext,{value:updatedModalContext,children:[typeof children==`function`?children(renderProps):children,` `]})})},ModalContainer=({children,className,placement=`auto`,scroll,size,...props})=>{let{slots:contextSlots}=(0,import_react.useContext)(ModalContext),updatedSlots=(0,import_react.useMemo)(()=>modalVariants({scroll,size}),[scroll,size]),updatedModalContext=(0,import_react.useMemo)(()=>({placement,slots:{...contextSlots,...updatedSlots}}),[contextSlots,placement,updatedSlots]);return(0,import_jsx_runtime.jsx)($f3f84453ead64de5$export$2b77a92f1a5ad772,{className:composeTwRenderProps(className,updatedSlots?.container()),"data-placement":placement,"data-slot":`modal-container`,...props,children:renderProps=>(0,import_jsx_runtime.jsx)(ModalContext,{value:updatedModalContext,children:typeof children==`function`?children(renderProps):children})})},ModalDialog=({children,className,...props})=>{let{placement,slots:slots$2}=(0,import_react.useContext)(ModalContext);return(0,import_jsx_runtime.jsx)(SurfaceContext,{value:{variant:`default`},children:(0,import_jsx_runtime.jsx)($de32f1b87079253c$export$3ddf2d174ce01153,{className:composeSlotClassName(slots$2?.dialog,className),"data-placement":placement,"data-slot":`modal-dialog`,...props,children})})},ModalHeader=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(ModalContext);return(0,import_jsx_runtime.jsx)(`div`,{className:composeSlotClassName(slots$2?.header,className),"data-slot":`modal-header`,...props,children})},ModalBody=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(ModalContext);return(0,import_jsx_runtime.jsx)(`div`,{className:composeSlotClassName(slots$2?.body,className),"data-slot":`modal-body`,...props,children})},ModalFooter=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(ModalContext);return(0,import_jsx_runtime.jsx)(`div`,{className:composeSlotClassName(slots$2?.footer,className),"data-slot":`modal-footer`,...props,children})},ModalHeading=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(ModalContext);return(0,import_jsx_runtime.jsx)($5cb03073d3f54797$export$a8a3e93435678ff9,{className:composeSlotClassName(slots$2?.heading,className),"data-slot":`modal-heading`,slot:`title`,...props,children})},ModalIcon=({children,className,...props})=>{let{slots:slots$2}=(0,import_react.useContext)(ModalContext);return(0,import_jsx_runtime.jsx)(`div`,{className:composeSlotClassName(slots$2?.icon,className),"data-slot":`modal-icon`,...props,children})},ModalCloseTrigger=({className,...rest})=>{let{slots:slots$2}=(0,import_react.useContext)(ModalContext);return(0,import_jsx_runtime.jsx)(CloseButton,{className:composeTwRenderProps(className,slots$2?.closeTrigger()),"data-slot":`modal-close-trigger`,slot:`close`,...rest})},Modal=Object.assign(ModalRoot,{Root:ModalRoot,Trigger:ModalTrigger,Backdrop:ModalBackdrop,Container:ModalContainer,Dialog:ModalDialog,Header:ModalHeader,Icon:ModalIcon,Heading:ModalHeading,Body:ModalBody,Footer:ModalFooter,CloseTrigger:ModalCloseTrigger}),useOverlayState=(props={})=>{let{defaultOpen=!1,isOpen:controlledIsOpen,onOpenChange}=props,[uncontrolledIsOpen,setUncontrolledIsOpen]=(0,import_react.useState)(defaultOpen),isControlled=controlledIsOpen!==void 0,isOpen=isControlled?controlledIsOpen:uncontrolledIsOpen,onOpenChangeRef=(0,import_react.useRef)(onOpenChange);(0,import_react.useEffect)(()=>{onOpenChangeRef.current=onOpenChange},[onOpenChange]);let setOpen=(0,import_react.useCallback)(nextIsOpen=>{onOpenChangeRef.current?.(nextIsOpen),isControlled||setUncontrolledIsOpen(nextIsOpen)},[isControlled]),open=(0,import_react.useCallback)(()=>{setOpen(!0)},[setOpen]);return{close:(0,import_react.useCallback)(()=>{setOpen(!1)},[setOpen]),isOpen,open,setOpen,toggle:(0,import_react.useCallback)(()=>{setOpen(!isOpen)},[setOpen,isOpen])}},ConsoleLogger=class{info(message,extra){console.info(message,extra)}debug(message,extra){console.debug(message,extra)}warn(message,extra){console.warn(message,extra)}error(message,extra){console.error(message,extra)}},import_compiler_runtime$39=require_compiler_runtime();const logger=new ConsoleLogger;var LoggingMiddleware=class{async handle(command,nextHandler){let commandName=command.constructor.name;logger.info(`Handling command: ${commandName}`,{command});try{let result=await nextHandler();return logger.info(`Successfully handled command: ${commandName}`,{result}),result}catch(error){throw logger.error(`Error handling command: ${commandName}`,{error}),error}}},CommandBus=class{constructor(middlwares){this.middlewares=middlwares||[]}async dispatch(command){let handler=()=>command.execute();for(let middleware of[...this.middlewares].reverse()){let next=handler;handler=()=>middleware.handle(command,next)}return handler()}};const commandBus=new CommandBus([new LoggingMiddleware]);var GetContributions=class{constructor(init){this.request=init.request,this.gitContibutionRepository=init.gitContributionRepository}async execute(){let contributions=await this.gitContibutionRepository.getContributions(this.request.username);return{total:contributions.reduce((sum,contribution)=>sum+contribution.count,0),contributions}}},GetRecentCommit=class{constructor(init){this.request=init.request,this.gitRepository=init.gitRepository}async execute(){return{recentCommit:await this.gitRepository.getRecentCommit(this.request.username)}}},GetUser=class{constructor(init){this.request=init.request,this.gitRepository=init.gitRepository}async execute(){return{user:await this.gitRepository.getUser(this.request.username)}}},LoggingGitRepository=class{constructor(inner){this.inner=inner}async getRecentCommit(username){try{logger.info(`Fetching recent commit for user: ${username}`);let commit=await this.inner.getRecentCommit(username);return logger.info(`Successfully fetched recent commit for user: ${username}`),commit}catch(error){throw logger.error(`Error fetching recent commit for user: ${username}`),error}}async getUser(username){try{logger.info(`Fetching user information for user: ${username}`);let user=await this.inner.getUser(username);return logger.info(`Successfully fetched user information for user: ${username}`),user}catch(error){throw logger.error(`Error fetching user information for user: ${username}`),error}}},DecoratedGitRepository=class{constructor(inner){this.inner=new LoggingGitRepository(inner)}async getRecentCommit(username){return this.inner.getRecentCommit(username)}async getUser(username){return this.inner.getUser(username)}},GitRepositoryError=class GitRepositoryError extends Error{constructor(message,options){super(message,options),this.name=`GitRepositoryError`,Object.setPrototypeOf(this,GitRepositoryError.prototype)}},GitRepositoryNoRecentCommitError=class GitRepositoryNoRecentCommitError extends Error{constructor(username,options){super(`No recent commit found for user: ${username}`,options),this.name=`GitRepositoryNoRecentCommitError`,Object.setPrototypeOf(this,GitRepositoryNoRecentCommitError.prototype)}},GitContributionRepositoryError=class GitContributionRepositoryError extends Error{constructor(message,options){super(message,options),this.name=`GitContributionRepositoryError`,Object.setPrototypeOf(this,GitContributionRepositoryError.prototype)}},GitCommit=class{constructor(init){this.id=init.id,this.username=init.username,this.repository=init.repository,this.createdAt=init.createdAt}},GitUser=class{constructor(init){this.username=init.username,this.publicRepositories=init.publicRepositories,this.company=init.company,this.location=init.location,this.hireable=init.hireable,this.createdAt=init.createdAt,this.updatedAt=init.updatedAt}},GithubGitRepository=class{constructor(githubClient$1){this.githubClient=githubClient$1}async request(execute){try{return await execute()}catch(error){throw error instanceof GitRepositoryError?error:new GitRepositoryError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getUser(username){return await this.request(async()=>new GitUser({...(await this.githubClient.getUser({username})).user}))}async getRecentCommit(username){return this.request(async()=>{let recentPushEvent=(await this.githubClient.getEvents({username})).events.find(event=>event.type===`PushEvent`);if(!recentPushEvent)throw new GitRepositoryNoRecentCommitError(username);return new GitCommit({id:recentPushEvent.id,username:recentPushEvent.actor.username,createdAt:recentPushEvent.createdAt,repository:recentPushEvent.repository.name})})}},LoggingGitContributionRepository=class{constructor(inner){this.inner=inner}async getContributions(username){try{logger.info(`Fetching contributions for user: ${username}`);let contributions=await this.inner.getContributions(username);return logger.info(`Successfully fetched contributions for user: ${username}`),contributions}catch(error){throw logger.error(`Error fetching contributions for user: ${username}`),error}}},DecoratedGitContributionRepository=class{constructor(inner){this.inner=new LoggingGitContributionRepository(inner)}async getContributions(username){return await this.inner.getContributions(username)}},GithubGitContributionRepository=class{constructor(githubClient$1){this.githubContributionsClient=githubClient$1}async request(execute){try{return await execute()}catch(error){throw error instanceof GitContributionRepositoryError?error:new GitContributionRepositoryError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getContributions(username){return await this.request(async()=>(await this.githubContributionsClient.getContributions({username})).contributions)}},GithubClientError=class GithubClientError extends Error{constructor(message,options){super(message,options),this.name=`GithubClientError`,Object.setPrototypeOf(this,GithubClientError.prototype)}},GithubClientRequestError=class GithubClientRequestError extends Error{constructor(message,options){super(message,options),this.name=`GithubClientRequestError`,Object.setPrototypeOf(this,GithubClientRequestError.prototype)}},LoggingGithubClient=class{constructor(inner){this.inner=inner}async getEvents(request){try{logger.info(`Requesting events for user: ${request.username}`);let response=await this.inner.getEvents(request);return logger.info(`Received events for user: ${request.username}`),response}catch(error){throw logger.error(`An error has occurred while requesting events for user: ${request.username}.`),error}}async getUser(request){try{logger.info(`Requesting user information for user: ${request.username}`);let response=await this.inner.getUser(request);return logger.info(`Received user information for user: ${request.username}`),response}catch(error){throw logger.error(`An error has occurred while requesting user information for user: ${request.username}.`),error}}},DecoratedGithubClient=class{constructor(inner){this.inner=new LoggingGithubClient(inner)}async getEvents(request){return await this.inner.getEvents(request)}async getUser(request){return await this.inner.getUser(request)}};function bind(fn,thisArg){return function(){return fn.apply(thisArg,arguments)}}var{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(cache=>thing=>{let str=toString.call(thing);return cache[str]||(cache[str]=str.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=type=>(type=type.toLowerCase(),thing=>kindOf(thing)===type),typeOfTest=type=>thing=>typeof thing===type,{isArray}=Array,isUndefined=typeOfTest(`undefined`);function isBuffer(val){return val!==null&&!isUndefined(val)&&val.constructor!==null&&!isUndefined(val.constructor)&&isFunction$1(val.constructor.isBuffer)&&val.constructor.isBuffer(val)}var isArrayBuffer=kindOfTest(`ArrayBuffer`);function isArrayBufferView(val){let result;return result=typeof ArrayBuffer<`u`&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&isArrayBuffer(val.buffer),result}var isString=typeOfTest(`string`),isFunction$1=typeOfTest(`function`),isNumber=typeOfTest(`number`),isObject$1=thing=>typeof thing==`object`&&!!thing,isBoolean=thing=>thing===!0||thing===!1,isPlainObject$1=val=>{if(kindOf(val)!==`object`)return!1;let prototype$1=getPrototypeOf(val);return(prototype$1===null||prototype$1===Object.prototype||Object.getPrototypeOf(prototype$1)===null)&&!(toStringTag in val)&&!(iterator in val)},isEmptyObject=val=>{if(!isObject$1(val)||isBuffer(val))return!1;try{return Object.keys(val).length===0&&Object.getPrototypeOf(val)===Object.prototype}catch{return!1}},isDate=kindOfTest(`Date`),isFile=kindOfTest(`File`),isBlob=kindOfTest(`Blob`),isFileList=kindOfTest(`FileList`),isStream=val=>isObject$1(val)&&isFunction$1(val.pipe),isFormData=thing=>{let kind;return thing&&(typeof FormData==`function`&&thing instanceof FormData||isFunction$1(thing.append)&&((kind=kindOf(thing))===`formdata`||kind===`object`&&isFunction$1(thing.toString)&&thing.toString()===`[object FormData]`))},isURLSearchParams=kindOfTest(`URLSearchParams`),[isReadableStream,isRequest,isResponse,isHeaders]=[`ReadableStream`,`Request`,`Response`,`Headers`].map(kindOfTest),trim=str=>str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,``);function forEach(obj,fn,{allOwnKeys=!1}={}){if(obj==null)return;let i$1,l$2;if(typeof obj!=`object`&&(obj=[obj]),isArray(obj))for(i$1=0,l$2=obj.length;i$1<l$2;i$1++)fn.call(null,obj[i$1],i$1,obj);else{if(isBuffer(obj))return;let keys=allOwnKeys?Object.getOwnPropertyNames(obj):Object.keys(obj),len=keys.length,key;for(i$1=0;i$1<len;i$1++)key=keys[i$1],fn.call(null,obj[key],key,obj)}}function findKey(obj,key){if(isBuffer(obj))return null;key=key.toLowerCase();let keys=Object.keys(obj),i$1=keys.length,_key;for(;i$1-- >0;)if(_key=keys[i$1],key===_key.toLowerCase())return _key;return null}var _global=(()=>typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:global)(),isContextDefined=context=>!isUndefined(context)&&context!==_global;function merge$1(){let{caseless,skipUndefined}=isContextDefined(this)&&this||{},result={},assignValue=(val,key)=>{if(key===`__proto__`||key===`constructor`||key===`prototype`)return;let targetKey=caseless&&findKey(result,key)||key;isPlainObject$1(result[targetKey])&&isPlainObject$1(val)?result[targetKey]=merge$1(result[targetKey],val):isPlainObject$1(val)?result[targetKey]=merge$1({},val):isArray(val)?result[targetKey]=val.slice():(!skipUndefined||!isUndefined(val))&&(result[targetKey]=val)};for(let i$1=0,l$2=arguments.length;i$1<l$2;i$1++)arguments[i$1]&&forEach(arguments[i$1],assignValue);return result}var extend$1=(a$2,b$2,thisArg,{allOwnKeys}={})=>(forEach(b$2,(val,key)=>{thisArg&&isFunction$1(val)?Object.defineProperty(a$2,key,{value:bind(val,thisArg),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(a$2,key,{value:val,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys}),a$2),stripBOM=content=>(content.charCodeAt(0)===65279&&(content=content.slice(1)),content),inherits=(constructor,superConstructor,props,descriptors)=>{constructor.prototype=Object.create(superConstructor.prototype,descriptors),Object.defineProperty(constructor.prototype,`constructor`,{value:constructor,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(constructor,`super`,{value:superConstructor.prototype}),props&&Object.assign(constructor.prototype,props)},toFlatObject=(sourceObj,destObj,filter,propFilter)=>{let props,i$1,prop,merged={};if(destObj||={},sourceObj==null)return destObj;do{for(props=Object.getOwnPropertyNames(sourceObj),i$1=props.length;i$1-- >0;)prop=props[i$1],(!propFilter||propFilter(prop,sourceObj,destObj))&&!merged[prop]&&(destObj[prop]=sourceObj[prop],merged[prop]=!0);sourceObj=filter!==!1&&getPrototypeOf(sourceObj)}while(sourceObj&&(!filter||filter(sourceObj,destObj))&&sourceObj!==Object.prototype);return destObj},endsWith=(str,searchString,position)=>{str=String(str),(position===void 0||position>str.length)&&(position=str.length),position-=searchString.length;let lastIndex=str.indexOf(searchString,position);return lastIndex!==-1&&lastIndex===position},toArray=thing=>{if(!thing)return null;if(isArray(thing))return thing;let i$1=thing.length;if(!isNumber(i$1))return null;let arr=Array(i$1);for(;i$1-- >0;)arr[i$1]=thing[i$1];return arr},isTypedArray=(TypedArray=>thing=>TypedArray&&thing instanceof TypedArray)(typeof Uint8Array<`u`&&getPrototypeOf(Uint8Array)),forEachEntry=(obj,fn)=>{let _iterator=(obj&&obj[iterator]).call(obj),result;for(;(result=_iterator.next())&&!result.done;){let pair=result.value;fn.call(obj,pair[0],pair[1])}},matchAll=(regExp,str)=>{let matches,arr=[];for(;(matches=regExp.exec(str))!==null;)arr.push(matches);return arr},isHTMLForm=kindOfTest(`HTMLFormElement`),toCamelCase$1=str=>str.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m$2,p1,p2){return p1.toUpperCase()+p2}),hasOwnProperty=(({hasOwnProperty:hasOwnProperty$1})=>(obj,prop)=>hasOwnProperty$1.call(obj,prop))(Object.prototype),isRegExp=kindOfTest(`RegExp`),reduceDescriptors=(obj,reducer)=>{let descriptors=Object.getOwnPropertyDescriptors(obj),reducedDescriptors={};forEach(descriptors,(descriptor,name)=>{let ret;(ret=reducer(descriptor,name,obj))!==!1&&(reducedDescriptors[name]=ret||descriptor)}),Object.defineProperties(obj,reducedDescriptors)},freezeMethods=obj=>{reduceDescriptors(obj,(descriptor,name)=>{if(isFunction$1(obj)&&[`arguments`,`caller`,`callee`].indexOf(name)!==-1)return!1;let value=obj[name];if(isFunction$1(value)){if(descriptor.enumerable=!1,`writable`in descriptor){descriptor.writable=!1;return}descriptor.set||=()=>{throw Error(`Can not rewrite read-only method '`+name+`'`)}}})},toObjectSet=(arrayOrString,delimiter)=>{let obj={},define$1=arr=>{arr.forEach(value=>{obj[value]=!0})};return isArray(arrayOrString)?define$1(arrayOrString):define$1(String(arrayOrString).split(delimiter)),obj},noop=()=>{},toFiniteNumber=(value,defaultValue)=>value!=null&&Number.isFinite(value=+value)?value:defaultValue;function isSpecCompliantForm(thing){return!!(thing&&isFunction$1(thing.append)&&thing[toStringTag]===`FormData`&&thing[iterator])}var toJSONObject=obj=>{let stack=Array(10),visit=(source,i$1)=>{if(isObject$1(source)){if(stack.indexOf(source)>=0)return;if(isBuffer(source))return source;if(!(`toJSON`in source)){stack[i$1]=source;let target=isArray(source)?[]:{};return forEach(source,(value,key)=>{let reducedValue=visit(value,i$1+1);!isUndefined(reducedValue)&&(target[key]=reducedValue)}),stack[i$1]=void 0,target}}return source};return visit(obj,0)},isAsyncFn=kindOfTest(`AsyncFunction`),isThenable=thing=>thing&&(isObject$1(thing)||isFunction$1(thing))&&isFunction$1(thing.then)&&isFunction$1(thing.catch),_setImmediate=((setImmediateSupported,postMessageSupported)=>setImmediateSupported?setImmediate:postMessageSupported?((token,callbacks)=>(_global.addEventListener(`message`,({source,data})=>{source===_global&&data===token&&callbacks.length&&callbacks.shift()()},!1),cb=>{callbacks.push(cb),_global.postMessage(token,`*`)}))(`axios@${Math.random()}`,[]):cb=>setTimeout(cb))(typeof setImmediate==`function`,isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<`u`?queueMicrotask.bind(_global):typeof process<`u`&&process.nextTick||_setImmediate,isIterable=thing=>thing!=null&&isFunction$1(thing[iterator]),utils_default={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$1,isPlainObject:isPlainObject$1,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable},AxiosError=class AxiosError extends Error{static from(error,code,config$1,request,response,customProps){let axiosError=new AxiosError(error.message,code||error.code,config$1,request,response);return axiosError.cause=error,axiosError.name=error.name,customProps&&Object.assign(axiosError,customProps),axiosError}constructor(message,code,config$1,request,response){super(message),this.name=`AxiosError`,this.isAxiosError=!0,code&&(this.code=code),config$1&&(this.config=config$1),request&&(this.request=request),response&&(this.response=response,this.status=response.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils_default.toJSONObject(this.config),code:this.code,status:this.status}}};AxiosError.ERR_BAD_OPTION_VALUE=`ERR_BAD_OPTION_VALUE`,AxiosError.ERR_BAD_OPTION=`ERR_BAD_OPTION`,AxiosError.ECONNABORTED=`ECONNABORTED`,AxiosError.ETIMEDOUT=`ETIMEDOUT`,AxiosError.ERR_NETWORK=`ERR_NETWORK`,AxiosError.ERR_FR_TOO_MANY_REDIRECTS=`ERR_FR_TOO_MANY_REDIRECTS`,AxiosError.ERR_DEPRECATED=`ERR_DEPRECATED`,AxiosError.ERR_BAD_RESPONSE=`ERR_BAD_RESPONSE`,AxiosError.ERR_BAD_REQUEST=`ERR_BAD_REQUEST`,AxiosError.ERR_CANCELED=`ERR_CANCELED`,AxiosError.ERR_NOT_SUPPORT=`ERR_NOT_SUPPORT`,AxiosError.ERR_INVALID_URL=`ERR_INVALID_URL`;var AxiosError_default=AxiosError,null_default=null;function isVisitable(thing){return utils_default.isPlainObject(thing)||utils_default.isArray(thing)}function removeBrackets(key){return utils_default.endsWith(key,`[]`)?key.slice(0,-2):key}function renderKey(path,key,dots){return path?path.concat(key).map(function(token,i$1){return token=removeBrackets(token),!dots&&i$1?`[`+token+`]`:token}).join(dots?`.`:``):key}function isFlatArray(arr){return utils_default.isArray(arr)&&!arr.some(isVisitable)}var predicates=utils_default.toFlatObject(utils_default,{},null,function(prop){return/^is[A-Z]/.test(prop)});function toFormData(obj,formData,options){if(!utils_default.isObject(obj))throw TypeError(`target must be an object`);formData||=new FormData,options=utils_default.toFlatObject(options,{metaTokens:!0,dots:!1,indexes:!1},!1,function(option,source){return!utils_default.isUndefined(source[option])});let metaTokens=options.metaTokens,visitor=options.visitor||defaultVisitor,dots=options.dots,indexes=options.indexes,useBlob=(options.Blob||typeof Blob<`u`&&Blob)&&utils_default.isSpecCompliantForm(formData);if(!utils_default.isFunction(visitor))throw TypeError(`visitor must be a function`);function convertValue(value){if(value===null)return``;if(utils_default.isDate(value))return value.toISOString();if(utils_default.isBoolean(value))return value.toString();if(!useBlob&&utils_default.isBlob(value))throw new AxiosError_default(`Blob is not supported. Use a Buffer instead.`);return utils_default.isArrayBuffer(value)||utils_default.isTypedArray(value)?useBlob&&typeof Blob==`function`?new Blob([value]):Buffer.from(value):value}function defaultVisitor(value,key,path){let arr=value;if(value&&!path&&typeof value==`object`){if(utils_default.endsWith(key,`{}`))key=metaTokens?key:key.slice(0,-2),value=JSON.stringify(value);else if(utils_default.isArray(value)&&isFlatArray(value)||(utils_default.isFileList(value)||utils_default.endsWith(key,`[]`))&&(arr=utils_default.toArray(value)))return key=removeBrackets(key),arr.forEach(function(el,index){!(utils_default.isUndefined(el)||el===null)&&formData.append(indexes===!0?renderKey([key],index,dots):indexes===null?key:key+`[]`,convertValue(el))}),!1}return isVisitable(value)?!0:(formData.append(renderKey(path,key,dots),convertValue(value)),!1)}let stack=[],exposedHelpers=Object.assign(predicates,{defaultVisitor,convertValue,isVisitable});function build(value,path){if(!utils_default.isUndefined(value)){if(stack.indexOf(value)!==-1)throw Error(`Circular reference detected in `+path.join(`.`));stack.push(value),utils_default.forEach(value,function(el,key){(!(utils_default.isUndefined(el)||el===null)&&visitor.call(formData,el,utils_default.isString(key)?key.trim():key,path,exposedHelpers))===!0&&build(el,path?path.concat(key):[key])}),stack.pop()}}if(!utils_default.isObject(obj))throw TypeError(`data must be an object`);return build(obj),formData}var toFormData_default=toFormData;function encode$3(str){let charMap={"!":`%21`,"'":`%27`,"(":`%28`,")":`%29`,"~":`%7E`,"%20":`+`,"%00":`\0`};return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g,function(match){return charMap[match]})}function AxiosURLSearchParams(params,options){this._pairs=[],params&&toFormData_default(params,this,options)}var prototype=AxiosURLSearchParams.prototype;prototype.append=function(name,value){this._pairs.push([name,value])},prototype.toString=function(encoder){let _encode$1=encoder?function(value){return encoder.call(this,value,encode$3)}:encode$3;return this._pairs.map(function(pair){return _encode$1(pair[0])+`=`+_encode$1(pair[1])},``).join(`&`)};var AxiosURLSearchParams_default=AxiosURLSearchParams;function encode$2(val){return encodeURIComponent(val).replace(/%3A/gi,`:`).replace(/%24/g,`$`).replace(/%2C/gi,`,`).replace(/%20/g,`+`)}function buildURL(url,params,options){if(!params)return url;let _encode$1=options&&options.encode||encode$2,_options=utils_default.isFunction(options)?{serialize:options}:options,serializeFn=_options&&_options.serialize,serializedParams;if(serializedParams=serializeFn?serializeFn(params,_options):utils_default.isURLSearchParams(params)?params.toString():new AxiosURLSearchParams_default(params,_options).toString(_encode$1),serializedParams){let hashmarkIndex=url.indexOf(`#`);hashmarkIndex!==-1&&(url=url.slice(0,hashmarkIndex)),url+=(url.indexOf(`?`)===-1?`?`:`&`)+serializedParams}return url}var InterceptorManager=class{constructor(){this.handlers=[]}use(fulfilled,rejected,options){return this.handlers.push({fulfilled,rejected,synchronous:options?options.synchronous:!1,runWhen:options?options.runWhen:null}),this.handlers.length-1}eject(id){this.handlers[id]&&(this.handlers[id]=null)}clear(){this.handlers&&=[]}forEach(fn){utils_default.forEach(this.handlers,function(h$2){h$2!==null&&fn(h$2)})}},InterceptorManager_default=InterceptorManager,transitional_default={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},URLSearchParams_default=typeof URLSearchParams<`u`?URLSearchParams:AxiosURLSearchParams_default,FormData_default=typeof FormData<`u`?FormData:null,Blob_default=typeof Blob<`u`?Blob:null,browser_default={isBrowser:!0,classes:{URLSearchParams:URLSearchParams_default,FormData:FormData_default,Blob:Blob_default},protocols:[`http`,`https`,`file`,`blob`,`url`,`data`]},utils_exports=__export({hasBrowserEnv:()=>hasBrowserEnv,hasStandardBrowserEnv:()=>hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv:()=>hasStandardBrowserWebWorkerEnv,navigator:()=>_navigator,origin:()=>origin}),hasBrowserEnv=typeof window<`u`&&typeof document<`u`,_navigator=typeof navigator==`object`&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||[`ReactNative`,`NativeScript`,`NS`].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<`u`&&self instanceof WorkerGlobalScope&&typeof self.importScripts==`function`)(),origin=hasBrowserEnv&&window.location.href||`http://localhost`,platform_default={...utils_exports,...browser_default};function toURLEncodedForm(data,options){return toFormData_default(data,new platform_default.classes.URLSearchParams,{visitor:function(value,key,path,helpers){return platform_default.isNode&&utils_default.isBuffer(value)?(this.append(key,value.toString(`base64`)),!1):helpers.defaultVisitor.apply(this,arguments)},...options})}function parsePropPath(name){return utils_default.matchAll(/\w+|\[(\w*)]/g,name).map(match=>match[0]===`[]`?``:match[1]||match[0])}function arrayToObject(arr){let obj={},keys=Object.keys(arr),i$1,len=keys.length,key;for(i$1=0;i$1<len;i$1++)key=keys[i$1],obj[key]=arr[key];return obj}function formDataToJSON(formData){function buildPath(path,value,target,index){let name=path[index++];if(name===`__proto__`)return!0;let isNumericKey=Number.isFinite(+name),isLast=index>=path.length;return name=!name&&utils_default.isArray(target)?target.length:name,isLast?(utils_default.hasOwnProp(target,name)?target[name]=[target[name],value]:target[name]=value,!isNumericKey):((!target[name]||!utils_default.isObject(target[name]))&&(target[name]=[]),buildPath(path,value,target[name],index)&&utils_default.isArray(target[name])&&(target[name]=arrayToObject(target[name])),!isNumericKey)}if(utils_default.isFormData(formData)&&utils_default.isFunction(formData.entries)){let obj={};return utils_default.forEachEntry(formData,(name,value)=>{buildPath(parsePropPath(name),value,obj,0)}),obj}return null}var formDataToJSON_default=formDataToJSON;function stringifySafely(rawValue,parser,encoder){if(utils_default.isString(rawValue))try{return(parser||JSON.parse)(rawValue),utils_default.trim(rawValue)}catch(e$1){if(e$1.name!==`SyntaxError`)throw e$1}return(encoder||JSON.stringify)(rawValue)}var defaults={transitional:transitional_default,adapter:[`xhr`,`http`,`fetch`],transformRequest:[function(data,headers){let contentType=headers.getContentType()||``,hasJSONContentType=contentType.indexOf(`application/json`)>-1,isObjectPayload=utils_default.isObject(data);if(isObjectPayload&&utils_default.isHTMLForm(data)&&(data=new FormData(data)),utils_default.isFormData(data))return hasJSONContentType?JSON.stringify(formDataToJSON_default(data)):data;if(utils_default.isArrayBuffer(data)||utils_default.isBuffer(data)||utils_default.isStream(data)||utils_default.isFile(data)||utils_default.isBlob(data)||utils_default.isReadableStream(data))return data;if(utils_default.isArrayBufferView(data))return data.buffer;if(utils_default.isURLSearchParams(data))return headers.setContentType(`application/x-www-form-urlencoded;charset=utf-8`,!1),data.toString();let isFileList$1;if(isObjectPayload){if(contentType.indexOf(`application/x-www-form-urlencoded`)>-1)return toURLEncodedForm(data,this.formSerializer).toString();if((isFileList$1=utils_default.isFileList(data))||contentType.indexOf(`multipart/form-data`)>-1){let _FormData=this.env&&this.env.FormData;return toFormData_default(isFileList$1?{"files[]":data}:data,_FormData&&new _FormData,this.formSerializer)}}return isObjectPayload||hasJSONContentType?(headers.setContentType(`application/json`,!1),stringifySafely(data)):data}],transformResponse:[function(data){let transitional=this.transitional||defaults.transitional,forcedJSONParsing=transitional&&transitional.forcedJSONParsing,JSONRequested=this.responseType===`json`;if(utils_default.isResponse(data)||utils_default.isReadableStream(data))return data;if(data&&utils_default.isString(data)&&(forcedJSONParsing&&!this.responseType||JSONRequested)){let strictJSONParsing=!(transitional&&transitional.silentJSONParsing)&&JSONRequested;try{return JSON.parse(data,this.parseReviver)}catch(e$1){if(strictJSONParsing)throw e$1.name===`SyntaxError`?AxiosError_default.from(e$1,AxiosError_default.ERR_BAD_RESPONSE,this,null,this.response):e$1}}return data}],timeout:0,xsrfCookieName:`XSRF-TOKEN`,xsrfHeaderName:`X-XSRF-TOKEN`,maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform_default.classes.FormData,Blob:platform_default.classes.Blob},validateStatus:function(status){return status>=200&&status<300},headers:{common:{Accept:`application/json, text/plain, */*`,"Content-Type":void 0}}};utils_default.forEach([`delete`,`get`,`head`,`post`,`put`,`patch`],method=>{defaults.headers[method]={}});var defaults_default=defaults,ignoreDuplicateOf=utils_default.toObjectSet([`age`,`authorization`,`content-length`,`content-type`,`etag`,`expires`,`from`,`host`,`if-modified-since`,`if-unmodified-since`,`last-modified`,`location`,`max-forwards`,`proxy-authorization`,`referer`,`retry-after`,`user-agent`]),parseHeaders_default=rawHeaders=>{let parsed={},key,val,i$1;return rawHeaders&&rawHeaders.split(`
`).forEach(function(line){i$1=line.indexOf(`:`),key=line.substring(0,i$1).trim().toLowerCase(),val=line.substring(i$1+1).trim(),!(!key||parsed[key]&&ignoreDuplicateOf[key])&&(key===`set-cookie`?parsed[key]?parsed[key].push(val):parsed[key]=[val]:parsed[key]=parsed[key]?parsed[key]+`, `+val:val)}),parsed},$internals=Symbol(`internals`);function normalizeHeader(header){return header&&String(header).trim().toLowerCase()}function normalizeValue(value){return value===!1||value==null?value:utils_default.isArray(value)?value.map(normalizeValue):String(value)}function parseTokens(str){let tokens=Object.create(null),tokensRE=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,match;for(;match=tokensRE.exec(str);)tokens[match[1]]=match[2];return tokens}var isValidHeaderName=str=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());function matchHeaderValue(context,value,header,filter,isHeaderNameFilter){if(utils_default.isFunction(filter))return filter.call(this,value,header);if(isHeaderNameFilter&&(value=header),utils_default.isString(value)){if(utils_default.isString(filter))return value.indexOf(filter)!==-1;if(utils_default.isRegExp(filter))return filter.test(value)}}function formatHeader(header){return header.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(w$1,char,str)=>char.toUpperCase()+str)}function buildAccessors(obj,header){let accessorName=utils_default.toCamelCase(` `+header);[`get`,`set`,`has`].forEach(methodName=>{Object.defineProperty(obj,methodName+accessorName,{value:function(arg1,arg2,arg3){return this[methodName].call(this,header,arg1,arg2,arg3)},configurable:!0})})}var AxiosHeaders=class{constructor(headers){headers&&this.set(headers)}set(header,valueOrRewrite,rewrite){let self$1=this;function setHeader(_value,_header,_rewrite){let lHeader=normalizeHeader(_header);if(!lHeader)throw Error(`header name must be a non-empty string`);let key=utils_default.findKey(self$1,lHeader);(!key||self$1[key]===void 0||_rewrite===!0||_rewrite===void 0&&self$1[key]!==!1)&&(self$1[key||_header]=normalizeValue(_value))}let setHeaders=(headers,_rewrite)=>utils_default.forEach(headers,(_value,_header)=>setHeader(_value,_header,_rewrite));if(utils_default.isPlainObject(header)||header instanceof this.constructor)setHeaders(header,valueOrRewrite);else if(utils_default.isString(header)&&(header=header.trim())&&!isValidHeaderName(header))setHeaders(parseHeaders_default(header),valueOrRewrite);else if(utils_default.isObject(header)&&utils_default.isIterable(header)){let obj={},dest,key;for(let entry of header){if(!utils_default.isArray(entry))throw TypeError(`Object iterator must return a key-value pair`);obj[key=entry[0]]=(dest=obj[key])?utils_default.isArray(dest)?[...dest,entry[1]]:[dest,entry[1]]:entry[1]}setHeaders(obj,valueOrRewrite)}else header!=null&&setHeader(valueOrRewrite,header,rewrite);return this}get(header,parser){if(header=normalizeHeader(header),header){let key=utils_default.findKey(this,header);if(key){let value=this[key];if(!parser)return value;if(parser===!0)return parseTokens(value);if(utils_default.isFunction(parser))return parser.call(this,value,key);if(utils_default.isRegExp(parser))return parser.exec(value);throw TypeError(`parser must be boolean|regexp|function`)}}}has(header,matcher){if(header=normalizeHeader(header),header){let key=utils_default.findKey(this,header);return!!(key&&this[key]!==void 0&&(!matcher||matchHeaderValue(this,this[key],key,matcher)))}return!1}delete(header,matcher){let self$1=this,deleted=!1;function deleteHeader(_header){if(_header=normalizeHeader(_header),_header){let key=utils_default.findKey(self$1,_header);key&&(!matcher||matchHeaderValue(self$1,self$1[key],key,matcher))&&(delete self$1[key],deleted=!0)}}return utils_default.isArray(header)?header.forEach(deleteHeader):deleteHeader(header),deleted}clear(matcher){let keys=Object.keys(this),i$1=keys.length,deleted=!1;for(;i$1--;){let key=keys[i$1];(!matcher||matchHeaderValue(this,this[key],key,matcher,!0))&&(delete this[key],deleted=!0)}return deleted}normalize(format){let self$1=this,headers={};return utils_default.forEach(this,(value,header)=>{let key=utils_default.findKey(headers,header);if(key){self$1[key]=normalizeValue(value),delete self$1[header];return}let normalized=format?formatHeader(header):String(header).trim();normalized!==header&&delete self$1[header],self$1[normalized]=normalizeValue(value),headers[normalized]=!0}),this}concat(...targets){return this.constructor.concat(this,...targets)}toJSON(asStrings){let obj=Object.create(null);return utils_default.forEach(this,(value,header)=>{value!=null&&value!==!1&&(obj[header]=asStrings&&utils_default.isArray(value)?value.join(`, `):value)}),obj}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([header,value])=>header+`: `+value).join(`
`)}getSetCookie(){return this.get(`set-cookie`)||[]}get[Symbol.toStringTag](){return`AxiosHeaders`}static from(thing){return thing instanceof this?thing:new this(thing)}static concat(first,...targets){let computed=new this(first);return targets.forEach(target=>computed.set(target)),computed}static accessor(header){let accessors=(this[$internals]=this[$internals]={accessors:{}}).accessors,prototype$1=this.prototype;function defineAccessor(_header){let lHeader=normalizeHeader(_header);accessors[lHeader]||(buildAccessors(prototype$1,_header),accessors[lHeader]=!0)}return utils_default.isArray(header)?header.forEach(defineAccessor):defineAccessor(header),this}};AxiosHeaders.accessor([`Content-Type`,`Content-Length`,`Accept`,`Accept-Encoding`,`User-Agent`,`Authorization`]),utils_default.reduceDescriptors(AxiosHeaders.prototype,({value},key)=>{let mapped=key[0].toUpperCase()+key.slice(1);return{get:()=>value,set(headerValue){this[mapped]=headerValue}}}),utils_default.freezeMethods(AxiosHeaders);var AxiosHeaders_default=AxiosHeaders;function transformData(fns,response){let config$1=this||defaults_default,context=response||config$1,headers=AxiosHeaders_default.from(context.headers),data=context.data;return utils_default.forEach(fns,function(fn){data=fn.call(config$1,data,headers.normalize(),response?response.status:void 0)}),headers.normalize(),data}function isCancel(value){return!!(value&&value.__CANCEL__)}var CanceledError=class extends AxiosError_default{constructor(message,config$1,request){super(message??`canceled`,AxiosError_default.ERR_CANCELED,config$1,request),this.name=`CanceledError`,this.__CANCEL__=!0}},CanceledError_default=CanceledError;function settle(resolve,reject,response){let validateStatus=response.config.validateStatus;!response.status||!validateStatus||validateStatus(response.status)?resolve(response):reject(new AxiosError_default(`Request failed with status code `+response.status,[AxiosError_default.ERR_BAD_REQUEST,AxiosError_default.ERR_BAD_RESPONSE][Math.floor(response.status/100)-4],response.config,response.request,response))}function parseProtocol(url){let match=/^([-+\w]{1,25})(:?\/\/|:)/.exec(url);return match&&match[1]||``}function speedometer(samplesCount,min){samplesCount||=10;let bytes=Array(samplesCount),timestamps=Array(samplesCount),head=0,tail=0,firstSampleTS;return min=min===void 0?1e3:min,function(chunkLength){let now=Date.now(),startedAt=timestamps[tail];firstSampleTS||=now,bytes[head]=chunkLength,timestamps[head]=now;let i$1=tail,bytesCount=0;for(;i$1!==head;)bytesCount+=bytes[i$1++],i$1%=samplesCount;if(head=(head+1)%samplesCount,head===tail&&(tail=(tail+1)%samplesCount),now-firstSampleTS<min)return;let passed=startedAt&&now-startedAt;return passed?Math.round(bytesCount*1e3/passed):void 0}}var speedometer_default=speedometer;function throttle(fn,freq){let timestamp=0,threshold=1e3/freq,lastArgs,timer,invoke=(args,now=Date.now())=>{timestamp=now,lastArgs=null,timer&&=(clearTimeout(timer),null),fn(...args)};return[(...args)=>{let now=Date.now(),passed=now-timestamp;passed>=threshold?invoke(args,now):(lastArgs=args,timer||=setTimeout(()=>{timer=null,invoke(lastArgs)},threshold-passed))},()=>lastArgs&&invoke(lastArgs)]}var throttle_default=throttle;const progressEventReducer=(listener,isDownloadStream,freq=3)=>{let bytesNotified=0,_speedometer=speedometer_default(50,250);return throttle_default(e$1=>{let loaded=e$1.loaded,total=e$1.lengthComputable?e$1.total:void 0,progressBytes=loaded-bytesNotified,rate=_speedometer(progressBytes),inRange=loaded<=total;bytesNotified=loaded,listener({loaded,total,progress:total?loaded/total:void 0,bytes:progressBytes,rate:rate||void 0,estimated:rate&&total&&inRange?(total-loaded)/rate:void 0,event:e$1,lengthComputable:total!=null,[isDownloadStream?`download`:`upload`]:!0})},freq)},progressEventDecorator=(total,throttled)=>{let lengthComputable=total!=null;return[loaded=>throttled[0]({lengthComputable,total,loaded}),throttled[1]]},asyncDecorator=fn=>(...args)=>utils_default.asap(()=>fn(...args));var isURLSameOrigin_default=platform_default.hasStandardBrowserEnv?((origin$1,isMSIE)=>url=>(url=new URL(url,platform_default.origin),origin$1.protocol===url.protocol&&origin$1.host===url.host&&(isMSIE||origin$1.port===url.port)))(new URL(platform_default.origin),platform_default.navigator&&/(msie|trident)/i.test(platform_default.navigator.userAgent)):()=>!0,cookies_default=platform_default.hasStandardBrowserEnv?{write(name,value,expires,path,domain,secure,sameSite){if(typeof document>`u`)return;let cookie=[`${name}=${encodeURIComponent(value)}`];utils_default.isNumber(expires)&&cookie.push(`expires=${new Date(expires).toUTCString()}`),utils_default.isString(path)&&cookie.push(`path=${path}`),utils_default.isString(domain)&&cookie.push(`domain=${domain}`),secure===!0&&cookie.push(`secure`),utils_default.isString(sameSite)&&cookie.push(`SameSite=${sameSite}`),document.cookie=cookie.join(`; `)},read(name){if(typeof document>`u`)return null;let match=document.cookie.match(RegExp(`(?:^|; )`+name+`=([^;]*)`));return match?decodeURIComponent(match[1]):null},remove(name){this.write(name,``,Date.now()-864e5,`/`)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(url){return typeof url==`string`?/^([a-z][a-z\d+\-.]*:)?\/\//i.test(url):!1}function combineURLs(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/?\/$/,``)+`/`+relativeURL.replace(/^\/+/,``):baseURL}function buildFullPath(baseURL,requestedURL,allowAbsoluteUrls){let isRelativeUrl=!isAbsoluteURL(requestedURL);return baseURL&&(isRelativeUrl||allowAbsoluteUrls==0)?combineURLs(baseURL,requestedURL):requestedURL}var headersToObject=thing=>thing instanceof AxiosHeaders_default?{...thing}:thing;function mergeConfig(config1,config2){config2||={};let config$1={};function getMergedValue(target,source,prop,caseless){return utils_default.isPlainObject(target)&&utils_default.isPlainObject(source)?utils_default.merge.call({caseless},target,source):utils_default.isPlainObject(source)?utils_default.merge({},source):utils_default.isArray(source)?source.slice():source}function mergeDeepProperties(a$2,b$2,prop,caseless){if(utils_default.isUndefined(b$2)){if(!utils_default.isUndefined(a$2))return getMergedValue(void 0,a$2,prop,caseless)}else return getMergedValue(a$2,b$2,prop,caseless)}function valueFromConfig2(a$2,b$2){if(!utils_default.isUndefined(b$2))return getMergedValue(void 0,b$2)}function defaultToConfig2(a$2,b$2){if(utils_default.isUndefined(b$2)){if(!utils_default.isUndefined(a$2))return getMergedValue(void 0,a$2)}else return getMergedValue(void 0,b$2)}function mergeDirectKeys(a$2,b$2,prop){if(prop in config2)return getMergedValue(a$2,b$2);if(prop in config1)return getMergedValue(void 0,a$2)}let mergeMap={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:(a$2,b$2,prop)=>mergeDeepProperties(headersToObject(a$2),headersToObject(b$2),prop,!0)};return utils_default.forEach(Object.keys({...config1,...config2}),function(prop){if(prop===`__proto__`||prop===`constructor`||prop===`prototype`)return;let merge$2=utils_default.hasOwnProp(mergeMap,prop)?mergeMap[prop]:mergeDeepProperties,configValue=merge$2(config1[prop],config2[prop],prop);utils_default.isUndefined(configValue)&&merge$2!==mergeDirectKeys||(config$1[prop]=configValue)}),config$1}var resolveConfig_default=config$1=>{let newConfig=mergeConfig({},config$1),{data,withXSRFToken,xsrfHeaderName,xsrfCookieName,headers,auth}=newConfig;if(newConfig.headers=headers=AxiosHeaders_default.from(headers),newConfig.url=buildURL(buildFullPath(newConfig.baseURL,newConfig.url,newConfig.allowAbsoluteUrls),config$1.params,config$1.paramsSerializer),auth&&headers.set(`Authorization`,`Basic `+btoa((auth.username||``)+`:`+(auth.password?unescape(encodeURIComponent(auth.password)):``))),utils_default.isFormData(data)){if(platform_default.hasStandardBrowserEnv||platform_default.hasStandardBrowserWebWorkerEnv)headers.setContentType(void 0);else if(utils_default.isFunction(data.getHeaders)){let formHeaders=data.getHeaders(),allowedHeaders=[`content-type`,`content-length`];Object.entries(formHeaders).forEach(([key,val])=>{allowedHeaders.includes(key.toLowerCase())&&headers.set(key,val)})}}if(platform_default.hasStandardBrowserEnv&&(withXSRFToken&&utils_default.isFunction(withXSRFToken)&&(withXSRFToken=withXSRFToken(newConfig)),withXSRFToken||withXSRFToken!==!1&&isURLSameOrigin_default(newConfig.url))){let xsrfValue=xsrfHeaderName&&xsrfCookieName&&cookies_default.read(xsrfCookieName);xsrfValue&&headers.set(xsrfHeaderName,xsrfValue)}return newConfig},isXHRAdapterSupported=typeof XMLHttpRequest<`u`,xhr_default=isXHRAdapterSupported&&function(config$1){return new Promise(function(resolve,reject){let _config=resolveConfig_default(config$1),requestData=_config.data,requestHeaders=AxiosHeaders_default.from(_config.headers).normalize(),{responseType,onUploadProgress,onDownloadProgress}=_config,onCanceled,uploadThrottled,downloadThrottled,flushUpload,flushDownload;function done(){flushUpload&&flushUpload(),flushDownload&&flushDownload(),_config.cancelToken&&_config.cancelToken.unsubscribe(onCanceled),_config.signal&&_config.signal.removeEventListener(`abort`,onCanceled)}let request=new XMLHttpRequest;request.open(_config.method.toUpperCase(),_config.url,!0),request.timeout=_config.timeout;function onloadend(){if(!request)return;let responseHeaders=AxiosHeaders_default.from(`getAllResponseHeaders`in request&&request.getAllResponseHeaders());settle(function(value){resolve(value),done()},function(err){reject(err),done()},{data:!responseType||responseType===`text`||responseType===`json`?request.responseText:request.response,status:request.status,statusText:request.statusText,headers:responseHeaders,config:config$1,request}),request=null}`onloadend`in request?request.onloadend=onloadend:request.onreadystatechange=function(){!request||request.readyState!==4||request.status===0&&!(request.responseURL&&request.responseURL.indexOf(`file:`)===0)||setTimeout(onloadend)},request.onabort=function(){request&&=(reject(new AxiosError_default(`Request aborted`,AxiosError_default.ECONNABORTED,config$1,request)),null)},request.onerror=function(event){let err=new AxiosError_default(event&&event.message?event.message:`Network Error`,AxiosError_default.ERR_NETWORK,config$1,request);err.event=event||null,reject(err),request=null},request.ontimeout=function(){let timeoutErrorMessage=_config.timeout?`timeout of `+_config.timeout+`ms exceeded`:`timeout exceeded`,transitional=_config.transitional||transitional_default;_config.timeoutErrorMessage&&(timeoutErrorMessage=_config.timeoutErrorMessage),reject(new AxiosError_default(timeoutErrorMessage,transitional.clarifyTimeoutError?AxiosError_default.ETIMEDOUT:AxiosError_default.ECONNABORTED,config$1,request)),request=null},requestData===void 0&&requestHeaders.setContentType(null),`setRequestHeader`in request&&utils_default.forEach(requestHeaders.toJSON(),function(val,key){request.setRequestHeader(key,val)}),utils_default.isUndefined(_config.withCredentials)||(request.withCredentials=!!_config.withCredentials),responseType&&responseType!==`json`&&(request.responseType=_config.responseType),onDownloadProgress&&([downloadThrottled,flushDownload]=progressEventReducer(onDownloadProgress,!0),request.addEventListener(`progress`,downloadThrottled)),onUploadProgress&&request.upload&&([uploadThrottled,flushUpload]=progressEventReducer(onUploadProgress),request.upload.addEventListener(`progress`,uploadThrottled),request.upload.addEventListener(`loadend`,flushUpload)),(_config.cancelToken||_config.signal)&&(onCanceled=cancel=>{request&&=(reject(!cancel||cancel.type?new CanceledError_default(null,config$1,request):cancel),request.abort(),null)},_config.cancelToken&&_config.cancelToken.subscribe(onCanceled),_config.signal&&(_config.signal.aborted?onCanceled():_config.signal.addEventListener(`abort`,onCanceled)));let protocol=parseProtocol(_config.url);if(protocol&&platform_default.protocols.indexOf(protocol)===-1){reject(new AxiosError_default(`Unsupported protocol `+protocol+`:`,AxiosError_default.ERR_BAD_REQUEST,config$1));return}request.send(requestData||null)})},composeSignals=(signals,timeout)=>{let{length}=signals=signals?signals.filter(Boolean):[];if(timeout||length){let controller=new AbortController,aborted$1,onabort=function(reason){if(!aborted$1){aborted$1=!0,unsubscribe();let err=reason instanceof Error?reason:this.reason;controller.abort(err instanceof AxiosError_default?err:new CanceledError_default(err instanceof Error?err.message:err))}},timer=timeout&&setTimeout(()=>{timer=null,onabort(new AxiosError_default(`timeout of ${timeout}ms exceeded`,AxiosError_default.ETIMEDOUT))},timeout),unsubscribe=()=>{signals&&=(timer&&clearTimeout(timer),timer=null,signals.forEach(signal$1=>{signal$1.unsubscribe?signal$1.unsubscribe(onabort):signal$1.removeEventListener(`abort`,onabort)}),null)};signals.forEach(signal$1=>signal$1.addEventListener(`abort`,onabort));let{signal}=controller;return signal.unsubscribe=()=>utils_default.asap(unsubscribe),signal}},composeSignals_default=composeSignals;const streamChunk=function*(chunk,chunkSize){let len=chunk.byteLength;if(!chunkSize||len<chunkSize){yield chunk;return}let pos=0,end;for(;pos<len;)end=pos+chunkSize,yield chunk.slice(pos,end),pos=end},readBytes=async function*(iterable,chunkSize){for await(let chunk of readStream(iterable))yield*streamChunk(chunk,chunkSize)};var readStream=async function*(stream){if(stream[Symbol.asyncIterator]){yield*stream;return}let reader=stream.getReader();try{for(;;){let{done,value}=await reader.read();if(done)break;yield value}}finally{await reader.cancel()}};const trackStream=(stream,chunkSize,onProgress,onFinish)=>{let iterator$1=readBytes(stream,chunkSize),bytes=0,done,_onFinish=e$1=>{done||(done=!0,onFinish&&onFinish(e$1))};return new ReadableStream({async pull(controller){try{let{done:done$1,value}=await iterator$1.next();if(done$1){_onFinish(),controller.close();return}let len=value.byteLength;onProgress&&onProgress(bytes+=len),controller.enqueue(new Uint8Array(value))}catch(err){throw _onFinish(err),err}},cancel(reason){return _onFinish(reason),iterator$1.return()}},{highWaterMark:2})};var DEFAULT_CHUNK_SIZE=64*1024,{isFunction}=utils_default,globalFetchAPI=(({Request,Response})=>({Request,Response}))(utils_default.global),{ReadableStream:ReadableStream$1,TextEncoder}=utils_default.global,test=(fn,...args)=>{try{return!!fn(...args)}catch{return!1}},factory=env=>{env=utils_default.merge.call({skipUndefined:!0},globalFetchAPI,env);let{fetch:envFetch,Request,Response}=env,isFetchSupported=envFetch?isFunction(envFetch):typeof fetch==`function`,isRequestSupported=isFunction(Request),isResponseSupported=isFunction(Response);if(!isFetchSupported)return!1;let isReadableStreamSupported=isFetchSupported&&isFunction(ReadableStream$1),encodeText=isFetchSupported&&(typeof TextEncoder==`function`?(encoder=>str=>encoder.encode(str))(new TextEncoder):async str=>new Uint8Array(await new Request(str).arrayBuffer())),supportsRequestStream=isRequestSupported&&isReadableStreamSupported&&test(()=>{let duplexAccessed=!1,hasContentType=new Request(platform_default.origin,{body:new ReadableStream$1,method:`POST`,get duplex(){return duplexAccessed=!0,`half`}}).headers.has(`Content-Type`);return duplexAccessed&&!hasContentType}),supportsResponseStream=isResponseSupported&&isReadableStreamSupported&&test(()=>utils_default.isReadableStream(new Response(``).body)),resolvers={stream:supportsResponseStream&&(res=>res.body)};isFetchSupported&&[`text`,`arrayBuffer`,`blob`,`formData`,`stream`].forEach(type=>{!resolvers[type]&&(resolvers[type]=(res,config$1)=>{let method=res&&res[type];if(method)return method.call(res);throw new AxiosError_default(`Response type '${type}' is not supported`,AxiosError_default.ERR_NOT_SUPPORT,config$1)})});let getBodyLength=async body=>{if(body==null)return 0;if(utils_default.isBlob(body))return body.size;if(utils_default.isSpecCompliantForm(body))return(await new Request(platform_default.origin,{method:`POST`,body}).arrayBuffer()).byteLength;if(utils_default.isArrayBufferView(body)||utils_default.isArrayBuffer(body))return body.byteLength;if(utils_default.isURLSearchParams(body)&&(body+=``),utils_default.isString(body))return(await encodeText(body)).byteLength},resolveBodyLength=async(headers,body)=>utils_default.toFiniteNumber(headers.getContentLength())??getBodyLength(body);return async config$1=>{let{url,method,data,signal,cancelToken,timeout,onDownloadProgress,onUploadProgress,responseType,headers,withCredentials=`same-origin`,fetchOptions}=resolveConfig_default(config$1),_fetch=envFetch||fetch;responseType=responseType?(responseType+``).toLowerCase():`text`;let composedSignal=composeSignals_default([signal,cancelToken&&cancelToken.toAbortSignal()],timeout),request=null,unsubscribe=composedSignal&&composedSignal.unsubscribe&&(()=>{composedSignal.unsubscribe()}),requestContentLength;try{if(onUploadProgress&&supportsRequestStream&&method!==`get`&&method!==`head`&&(requestContentLength=await resolveBodyLength(headers,data))!==0){let _request=new Request(url,{method:`POST`,body:data,duplex:`half`}),contentTypeHeader;if(utils_default.isFormData(data)&&(contentTypeHeader=_request.headers.get(`content-type`))&&headers.setContentType(contentTypeHeader),_request.body){let[onProgress,flush]=progressEventDecorator(requestContentLength,progressEventReducer(asyncDecorator(onUploadProgress)));data=trackStream(_request.body,DEFAULT_CHUNK_SIZE,onProgress,flush)}}utils_default.isString(withCredentials)||(withCredentials=withCredentials?`include`:`omit`);let isCredentialsSupported=isRequestSupported&&`credentials`in Request.prototype,resolvedOptions={...fetchOptions,signal:composedSignal,method:method.toUpperCase(),headers:headers.normalize().toJSON(),body:data,duplex:`half`,credentials:isCredentialsSupported?withCredentials:void 0};request=isRequestSupported&&new Request(url,resolvedOptions);let response=await(isRequestSupported?_fetch(request,fetchOptions):_fetch(url,resolvedOptions)),isStreamResponse=supportsResponseStream&&(responseType===`stream`||responseType===`response`);if(supportsResponseStream&&(onDownloadProgress||isStreamResponse&&unsubscribe)){let options={};[`status`,`statusText`,`headers`].forEach(prop=>{options[prop]=response[prop]});let responseContentLength=utils_default.toFiniteNumber(response.headers.get(`content-length`)),[onProgress,flush]=onDownloadProgress&&progressEventDecorator(responseContentLength,progressEventReducer(asyncDecorator(onDownloadProgress),!0))||[];response=new Response(trackStream(response.body,DEFAULT_CHUNK_SIZE,onProgress,()=>{flush&&flush(),unsubscribe&&unsubscribe()}),options)}responseType||=`text`;let responseData=await resolvers[utils_default.findKey(resolvers,responseType)||`text`](response,config$1);return!isStreamResponse&&unsubscribe&&unsubscribe(),await new Promise((resolve,reject)=>{settle(resolve,reject,{data:responseData,headers:AxiosHeaders_default.from(response.headers),status:response.status,statusText:response.statusText,config:config$1,request})})}catch(err){throw unsubscribe&&unsubscribe(),err&&err.name===`TypeError`&&/Load failed|fetch/i.test(err.message)?Object.assign(new AxiosError_default(`Network Error`,AxiosError_default.ERR_NETWORK,config$1,request,err&&err.response),{cause:err.cause||err}):AxiosError_default.from(err,err&&err.code,config$1,request,err&&err.response)}}},seedCache=new Map;const getFetch=config$1=>{let env=config$1&&config$1.env||{},{fetch:fetch$1,Request,Response}=env,seeds=[Request,Response,fetch$1],i$1=seeds.length,seed,target,map=seedCache;for(;i$1--;)seed=seeds[i$1],target=map.get(seed),target===void 0&&map.set(seed,target=i$1?new Map:factory(env)),map=target;return target};var adapter=getFetch(),knownAdapters={http:null,xhr:xhr_default,fetch:{get:getFetch}};utils_default.forEach(knownAdapters,(fn,value)=>{if(fn){try{Object.defineProperty(fn,`name`,{value})}catch{}Object.defineProperty(fn,`adapterName`,{value})}});var renderReason=reason=>`- ${reason}`,isResolvedHandle=adapter$1=>utils_default.isFunction(adapter$1)||adapter$1===null||adapter$1===!1;function getAdapter(adapters,config$1){adapters=utils_default.isArray(adapters)?adapters:[adapters];let{length}=adapters,nameOrAdapter,adapter$1,rejectedReasons={};for(let i$1=0;i$1<length;i$1++){nameOrAdapter=adapters[i$1];let id;if(adapter$1=nameOrAdapter,!isResolvedHandle(nameOrAdapter)&&(adapter$1=knownAdapters[(id=String(nameOrAdapter)).toLowerCase()],adapter$1===void 0))throw new AxiosError_default(`Unknown adapter '${id}'`);if(adapter$1&&(utils_default.isFunction(adapter$1)||(adapter$1=adapter$1.get(config$1))))break;rejectedReasons[id||`#`+i$1]=adapter$1}if(!adapter$1){let reasons=Object.entries(rejectedReasons).map(([id,state])=>`adapter ${id} `+(state===!1?`is not supported by the environment`:`is not available in the build`));throw new AxiosError_default(`There is no suitable adapter to dispatch the request `+(length?reasons.length>1?`since :
`+reasons.map(renderReason).join(`
`):` `+renderReason(reasons[0]):`as no adapter specified`),`ERR_NOT_SUPPORT`)}return adapter$1}var adapters_default={getAdapter,adapters:knownAdapters};function throwIfCancellationRequested(config$1){if(config$1.cancelToken&&config$1.cancelToken.throwIfRequested(),config$1.signal&&config$1.signal.aborted)throw new CanceledError_default(null,config$1)}function dispatchRequest(config$1){return throwIfCancellationRequested(config$1),config$1.headers=AxiosHeaders_default.from(config$1.headers),config$1.data=transformData.call(config$1,config$1.transformRequest),[`post`,`put`,`patch`].indexOf(config$1.method)!==-1&&config$1.headers.setContentType(`application/x-www-form-urlencoded`,!1),adapters_default.getAdapter(config$1.adapter||defaults_default.adapter,config$1)(config$1).then(function(response){return throwIfCancellationRequested(config$1),response.data=transformData.call(config$1,config$1.transformResponse,response),response.headers=AxiosHeaders_default.from(response.headers),response},function(reason){return isCancel(reason)||(throwIfCancellationRequested(config$1),reason&&reason.response&&(reason.response.data=transformData.call(config$1,config$1.transformResponse,reason.response),reason.response.headers=AxiosHeaders_default.from(reason.response.headers))),Promise.reject(reason)})}const VERSION=`1.13.5`;var validators$1={};[`object`,`boolean`,`number`,`function`,`string`,`symbol`].forEach((type,i$1)=>{validators$1[type]=function(thing){return typeof thing===type||`a`+(i$1<1?`n `:` `)+type}});var deprecatedWarnings={};validators$1.transitional=function(validator,version$1,message){function formatMessage(opt,desc){return`[Axios v`+VERSION+`] Transitional option '`+opt+`'`+desc+(message?`. `+message:``)}return(value,opt,opts)=>{if(validator===!1)throw new AxiosError_default(formatMessage(opt,` has been removed`+(version$1?` in `+version$1:``)),AxiosError_default.ERR_DEPRECATED);return version$1&&!deprecatedWarnings[opt]&&(deprecatedWarnings[opt]=!0,console.warn(formatMessage(opt,` has been deprecated since v`+version$1+` and will be removed in the near future`))),validator?validator(value,opt,opts):!0}},validators$1.spelling=function(correctSpelling){return(value,opt)=>(console.warn(`${opt} is likely a misspelling of ${correctSpelling}`),!0)};function assertOptions(options,schema,allowUnknown){if(typeof options!=`object`)throw new AxiosError_default(`options must be an object`,AxiosError_default.ERR_BAD_OPTION_VALUE);let keys=Object.keys(options),i$1=keys.length;for(;i$1-- >0;){let opt=keys[i$1],validator=schema[opt];if(validator){let value=options[opt],result=value===void 0||validator(value,opt,options);if(result!==!0)throw new AxiosError_default(`option `+opt+` must be `+result,AxiosError_default.ERR_BAD_OPTION_VALUE);continue}if(allowUnknown!==!0)throw new AxiosError_default(`Unknown option `+opt,AxiosError_default.ERR_BAD_OPTION)}}var validator_default={assertOptions,validators:validators$1},validators=validator_default.validators,Axios=class{constructor(instanceConfig){this.defaults=instanceConfig||{},this.interceptors={request:new InterceptorManager_default,response:new InterceptorManager_default}}async request(configOrUrl,config$1){try{return await this._request(configOrUrl,config$1)}catch(err){if(err instanceof Error){let dummy={};Error.captureStackTrace?Error.captureStackTrace(dummy):dummy=Error();let stack=dummy.stack?dummy.stack.replace(/^.+\n/,``):``;try{err.stack?stack&&!String(err.stack).endsWith(stack.replace(/^.+\n.+\n/,``))&&(err.stack+=`
`+stack):err.stack=stack}catch{}}throw err}}_request(configOrUrl,config$1){typeof configOrUrl==`string`?(config$1||={},config$1.url=configOrUrl):config$1=configOrUrl||{},config$1=mergeConfig(this.defaults,config$1);let{transitional,paramsSerializer,headers}=config$1;transitional!==void 0&&validator_default.assertOptions(transitional,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean),legacyInterceptorReqResOrdering:validators.transitional(validators.boolean)},!1),paramsSerializer!=null&&(utils_default.isFunction(paramsSerializer)?config$1.paramsSerializer={serialize:paramsSerializer}:validator_default.assertOptions(paramsSerializer,{encode:validators.function,serialize:validators.function},!0)),config$1.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls===void 0?config$1.allowAbsoluteUrls=!0:config$1.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls),validator_default.assertOptions(config$1,{baseUrl:validators.spelling(`baseURL`),withXsrfToken:validators.spelling(`withXSRFToken`)},!0),config$1.method=(config$1.method||this.defaults.method||`get`).toLowerCase();let contextHeaders=headers&&utils_default.merge(headers.common,headers[config$1.method]);headers&&utils_default.forEach([`delete`,`get`,`head`,`post`,`put`,`patch`,`common`],method=>{delete headers[method]}),config$1.headers=AxiosHeaders_default.concat(contextHeaders,headers);let requestInterceptorChain=[],synchronousRequestInterceptors=!0;this.interceptors.request.forEach(function(interceptor){if(typeof interceptor.runWhen==`function`&&interceptor.runWhen(config$1)===!1)return;synchronousRequestInterceptors&&=interceptor.synchronous;let transitional$1=config$1.transitional||transitional_default;transitional$1&&transitional$1.legacyInterceptorReqResOrdering?requestInterceptorChain.unshift(interceptor.fulfilled,interceptor.rejected):requestInterceptorChain.push(interceptor.fulfilled,interceptor.rejected)});let responseInterceptorChain=[];this.interceptors.response.forEach(function(interceptor){responseInterceptorChain.push(interceptor.fulfilled,interceptor.rejected)});let promise,i$1=0,len;if(!synchronousRequestInterceptors){let chain=[dispatchRequest.bind(this),void 0];for(chain.unshift(...requestInterceptorChain),chain.push(...responseInterceptorChain),len=chain.length,promise=Promise.resolve(config$1);i$1<len;)promise=promise.then(chain[i$1++],chain[i$1++]);return promise}len=requestInterceptorChain.length;let newConfig=config$1;for(;i$1<len;){let onFulfilled=requestInterceptorChain[i$1++],onRejected=requestInterceptorChain[i$1++];try{newConfig=onFulfilled(newConfig)}catch(error){onRejected.call(this,error);break}}try{promise=dispatchRequest.call(this,newConfig)}catch(error){return Promise.reject(error)}for(i$1=0,len=responseInterceptorChain.length;i$1<len;)promise=promise.then(responseInterceptorChain[i$1++],responseInterceptorChain[i$1++]);return promise}getUri(config$1){return config$1=mergeConfig(this.defaults,config$1),buildURL(buildFullPath(config$1.baseURL,config$1.url,config$1.allowAbsoluteUrls),config$1.params,config$1.paramsSerializer)}};utils_default.forEach([`delete`,`get`,`head`,`options`],function(method){Axios.prototype[method]=function(url,config$1){return this.request(mergeConfig(config$1||{},{method,url,data:(config$1||{}).data}))}}),utils_default.forEach([`post`,`put`,`patch`],function(method){function generateHTTPMethod(isForm){return function(url,data,config$1){return this.request(mergeConfig(config$1||{},{method,headers:isForm?{"Content-Type":`multipart/form-data`}:{},url,data}))}}Axios.prototype[method]=generateHTTPMethod(),Axios.prototype[method+`Form`]=generateHTTPMethod(!0)});var Axios_default=Axios,CancelToken=class CancelToken{constructor(executor){if(typeof executor!=`function`)throw TypeError(`executor must be a function.`);let resolvePromise;this.promise=new Promise(function(resolve){resolvePromise=resolve});let token=this;this.promise.then(cancel=>{if(!token._listeners)return;let i$1=token._listeners.length;for(;i$1-- >0;)token._listeners[i$1](cancel);token._listeners=null}),this.promise.then=onfulfilled=>{let _resolve,promise=new Promise(resolve=>{token.subscribe(resolve),_resolve=resolve}).then(onfulfilled);return promise.cancel=function(){token.unsubscribe(_resolve)},promise},executor(function(message,config$1,request){token.reason||(token.reason=new CanceledError_default(message,config$1,request),resolvePromise(token.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(listener){if(this.reason){listener(this.reason);return}this._listeners?this._listeners.push(listener):this._listeners=[listener]}unsubscribe(listener){if(!this._listeners)return;let index=this._listeners.indexOf(listener);index!==-1&&this._listeners.splice(index,1)}toAbortSignal(){let controller=new AbortController,abort=err=>{controller.abort(err)};return this.subscribe(abort),controller.signal.unsubscribe=()=>this.unsubscribe(abort),controller.signal}static source(){let cancel;return{token:new CancelToken(function(c$3){cancel=c$3}),cancel}}},CancelToken_default=CancelToken;function spread(callback){return function(arr){return callback.apply(null,arr)}}function isAxiosError(payload){return utils_default.isObject(payload)&&payload.isAxiosError===!0}var HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode).forEach(([key,value])=>{HttpStatusCode[value]=key});var HttpStatusCode_default=HttpStatusCode;function createInstance(defaultConfig){let context=new Axios_default(defaultConfig),instance=bind(Axios_default.prototype.request,context);return utils_default.extend(instance,Axios_default.prototype,context,{allOwnKeys:!0}),utils_default.extend(instance,context,null,{allOwnKeys:!0}),instance.create=function(instanceConfig){return createInstance(mergeConfig(defaultConfig,instanceConfig))},instance}var axios=createInstance(defaults_default);axios.Axios=Axios_default,axios.CanceledError=CanceledError_default,axios.CancelToken=CancelToken_default,axios.isCancel=isCancel,axios.VERSION=VERSION,axios.toFormData=toFormData_default,axios.AxiosError=AxiosError_default,axios.Cancel=axios.CanceledError,axios.all=function(promises){return Promise.all(promises)},axios.spread=spread,axios.isAxiosError=isAxiosError,axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders_default,axios.formToJSON=thing=>formDataToJSON_default(utils_default.isHTMLForm(thing)?new FormData(thing):thing),axios.getAdapter=adapters_default.getAdapter,axios.HttpStatusCode=HttpStatusCode_default,axios.default=axios;var axios_default=axios,HttpGithubClient=class{constructor(api){this.api=api??axios_default.create({baseURL:`https://api.github.com`})}async request(execute){try{return await execute()}catch(error){throw error instanceof GithubClientError?error:axios_default.isAxiosError(error)?new GithubClientRequestError(`An error has occured while requesting: ${error.message}`,{cause:error}):new GithubClientError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getEvents(request){return await this.request(async()=>{let{data}=await this.api.get(`/users/${request.username}/events`);return{events:data.map(event=>({id:event.id,type:event.type,actor:{id:event.actor.id,username:event.actor.login,avatarUrl:event.actor.avatar_url},repository:{id:event.repo.id,name:event.repo.name,url:event.repo.url},createdAt:event.created_at}))}})}async getUser(request){return await this.request(async()=>{let{data}=await this.api.get(`/users/${request.username}`);return{user:{username:data.login,publicRepositories:data.public_repos,company:data.company,location:data.location,hireable:data.hireable,createdAt:data.created_at,updatedAt:data.updated_at}}})}},GithubContributionsClientError=class GithubContributionsClientError extends Error{constructor(message,options){super(message,options),this.name=`GithubContributionsClientError`,Object.setPrototypeOf(this,GithubContributionsClientError.prototype)}},GithubContributionsClientRequestError=class GithubContributionsClientRequestError extends Error{constructor(message,options){super(message,options),this.name=`GithubContributionsClientRequestError`,Object.setPrototypeOf(this,GithubContributionsClientRequestError.prototype)}},LoggingGithubContributionsClient=class{constructor(inner){this.inner=inner}async getContributions(request){try{logger.info(`Fetching contributions for user: ${request.username}`);let response=await this.inner.getContributions(request);return logger.info(`Successfully fetched contributions for user: ${request.username}`),response}catch(error){throw logger.error(`Error fetching contributions for user: ${request.username}`),error}}},DecoratedGithubContributionsClient=class{constructor(inner){this.inner=new LoggingGithubContributionsClient(inner)}async getContributions(request){return await this.inner.getContributions(request)}},HttpGithubContributionsClient=class{constructor(api){this.api=api||axios_default.create({baseURL:`https://github-contributions-api.jogruber.de/v4`})}async request(execute){try{return await execute()}catch(error){throw error instanceof GithubContributionsClientError?error:axios_default.isAxiosError(error)?new GithubContributionsClientRequestError(`An error has occured while requesting: ${error.message}`,{cause:error}):new GithubContributionsClientError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getContributions(request){return await this.request(async()=>({contributions:(await this.api.get(`/${request.username}`)).data.contributions}))}},githubClient=new DecoratedGithubClient(new HttpGithubClient),githubContibutionClient=new DecoratedGithubContributionsClient(new HttpGithubContributionsClient),gitRepository=new DecoratedGitRepository(new GithubGitRepository(githubClient)),gitContributionRepository=new DecoratedGitContributionRepository(new GithubGitContributionRepository(githubContibutionClient));const gitApi={baseKey:[`git`],query:{recentCommit:(username=`hyoaru`)=>queryOptions({queryKey:[...gitApi.baseKey,`recent-commit`,username],queryFn:()=>commandBus.dispatch(new GetRecentCommit({request:{username},gitRepository})),staleTime:60*1e3*5}),contributions:(username=`hyoaru`)=>queryOptions({queryKey:[...gitApi.baseKey,`contribution`,username],queryFn:()=>commandBus.dispatch(new GetContributions({request:{username},gitContributionRepository})),staleTime:60*1e3*60}),user:(username=`hyoaru`)=>queryOptions({queryKey:[...gitApi.baseKey,`user`,username],queryFn:()=>commandBus.dispatch(new GetUser({request:{username},gitRepository})),staleTime:60*1e3*60})}};var GetCareerHistory=class{constructor(init){this.profileRepository=init.profileRepository}async execute(){return{careerHistory:await this.profileRepository.getCareerHistory()}}},GetPersonalImageUrl=class{constructor(init){this.profileRepository=init.profileRepository}async execute(){return{imageUrl:await this.profileRepository.getPersonalImageUrl()}}},GetTechnologies=class{constructor(init){this.technologyRepository=init.technologyRepository}async execute(){return{technologies:await this.technologyRepository.getTechnologies()}}},GetCertifications=class{constructor(init){this.profileRepository=init.profileRepository}async execute(){return{certifications:await this.profileRepository.getCertifications()}}},GetResume=class{constructor(init){this.profileRepository=init.profileRepository}async execute(){return{resume:await this.profileRepository.getResume()}}},LoggingProfileRepository=class{constructor(inner){this.inner=inner}async getPersonalImageUrl(){try{logger.info(`Getting personal image url`);let result=await this.inner.getPersonalImageUrl();return logger.info(`Successfully got personal image url: ${result}`),result}catch(error){throw logger.error(`Failed to get personal image url`),error}}async getCareerHistory(){try{logger.info(`Getting career history`);let result=await this.inner.getCareerHistory();return logger.info(`Successfully got career history: ${result.length} items`),result}catch(error){throw logger.error(`Failed to get career history`),error}}async getCertifications(){try{logger.info(`Getting certifications`);let result=await this.inner.getCertifications();return logger.info(`Successfully got certifications: ${result.length} items`),result}catch(error){throw logger.error(`Failed to get certifications`),error}}async getResume(){try{logger.info(`Getting resume`);let result=await this.inner.getResume();return logger.info(`Successfully got resume`),result}catch(error){throw logger.error(`Failed to get resume`),error}}},DecoratedProfileRepository=class{constructor(inner){this.inner=new LoggingProfileRepository(inner)}async getPersonalImageUrl(){return await this.inner.getPersonalImageUrl()}async getCareerHistory(){return await this.inner.getCareerHistory()}async getCertifications(){return await this.inner.getCertifications()}async getResume(){return await this.inner.getResume()}},ProfileRepositoryError=class ProfileRepositoryError extends Error{constructor(message,options){super(message,options),this.name=`ProfileRepositoryError`,Object.setPrototypeOf(this,ProfileRepositoryError.prototype)}},ProfileRepositoryResourceNotFoundError=class ProfileRepositoryResourceNotFoundError extends ProfileRepositoryError{constructor(resource,options){super(`An error has occured when getting resource: ${resource}`,options),this.name=`ProfileRepositoryResourceNotFoundError`,this.resource=resource,Object.setPrototypeOf(this,ProfileRepositoryResourceNotFoundError.prototype)}},TechnologyRepositoryError=class TechnologyRepositoryError extends Error{constructor(message,options){super(message,options),this.name=`TechnologyRepositoryError`,Object.setPrototypeOf(this,TechnologyRepositoryError.prototype)}},Experience$1=class{constructor(init){this.organization=init.organization,this.title=init.title,this.summary=init.summary,this.country=init.country,this.startedAt=init.startedAt,this.endedAt=init.endedAt,this.technologies=init.technologies,this.highlights=init.highlights}},Technology=class{constructor(init){this.name=init.name,this.logoUrl=init.logoUrl}},Certification=class{constructor(init){this.title=init.title,this.imageUrl=init.imageUrl,this.issuer=init.issuer,this.issuedAt=init.issuedAt,this.tags=init.tags}},certifications_default=[{title:`AWS Cloud Practitioner Essentials`,image:`AWS Cloud Practitioner Essentials.jpg`,issuer:`AWS`,issued_at:`2025-08-18`,tags:[`Compute in the Cloud`,`Cloud Infrastructure`,`Scalability`,`Networking`,`Storage`,`Databases`,`Security`,`Identity and Access Management (IAM)`,`Monitoring and Logging`]},{title:`Google Data Analytics Capstone: Case Study`,image:`Coursera TM3X56CDLPCF.jpg`,issuer:`Google`,issued_at:`2023-07-10`,tags:[`Data Analytics`,`Data Visualization`,`R`,`Python`,`Ggplot`,`Pandas`]},{title:`Data Analysis with R Programming`,image:`Coursera 83NPJR94JBK6.jpg`,issuer:`Google`,issued_at:`2023-06-26`,tags:[`Data Analytics`,`R`,`Ggplot`]},{title:`Share Data Through the Art of Visualization`,image:`Coursera VGLAE6SPCZUA.jpg`,issuer:`Google`,issued_at:`2023-05-19`,tags:[`Data Visualization`,`Data Storytelling`,`Presentation`,`Spreadsheet`,`Slideshow`,`Tableau`]},{title:`Analyze Data to Answer Questions`,image:`Coursera VEDAQDZHSQCW.jpg`,issuer:`Google`,issued_at:`2023-04-22`,tags:[`Data Analytics`,`SQL`]},{title:`Process Data from Dirty To Clean`,image:`Coursera X43NVBCNNG5R.jpg`,issuer:`Google`,issued_at:`2023-04-06`,tags:[`Data Analytics`,`Cleaning`,`SQL`]},{title:`Prepare Data for Exploration`,image:`Coursera NRBJSJUC23CB.jpg`,issuer:`Google`,issued_at:`2023-01-10`,tags:[`Data Analytics`,`SQL`]},{title:`Foundations: Data, Data, Everywhere`,image:`Coursera 98WLY7GTYQXP.jpg`,issuer:`Google`,issued_at:`2022-12-12`,tags:[`Data Analytics`,`Foundations`]},{title:`Ask Questions to Make Data- Driven Decisions`,image:`Coursera AFYSP9AT688L.jpg`,issuer:`Google`,issued_at:`2022-11-30`,tags:[`Data Analytics`,`Art of Questioning`]},{title:`Methods and Algorithms Microspecialization`,image:`Methods and AlgorithmsMicrospecialization Pathway.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-09-19`,tags:[`Data Science`,`Python`,`Pandas`,`Numpy`]},{title:`Data Science and Machine Learning Using Python`,image:`Data Science and Machine Learning Using Python.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-09-18`,tags:[`Data Science`,`Machine Learning`,`Python`,`Sci-kit learn`,`Pandas`,`Numpy`,`Matplotlib`,`Seaborn`]},{title:`Computing Microspecialization Pathway`,image:`ComputingMicrospecialization Pathway.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-09-17`,tags:[`Data Science`,`Python`,`Pandas`,`Numpy`]},{title:`Build Python Web Apps with Flask`,image:`MACH Build Python Web Apps with Flask.jpg`,issuer:`Department of Information and Communications Technology Philippines`,issued_at:`2022-08-27`,tags:[`Web Development`,`Python`,`Flask`,`HTML5`,`CSS3`,`Bootstrap`]},{title:`Analyze Data with Python`,image:`MACH Analyze Data with Python.jpg`,issuer:`Department of Information and Communications Technology Philippines`,issued_at:`2022-08-15`,tags:[`Data Analytics`,`Python`,`Pandas`,`Numpy`]},{title:`Basic Statistics with Python`,image:`MACH Basic Statistics with Python.jpg`,issuer:`Department of Information and Communications Technology Philippines`,issued_at:`2022-07-15`,tags:[`Data Analytics`,`Python`,`Pandas`,`Numpy`]},{title:`Visualize Data with Python`,image:`MACH Visualize Data with Python.jpg`,issuer:`Department of Information and Communications Technology Philippines`,issued_at:`2022-07-15`,tags:[`Data Analytics`,`Python`,`Pandas`,`Matplotlib`]},{title:`Experimental Design and Analysis`,image:`Experimental Design and Analysis.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-14`,tags:[`Data Science`,`Design of Experiments`]},{title:`Programming For Beginners Using Python`,image:`MACH Programming For Beginners Using Python.jpg`,issuer:`Department of Information and Communications Technology Philippines`,issued_at:`2022-07-12`,tags:[`General Programming`,`Python`]},{title:`Programming for Intermediate Users Using Python`,image:`MACH Programming for Intermediate Users Using Python.jpg`,issuer:`Department of Information and Communications Technology Philippines`,issued_at:`2022-07-12`,tags:[`General Programming`,`Python`]},{title:`Data Visualization Using Tableau and Python`,image:`Data Visualization Using Tableau and Python.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-02`,tags:[`Data Science`,`Data Visualization`,`Tableau`,`Python`,`Matplotlib`,`Seaborn`]},{title:`Data Visualization Microspecialization Pathway`,image:`Data VisualizationMicrospecialization Pathway.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-02`,tags:[`Data Science`,`Data Visualization`,`Data Storytelling`,`Excel`,`Tableau`,`Python`,`Matplotlib`,`Seaborn`,`Plotly`]},{title:`Storytelling Using Data`,image:`Storytelling Using Data.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-02`,tags:[`Data Analytics`,`Data Storytelling`]},{title:`Data Visualization Fundamentals`,image:`Data Visualization Fundamentals.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-02`,tags:[`Data Analytics`,`Data Visualization`,`Excel`]},{title:`SQL for Business Users`,image:`SQL for Business Users.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-02`,tags:[`Data Science`,`SQL`,`PostgreSQL`]},{title:`Dashboard and Drill-Down Analytics`,image:`Dashboards and Drill-Down Analytics.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-02`,tags:[`Data Science`,`Drill-Down Analytics`,`Dashboards`,`Excel`]},{title:`Data Management Fundamentals`,image:`Data Management Fundamentals.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-02`,tags:[`Data Management`,`Data Ethics`]},{title:`Getting Grounded on Analytics`,image:`Getting Grounded on Analytics.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-07-02`,tags:[`Data Analytics`,`Analytics`,`Python`]},{title:`Statistical Analysis and Modeling Using SQL and Python`,image:`Statistical Analysis and Modeling Using SQL and Python.jpg`,issuer:`Department of Information and Communications Technology Philippines`,issued_at:`2022-05-09`,tags:[`Data Science`,`Statistical Analysis`,`SQL`,`PostgreSQL`,`Python`,`Pandas`,`Numpy`]},{title:`Computing in Python`,image:`Computing in Python.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2022-02-05`,tags:[`Data Science`,`Python`,`Pandas`,`Numpy`]},{title:`Essential Excel Skills for Data Preparation and Analysis`,image:`Essential Excel Skills for Data Preparation and Analysis.jpg`,issuer:`Development Academy of the Philippines (DAP)`,issued_at:`2021-01-07`,tags:[`Data Analytics`,`Data Preparation`,`Excel`]}],experiences_default=[{organization:`Freelance`,title:`Backend & Machine Learning Engineer`,summary:`Developed a machine learning-based system for legal document analysis. Focused on creating a scalable pipeline for natural language processing and inference to automate document evaluation and validation.`,country:`Philippines`,started_at:`2024-09`,ended_at:`2024-12`,technologies:[`Cloudflare`,`Tunnelling`,`Zero Trust`,`Containerization`,`Docker`,`Reverse Proxy`,`Nginx`,`Pocketbase`,`Flask`,`Python`,`Express.js`,`Javascript`,`Typescript`,`OpenAPI`,`Data Science`,`Machine Learning`,`Scikit Learn`,`Natural Language Processing (NLP)`,`Text Tokenization`,`Global Vectors for Word Representation (GLoVe)`,`Sentece Transformers (SBERT)`],highlights:[`Created a machine learning and NLP-based document attribution system for assessing the HGDG alignment of a legal document, automating evaluation and validation with a focus on scalability.`,`Designed a pipeline to tokenize and embed document text using GloVe and SBERT embeddings, extract the most relevant sentences for specific questions using cosine similarity, and validate responses through Natural Language Inference (NLI).`,`Built a robust backend infrastructure using Flask and Flask-RESTX, containerized with Docker, and deployed with Gunicorn for production readiness.`]},{organization:`Navigent`,title:`Backend & AI Agent Workflow Engineer`,summary:`Specialized in creating and deploying voice AI agents for business automation. Developed backend APIs and integrated various tools to manage complex conversational flows and data models, focusing on enhancing customer interaction.`,country:`Taiwan`,started_at:`2025-01`,ended_at:`2025-02`,technologies:[`N8N`,`VAPI`,`NocoDB`,`FastAPI`,`PydanticAI`,`Pydantic`,`Python`],highlights:[`Developed 2 voice AI agent for a restaurant business and a construction firm using N8N, VAPI, NocoDB, Twillio, FastAPI, PydanticAI, and OpenRouter `,`Designed and implemented voice interaction flows using N8N and VAPI to handle customer inquiries and automate customer making a booking or an order via voice alone.`,`Build backend APIs with FastAPI and structured data models with PydanticAI for agent reasoning.`]},{organization:`Philippine Digital Asset Exchange (PDAX)`,title:`Software Quality Engineer Intern`,summary:`Created test automation continuous integration pipelines for a backend and client application. Designed and implemented a CI/CD pipeline to streamline the testing and code analysis process.`,country:`Philippines`,started_at:`2025-02`,ended_at:`2025-04`,technologies:[`CI/CD`,`Automation Testing`,`Jenkins`,`Robot Framework`,`Docker`,`Docker-in-Docker`,`Containerization`,`Sonarqube`,`FastAPI`,`PydanticAI`,`Typescript`,`React`],highlights:[`Built an API and client app of an implementation of an AI agent using FastAPI and PyanticAI for API and Typescript and React for client side.`,`Developed test automation scripts for thereof using Robot Framework with its playwright and requests implementation to address and test the API and client app.`,`Designed the pipeline using jenkins with hybrid testing methodology of implementing unit tests and static code analysis using SonarQube on feature branch push and smoke tests on develop branch pull request then full test on pull request to master.`]},{organization:`Philippine Digital Asset Exchange (PDAX)`,title:`Senior Associate Software Quality Engineer`,summary:`Architected and implemented a scalable and comprehensive quality engineering infrastructure, focusing on automation, performance, and streamlined collaboration. Developed robust automation frameworks and a performance testing ecosystem to ensure high-quality software delivery.`,country:`Philippines`,started_at:`2025-04`,ended_at:`2026-01`,technologies:[`Amazon Web Services (AWS)`,`AWS EC2`,`Containerization`,`Docker`,`Hashicorp Vault`,`Reverse Proxy`,`Nginx`,`Continuous Integration (CI)`,`Jenkins`,`Slack Integration`,`Test Automation`,`Performance Testing`,`Grafana`,`Grafana K6`,`InfluxDB`,`Typescript`,`Functional Testing`,`Robot Framework`,`Allure`,`Robot Framework Requests`,`Robot Framework Appium`,`Browserstack`,`Grafana Loki`],highlights:[`Built scalable automation frameworks for backend and mobile testing using Robot Framework, Appium, BrowserStack, Jenkins, and Hashicorp Vault with both CI and on-demand pipelines.`,`Designed and implemented a performance testing ecosystem with Grafana K6, InfluxDB, Grafana, and Loki, enabling real-time monitoring, reporting, and scalable load testing.`,`Established a centralized QE infrastructure leveraging Docker, Nginx, Jenkins, Vault, Grafana, Grafana Loki, and InfluxDB to streamline test execution, reporting, and team collaboration.`]},{organization:`Philippine Digital Asset Exchange (PDAX)`,title:`Senior Associate Solutions Architect`,summary:`Architected and implemented a scalable and comprehensive quality engineering infrastructure, focusing on automation, performance, and streamlined collaboration. Developed robust automation frameworks and a performance testing ecosystem to ensure high-quality software delivery.`,country:`Philippines`,started_at:`2026-01`,ended_at:null,technologies:[`Amazon Web Services (AWS)`,`Continuous Integration (CI)`,`Continuous Delivery (CD)`,`Serverless Architecture`,`Event Driven Architecture`,`Containerization`,`Docker`,`Typescript`,`Python`],highlights:[`Engineered a Python-based serverless system using AWS Lambda, DynamoDB, and Docker to operationalize security finding ingestion and processing`,`Implemented event-driven and CLI-based entry points to operationalize both real-time and bulk intake of findings from AWS Security Hub`,`Automated batch publishing of security findings to Jira with dynamic assignment to the responsible squad based on ownership rules`,`Operationalized end-to-end security remediation by converting findings into actionable, owned, and trackable work items across teams`]}],resume_default=`/assets/resume-C--GRLTB.pdf`,AWS_Cloud_Practitioner_Essentials_default=`/assets/AWS%20Cloud%20Practitioner%20Essentials-BxMl76XB.jpg?format=webp&meta`,Computing_in_Python_default=`/assets/Computing%20in%20Python-BCRfQtAU.jpg?format=webp&meta`,ComputingMicrospecialization_Pathway_default=`/assets/ComputingMicrospecialization%20Pathway-xr08_IwR.jpg?format=webp&meta`,Coursera_83NPJR94JBK6_default=`/assets/Coursera%2083NPJR94JBK6-CPzxquKS.jpg?format=webp&meta`,Coursera_98WLY7GTYQXP_default=`/assets/Coursera%2098WLY7GTYQXP-CVa6ImRY.jpg?format=webp&meta`,Coursera_AFYSP9AT688L_default=`/assets/Coursera%20AFYSP9AT688L-D_bUoeEs.jpg?format=webp&meta`,Coursera_NRBJSJUC23CB_default=`/assets/Coursera%20NRBJSJUC23CB-D7sb55XW.jpg?format=webp&meta`,Coursera_TM3X56CDLPCF_default=`/assets/Coursera%20TM3X56CDLPCF-BwQRnFG6.jpg?format=webp&meta`,Coursera_VEDAQDZHSQCW_default=`/assets/Coursera%20VEDAQDZHSQCW-BX8fJPn2.jpg?format=webp&meta`,Coursera_VGLAE6SPCZUA_default=`/assets/Coursera%20VGLAE6SPCZUA-IIFUyAC5.jpg?format=webp&meta`,Coursera_X43NVBCNNG5R_default=`/assets/Coursera%20X43NVBCNNG5R-CvfNJ8bs.jpg?format=webp&meta`,Dashboards_and_Drill_Down_Analytics_default=`/assets/Dashboards%20and%20Drill-Down%20Analytics-DAT6uwlg.jpg?format=webp&meta`,Data_Management_Fundamentals_default=`/assets/Data%20Management%20Fundamentals-BKk0o-fM.jpg?format=webp&meta`,Data_Science_and_Machine_Learning_Using_Python_default=`/assets/Data%20Science%20and%20Machine%20Learning%20Using%20Python-D5p1-XnZ.jpg?format=webp&meta`,Data_Visualization_Fundamentals_default=`/assets/Data%20Visualization%20Fundamentals-BjsoWd5O.jpg?format=webp&meta`,Data_Visualization_Using_Tableau_and_Python_default=`/assets/Data%20Visualization%20Using%20Tableau%20and%20Python-CxjkApBw.jpg?format=webp&meta`,Data_VisualizationMicrospecialization_Pathway_default=`/assets/Data%20VisualizationMicrospecialization%20Pathway-CCrLEltX.jpg?format=webp&meta`,Essential_Excel_Skills_for_Data_Preparation_and_Analysis_default=`/assets/Essential%20Excel%20Skills%20for%20Data%20Preparation%20and%20Analysis-Cb3innIz.jpg?format=webp&meta`,Experimental_Design_and_Analysis_default=`/assets/Experimental%20Design%20and%20Analysis-DMN5Sicm.jpg?format=webp&meta`,Getting_Grounded_on_Analytics_default=`/assets/Getting%20Grounded%20on%20Analytics-DW1xoa2q.jpg?format=webp&meta`,MACH_Analyze_Data_with_Python_default=`/assets/MACH%20Analyze%20Data%20with%20Python-B-kI4fuV.jpg?format=webp&meta`,MACH_Basic_Statistics_with_Python_default=`/assets/MACH%20Basic%20Statistics%20with%20Python-DMj67vqz.jpg?format=webp&meta`,MACH_Build_Python_Web_Apps_with_Flask_default=`/assets/MACH%20Build%20Python%20Web%20Apps%20with%20Flask-CEdBoPX4.jpg?format=webp&meta`,MACH_Programming_For_Beginners_Using_Python_default=`/assets/MACH%20Programming%20For%20Beginners%20Using%20Python-Dr3hyAfu.jpg?format=webp&meta`,MACH_Programming_for_Intermediate_Users_Using_Python_default=`/assets/MACH%20Programming%20for%20Intermediate%20Users%20Using%20Python-BsFoJgBs.jpg?format=webp&meta`,MACH_Visualize_Data_with_Python_default=`/assets/MACH%20Visualize%20Data%20with%20Python-0QMmOnTu.jpg?format=webp&meta`,Methods_and_AlgorithmsMicrospecialization_Pathway_default=`/assets/Methods%20and%20AlgorithmsMicrospecialization%20Pathway-BX5XnDk8.jpg?format=webp&meta`,SQL_for_Business_Users_default=`/assets/SQL%20for%20Business%20Users-CAt1jG3_.jpg?format=webp&meta`,Statistical_Analysis_and_Modeling_Using_SQL_and_Python_default=`/assets/Statistical%20Analysis%20and%20Modeling%20Using%20SQL%20and%20Python-BH6rVQdd.jpg?format=webp&meta`,Storytelling_Using_Data_default=`/assets/Storytelling%20Using%20Data-BgVbWbod.jpg?format=webp&meta`,personal_image_default=`/assets/personal-image-BUsDOG4K.jpg?format=webp&meta`,images={"/src/shared/assets/portfolio-resources/assets/images/certifications/AWS Cloud Practitioner Essentials.jpg":AWS_Cloud_Practitioner_Essentials_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Computing in Python.jpg":Computing_in_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/ComputingMicrospecialization Pathway.jpg":ComputingMicrospecialization_Pathway_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Coursera 83NPJR94JBK6.jpg":Coursera_83NPJR94JBK6_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Coursera 98WLY7GTYQXP.jpg":Coursera_98WLY7GTYQXP_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Coursera AFYSP9AT688L.jpg":Coursera_AFYSP9AT688L_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Coursera NRBJSJUC23CB.jpg":Coursera_NRBJSJUC23CB_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Coursera TM3X56CDLPCF.jpg":Coursera_TM3X56CDLPCF_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Coursera VEDAQDZHSQCW.jpg":Coursera_VEDAQDZHSQCW_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Coursera VGLAE6SPCZUA.jpg":Coursera_VGLAE6SPCZUA_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Coursera X43NVBCNNG5R.jpg":Coursera_X43NVBCNNG5R_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Dashboards and Drill-Down Analytics.jpg":Dashboards_and_Drill_Down_Analytics_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Data Management Fundamentals.jpg":Data_Management_Fundamentals_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Data Science and Machine Learning Using Python.jpg":Data_Science_and_Machine_Learning_Using_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Data Visualization Fundamentals.jpg":Data_Visualization_Fundamentals_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Data Visualization Using Tableau and Python.jpg":Data_Visualization_Using_Tableau_and_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Data VisualizationMicrospecialization Pathway.jpg":Data_VisualizationMicrospecialization_Pathway_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Essential Excel Skills for Data Preparation and Analysis.jpg":Essential_Excel_Skills_for_Data_Preparation_and_Analysis_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Experimental Design and Analysis.jpg":Experimental_Design_and_Analysis_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Getting Grounded on Analytics.jpg":Getting_Grounded_on_Analytics_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/MACH Analyze Data with Python.jpg":MACH_Analyze_Data_with_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/MACH Basic Statistics with Python.jpg":MACH_Basic_Statistics_with_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/MACH Build Python Web Apps with Flask.jpg":MACH_Build_Python_Web_Apps_with_Flask_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/MACH Programming For Beginners Using Python.jpg":MACH_Programming_For_Beginners_Using_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/MACH Programming for Intermediate Users Using Python.jpg":MACH_Programming_for_Intermediate_Users_Using_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/MACH Visualize Data with Python.jpg":MACH_Visualize_Data_with_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Methods and AlgorithmsMicrospecialization Pathway.jpg":Methods_and_AlgorithmsMicrospecialization_Pathway_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/SQL for Business Users.jpg":SQL_for_Business_Users_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Statistical Analysis and Modeling Using SQL and Python.jpg":Statistical_Analysis_and_Modeling_Using_SQL_and_Python_default,"/src/shared/assets/portfolio-resources/assets/images/certifications/Storytelling Using Data.jpg":Storytelling_Using_Data_default,"/src/shared/assets/portfolio-resources/assets/images/personal-image.jpg":personal_image_default},StaticProfileRepository=class{async request(execute){try{return await execute()}catch(error){throw error instanceof ProfileRepositoryError?error:new ProfileRepositoryError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getPersonalImageUrl(){return await this.request(async()=>{let filename=`personal-image.jpg`,key=Object.keys(images).find(key$1=>key$1.includes(filename));if(!key)throw new ProfileRepositoryResourceNotFoundError(filename);return Promise.resolve(images[key])})}async getCareerHistory(){return this.request(async()=>Promise.resolve(experiences_default.map(e$1=>{let{started_at,ended_at,...rest}=e$1;return new Experience$1({startedAt:started_at,endedAt:ended_at,...rest})})))}async getCertifications(){return await this.request(async()=>certifications_default.map(c$3=>{let{issued_at,image,...rest}=c$3,key=Object.keys(images).find(k$1=>k$1.includes(image));return new Certification({issuedAt:issued_at,imageUrl:key?images[key]:void 0,...rest})}))}async getResume(){return await this.request(async()=>resume_default)}},technologies_default=[{name:`bash`,simple_icon_key:`gnubash`},{name:`csharp`,simple_icon_key:`sharp`},{name:`dart`,simple_icon_key:`dart`},{name:`html`,simple_icon_key:`html5`},{name:`css`,simple_icon_key:`css`},{name:`java`,simple_icon_key:`openjdk`},{name:`javascript`,simple_icon_key:`javascript`},{name:`php`,simple_icon_key:`php`},{name:`python`,simple_icon_key:`python`},{name:`r`,simple_icon_key:`r`},{name:`typescript`,simple_icon_key:`typescript`},{name:`docker`,simple_icon_key:`docker`},{name:`git`,simple_icon_key:`git`},{name:`labview`,simple_icon_key:`labview`},{name:`bootstrap`,simple_icon_key:`bootstrap`},{name:`codeigniter`,simple_icon_key:`codeigniter`},{name:`daisyui`,simple_icon_key:`daisyui`},{name:`fastapi`,simple_icon_key:`fastapi`},{name:`flask`,simple_icon_key:`flask`},{name:`flutter`,simple_icon_key:`flutter`},{name:`heroui`,simple_icon_key:`heroui`},{name:`javafx`,simple_icon_key:`openjdk`},{name:`laravel`,simple_icon_key:`laravel`},{name:`nextjs`,simple_icon_key:`nextdotjs`},{name:`open api`,simple_icon_key:`openapiinitiative`},{name:`pydantic`,simple_icon_key:`pydantic`},{name:`react`,simple_icon_key:`react`},{name:`shadcnui`,simple_icon_key:`shadcnui`},{name:`streamlit`,simple_icon_key:`streamlit`},{name:`swagger`,simple_icon_key:`swagger`},{name:`tailwindcss`,simple_icon_key:`tailwindcss`},{name:`ggplot`,simple_icon_key:`tidyverse`},{name:`pandas`,simple_icon_key:`pandas`},{name:`plotly`,simple_icon_key:`plotly`},{name:`seaborn`,simple_icon_key:`python`},{name:`sklearn`,simple_icon_key:`scikitlearn`},{name:`grafana k6`,simple_icon_key:`k6`},{name:`robot framework`,simple_icon_key:`robotframework`},{name:`jupyter`,simple_icon_key:`jupyter`},{name:`allure`,simple_icon_key:`circle`},{name:`aws cloud`,simple_icon_key:`iCloud`},{name:`cloudformation`,simple_icon_key:`ebox`},{name:`hashicorp vault`,simple_icon_key:`vault`},{name:`influxdb`,simple_icon_key:`influxdb`},{name:`mysql`,simple_icon_key:`mysql`},{name:`nocodb`,simple_icon_key:`airtable`},{name:`pocketbase`,simple_icon_key:`pocketbase`},{name:`postgresql`,simple_icon_key:`postgresql`},{name:`supabase`,simple_icon_key:`supabase`},{name:`browserstack`,simple_icon_key:`bt`},{name:`github`,simple_icon_key:`github`},{name:`grafana`,simple_icon_key:`grafana`},{name:`grafana loki`,simple_icon_key:`grafana`},{name:`jenkins`,simple_icon_key:`jenkins`},{name:`aws ec2`,simple_icon_key:`cloudways`},{name:`vapi`,simple_icon_key:`vectary`},{name:`arduino`,simple_icon_key:`arduino`},{name:`n8n`,simple_icon_key:`n8n`},{name:`vscodium`,simple_icon_key:`vscodium`},{name:`neovim`,simple_icon_key:`neovim`},{name:`tmux`,simple_icon_key:`tmux`},{name:`hyprland`,simple_icon_key:`hyprland`},{name:`linux`,simple_icon_key:`linux`},{name:`arch`,simple_icon_key:`archlinux`},{name:`cachyos`,simple_icon_key:`codio`},{name:`ubuntu`,simple_icon_key:`ubuntu`},{name:`zorin`,simple_icon_key:`zorin`},{name:`macos`,simple_icon_key:`macos`},{name:`indesign`,simple_icon_key:`aframe`},{name:`photoshop`,simple_icon_key:`aframe`},{name:`premiere`,simple_icon_key:`aframe`}],StaticTechnologyRepository=class{async request(execute){try{return await execute()}catch(error){throw error instanceof TechnologyRepositoryError?error:new TechnologyRepositoryError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getTechnologies(){return this.request(async()=>Promise.resolve(technologies_default.map(t$1=>new Technology({name:t$1.name,logoUrl:`https://cdn.simpleicons.org/${t$1.simple_icon_key}`}))))}},DecoratedTechnologyRepository=class{constructor(inner){this.inner=inner}async getTechnologies(){try{logger.debug(`Getting technologies`);let technologies=await this.inner.getTechnologies();return logger.debug(`Got ${technologies.length} technologies`),technologies}catch(error){throw logger.error(`Error getting technologies`,{error}),error}}},profileRepository=new DecoratedProfileRepository(new StaticProfileRepository),technologyRepository=new DecoratedTechnologyRepository(new StaticTechnologyRepository);const identityApi={baseKey:[`identity`],query:{personalImageUrl:()=>queryOptions({queryKey:[...identityApi.baseKey,`personal-image`],queryFn:()=>commandBus.dispatch(new GetPersonalImageUrl({profileRepository})),staleTime:1/0}),careerHistory:()=>queryOptions({queryKey:[...identityApi.baseKey,`career-history`],queryFn:()=>commandBus.dispatch(new GetCareerHistory({profileRepository})),staleTime:1/0}),technologies:()=>queryOptions({queryKey:[...identityApi.baseKey,`technologies`],queryFn:()=>commandBus.dispatch(new GetTechnologies({technologyRepository})),staleTime:1/0}),certifications:()=>queryOptions({queryKey:[...identityApi.baseKey,`certifications`],queryFn:()=>commandBus.dispatch(new GetCertifications({profileRepository})),staleTime:1/0}),resume:()=>queryOptions({queryKey:[...identityApi.baseKey,`resume`],queryFn:()=>commandBus.dispatch(new GetResume({profileRepository})),staleTime:1/0})}},PersonalImage=(0,import_react.forwardRef)((t0,ref)=>{let $$1=(0,import_compiler_runtime$39.c)(11),className,props;$$1[0]===t0?(className=$$1[1],props=$$1[2]):({className,...props}=t0,$$1[0]=t0,$$1[1]=className,$$1[2]=props);let t1;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t1=identityApi.query.personalImageUrl(),$$1[3]=t1):t1=$$1[3];let{data}=useSuspenseQuery(t1),t2;$$1[4]===className?t2=$$1[5]:(t2=cn(`h-full w-full object-cover`,className),$$1[4]=className,$$1[5]=t2);let t3;return $$1[6]!==data.imageUrl||$$1[7]!==props||$$1[8]!==ref||$$1[9]!==t2?(t3=(0,import_jsx_runtime.jsx)(`img`,{ref,className:t2,src:data.imageUrl,...props}),$$1[6]=data.imageUrl,$$1[7]=props,$$1[8]=ref,$$1[9]=t2,$$1[10]=t3):t3=$$1[10],t3});var mergeClasses=(...classes)=>classes.filter((className,index,array$1)=>!!className&&className.trim()!==``&&array$1.indexOf(className)===index).join(` `).trim(),toKebabCase=string$2=>string$2.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),toCamelCase=string$2=>string$2.replace(/^([A-Z])|[\s-_]+(\w)/g,(match,p1,p2)=>p2?p2.toUpperCase():p1.toLowerCase()),toPascalCase=string$2=>{let camelCase=toCamelCase(string$2);return camelCase.charAt(0).toUpperCase()+camelCase.slice(1)},defaultAttributes={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},hasA11yProp=props=>{for(let prop in props)if(prop.startsWith(`aria-`)||prop===`role`||prop===`title`)return!0;return!1},Icon=(0,import_react.forwardRef)(({color=`currentColor`,size=24,strokeWidth=2,absoluteStrokeWidth,className=``,children,iconNode,...rest},ref)=>(0,import_react.createElement)(`svg`,{ref,...defaultAttributes,width:size,height:size,stroke:color,strokeWidth:absoluteStrokeWidth?Number(strokeWidth)*24/Number(size):strokeWidth,className:mergeClasses(`lucide`,className),...!children&&!hasA11yProp(rest)&&{"aria-hidden":`true`},...rest},[...iconNode.map(([tag,attrs])=>(0,import_react.createElement)(tag,attrs)),...Array.isArray(children)?children:[children]])),createLucideIcon=(iconName,iconNode)=>{let Component=(0,import_react.forwardRef)(({className,...props},ref)=>(0,import_react.createElement)(Icon,{ref,iconNode,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(iconName))}`,`lucide-${iconName}`,className),...props}));return Component.displayName=toPascalCase(iconName),Component},__iconNode$28=[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]],Activity=createLucideIcon(`activity`,__iconNode$28),__iconNode$27=[[`path`,{d:`M7 7h10v10`,key:`1tivn9`}],[`path`,{d:`M7 17 17 7`,key:`1vkiza`}]],ArrowUpRight=createLucideIcon(`arrow-up-right`,__iconNode$27),__iconNode$26=[[`path`,{d:`M2 10v3`,key:`1fnikh`}],[`path`,{d:`M6 6v11`,key:`11sgs0`}],[`path`,{d:`M10 3v18`,key:`yhl04a`}],[`path`,{d:`M14 8v7`,key:`3a1oy3`}],[`path`,{d:`M18 5v13`,key:`123xd1`}],[`path`,{d:`M22 10v3`,key:`154ddg`}]],AudioLines=createLucideIcon(`audio-lines`,__iconNode$26),__iconNode$25=[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]],Award=createLucideIcon(`award`,__iconNode$25),__iconNode$24=[[`path`,{d:`M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z`,key:`3c2336`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`16`,key:`10p56q`}],[`line`,{x1:`8`,x2:`16`,y1:`12`,y2:`12`,key:`1jonct`}]],BadgePlus=createLucideIcon(`badge-plus`,__iconNode$24),__iconNode$23=[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M16 12h2`,key:`7q9ll5`}],[`path`,{d:`M16 8h2`,key:`msurwy`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}],[`path`,{d:`M6 12h2`,key:`32wvfc`}],[`path`,{d:`M6 8h2`,key:`30oboj`}]],BookOpenText=createLucideIcon(`book-open-text`,__iconNode$23),__iconNode$22=[[`path`,{d:`M10 12h4`,key:`a56b0p`}],[`path`,{d:`M10 8h4`,key:`1sr2af`}],[`path`,{d:`M14 21v-3a2 2 0 0 0-4 0v3`,key:`1rgiei`}],[`path`,{d:`M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2`,key:`secmi2`}],[`path`,{d:`M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16`,key:`16ra0t`}]],Building2=createLucideIcon(`building-2`,__iconNode$22),__iconNode$21=[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]],Calendar=createLucideIcon(`calendar`,__iconNode$21),__iconNode$20=[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]],ChevronRight=createLucideIcon(`chevron-right`,__iconNode$20),__iconNode$19=[[`path`,{d:`m7 6 5 5 5-5`,key:`1lc07p`}],[`path`,{d:`m7 13 5 5 5-5`,key:`1d48rs`}]],ChevronsDown=createLucideIcon(`chevrons-down`,__iconNode$19),__iconNode$18=[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]],CircleCheck=createLucideIcon(`circle-check`,__iconNode$18),__iconNode$17=[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}]],Clipboard=createLucideIcon(`clipboard`,__iconNode$17),__iconNode$16=[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]],Clock=createLucideIcon(`clock`,__iconNode$16),__iconNode$15=[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]],Eye=createLucideIcon(`eye`,__iconNode$15),__iconNode$14=[[`path`,{d:`M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z`,key:`1jg4f8`}]],Facebook=createLucideIcon(`facebook`,__iconNode$14),__iconNode$13=[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M16 22a4 4 0 0 0-8 0`,key:`7a83pg`}],[`circle`,{cx:`12`,cy:`15`,r:`3`,key:`g36mzq`}]],FileUser=createLucideIcon(`file-user`,__iconNode$13),__iconNode$12=[[`path`,{d:`m15 17 5-5-5-5`,key:`nf172w`}],[`path`,{d:`M4 18v-2a4 4 0 0 1 4-4h12`,key:`jmiej9`}]],Forward=createLucideIcon(`forward`,__iconNode$12),__iconNode$11=[[`circle`,{cx:`5`,cy:`6`,r:`3`,key:`1qnov2`}],[`path`,{d:`M5 9v6`,key:`158jrl`}],[`circle`,{cx:`5`,cy:`18`,r:`3`,key:`104gr9`}],[`path`,{d:`M12 3v18`,key:`108xh3`}],[`circle`,{cx:`19`,cy:`6`,r:`3`,key:`108a5v`}],[`path`,{d:`M16 15.7A9 9 0 0 0 19 9`,key:`1e3vqb`}]],GitGraph=createLucideIcon(`git-graph`,__iconNode$11),__iconNode$10=[[`path`,{d:`M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4`,key:`tonef`}],[`path`,{d:`M9 18c-4.51 2-5-2-7-2`,key:`9comsn`}]],Github=createLucideIcon(`github`,__iconNode$10),__iconNode$9=[[`line`,{x1:`4`,x2:`20`,y1:`9`,y2:`9`,key:`4lhtct`}],[`line`,{x1:`4`,x2:`20`,y1:`15`,y2:`15`,key:`vyu0kd`}],[`line`,{x1:`10`,x2:`8`,y1:`3`,y2:`21`,key:`1ggp8o`}],[`line`,{x1:`16`,x2:`14`,y1:`3`,y2:`21`,key:`weycgp`}]],Hash=createLucideIcon(`hash`,__iconNode$9),__iconNode$8=[[`path`,{d:`M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z`,key:`c2jq9f`}],[`rect`,{width:`4`,height:`12`,x:`2`,y:`9`,key:`mk3on5`}],[`circle`,{cx:`4`,cy:`4`,r:`2`,key:`bt5ra8`}]],Linkedin=createLucideIcon(`linkedin`,__iconNode$8),__iconNode$7=[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]],Mail=createLucideIcon(`mail`,__iconNode$7),__iconNode$6=[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]],MapPin=createLucideIcon(`map-pin`,__iconNode$6),__iconNode$5=[[`path`,{d:`M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z`,key:`1n2ejm`}],[`path`,{d:`M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1`,key:`1qfcsi`}]],MessagesSquare=createLucideIcon(`messages-square`,__iconNode$5),__iconNode$4=[[`path`,{d:`M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401`,key:`kfwtm`}]],Moon=createLucideIcon(`moon`,__iconNode$4),__iconNode$3=[[`circle`,{cx:`12`,cy:`5`,r:`1`,key:`gxeob9`}],[`path`,{d:`m9 20 3-6 3 6`,key:`se2kox`}],[`path`,{d:`m6 8 6 2 6-2`,key:`4o3us4`}],[`path`,{d:`M12 10v4`,key:`1kjpxc`}]],PersonStanding=createLucideIcon(`person-standing`,__iconNode$3),__iconNode$2=[[`path`,{d:`m18 14 4 4-4 4`,key:`10pe0f`}],[`path`,{d:`m18 2 4 4-4 4`,key:`pucp1d`}],[`path`,{d:`M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22`,key:`1ailkh`}],[`path`,{d:`M2 6h1.972a4 4 0 0 1 3.6 2.2`,key:`km57vx`}],[`path`,{d:`M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45`,key:`os18l9`}]],Shuffle=createLucideIcon(`shuffle`,__iconNode$2),__iconNode$1=[[`circle`,{cx:`12`,cy:`12`,r:`4`,key:`4exip2`}],[`path`,{d:`M12 2v2`,key:`tus03m`}],[`path`,{d:`M12 20v2`,key:`1lh1kg`}],[`path`,{d:`m4.93 4.93 1.41 1.41`,key:`149t6j`}],[`path`,{d:`m17.66 17.66 1.41 1.41`,key:`ptbguv`}],[`path`,{d:`M2 12h2`,key:`1t8f8n`}],[`path`,{d:`M20 12h2`,key:`1q8mjw`}],[`path`,{d:`m6.34 17.66-1.41 1.41`,key:`1m8zz5`}],[`path`,{d:`m19.07 4.93-1.41 1.41`,key:`1shlcs`}]],Sun=createLucideIcon(`sun`,__iconNode$1),__iconNode=[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]],TriangleAlert=createLucideIcon(`triangle-alert`,__iconNode),import_compiler_runtime$38=require_compiler_runtime(),Experience=()=>{let $$1=(0,import_compiler_runtime$38.c)(11),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=identityApi.query.careerHistory(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),t1;$$1[1]===data.careerHistory?t1=$$1[2]:(t1=data.careerHistory.at(-1),$$1[1]=data.careerHistory,$$1[2]=t1);let recentExperience=t1,t2;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:`flex h-full w-24 shrink-0 items-center justify-center rounded-lg sm:w-26`,children:(0,import_jsx_runtime.jsx)(Building2,{className:`size-8`})}),$$1[3]=t2):t2=$$1[3];let t3=recentExperience?.title,t4;$$1[4]===t3?t4=$$1[5]:(t4=(0,import_jsx_runtime.jsx)(`p`,{className:`text-accent xs:text-sm text-xs font-bold sm:text-base`,children:t3}),$$1[4]=t3,$$1[5]=t4);let t5=recentExperience?.organization,t6;$$1[6]===t5?t6=$$1[7]:(t6=(0,import_jsx_runtime.jsx)(`p`,{className:`text-xs sm:text-sm`,children:t5}),$$1[6]=t5,$$1[7]=t6);let t7;return $$1[8]!==t4||$$1[9]!==t6?(t7=(0,import_jsx_runtime.jsxs)(`div`,{className:`sm:bg-background flex h-full items-center justify-start gap-1 rounded-xl sm:p-1`,children:[t2,(0,import_jsx_runtime.jsxs)(`div`,{className:`sm:bg-default flex h-full w-full flex-col justify-center gap-0 rounded-lg leading-none font-medium sm:px-8`,children:[t4,t6]})]}),$$1[8]=t4,$$1[9]=t6,$$1[10]=t7):t7=$$1[10],t7};const RecentExperience=()=>{let $$1=(0,import_compiler_runtime$38.c)(1),t0;return $$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsx)(`div`,{className:`h-16 sm:h-24`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(Experience,{})})})}),$$1[0]=t0):t0=$$1[0],t0};var J$1=.2,Q$1=12,b$1=75,tt$1=.35,c$2={INACTIVE:0,TOUCH_DELAY:1,HOLDING:2,WAITING_FOR_CLICK:3},nt=({hoverOpacity:_$1,pressedOpacity:x$1,disabled:p$2=!1,className:O$1=``,style:X$1,easing:N$1,duration:d$2=150,minimumPressDuration:E$2=225,touchDelay:P$1=150})=>{let[j$1,w$1]=(0,import_react.useState)(!1),[q$1,y$2]=(0,import_react.useState)(!1),u$1=(0,import_react.useRef)(null),R$1=(0,import_react.useRef)(null),C$2=(0,import_react.useRef)(``),G$1=(0,import_react.useRef)(``),L$1=(0,import_react.useRef)(0),A$1=(0,import_react.useRef)(void 0),s$1=(0,import_react.useRef)(c$2.INACTIVE),h$2=(0,import_react.useRef)(void 0),g$1=(0,import_react.useRef)(!1);(0,import_react.useEffect)(()=>{if(!R$1.current)return;let t$1=R$1.current.style;_$1!==void 0&&t$1.setProperty(`--ripple-hover-opacity`,_$1+``),x$1!==void 0&&t$1.setProperty(`--ripple-pressed-opacity`,x$1+``),d$2!==void 0&&d$2!==150&&t$1.setProperty(`--ripple-duration`,d$2+`ms`)},[_$1,x$1,d$2]),(0,import_react.useEffect)(()=>{var n$1;let t$1=u$1.current?.parentElement;if(!t$1)return;let e$1=(r$1,i$1)=>t$1.addEventListener(r$1,i$1,!0);return e$1(`click`,Y$1),e$1(`contextmenu`,K$1),e$1(`pointercancel`,k$1),e$1(`pointerdown`,F$1),e$1(`pointerenter`,v$1),e$1(`pointerleave`,z$2),e$1(`pointerup`,B$2),()=>{let r$1=(i$1,m$2)=>t$1.removeEventListener(i$1,m$2,!0);r$1(`click`,Y$1),r$1(`contextmenu`,K$1),r$1(`pointercancel`,k$1),r$1(`pointerdown`,F$1),r$1(`pointerenter`,v$1),r$1(`pointerleave`,z$2),r$1(`pointerup`,B$2)}},[p$2,N$1,d$2,E$2,P$1]);let T$1=(0,import_react.useCallback)(({pointerType:t$1})=>t$1===`touch`,[]),l$2=(0,import_react.useCallback)(t$1=>{var n$1,r$1;if(p$2||(r$1=u$1.current?.parentElement)!=null&&r$1.disabled||!t$1.isPrimary||h$2.current&&h$2.current.pointerId!==t$1.pointerId)return!1;if(t$1.type===`pointerenter`||t$1.type===`pointerleave`)return!T$1(t$1);let e$1=t$1.buttons===1;return T$1(t$1)||e$1},[p$2,T$1]),$$1=(0,import_react.useCallback)(({x:t$1,y:e$1})=>{let n$1=u$1.current;if(!n$1)return!1;let r$1=n$1.getBoundingClientRect();return t$1>=r$1.left&&t$1<=r$1.right&&e$1>=r$1.top&&e$1<=r$1.bottom},[u$1]),v$1=(0,import_react.useCallback)(t$1=>{l$2(t$1)&&w$1(!0)},[l$2]),M$1=(0,import_react.useCallback)(()=>{let t$1=u$1.current;if(!t$1)return;let{height:e$1,width:n$1}=t$1.getBoundingClientRect(),r$1=Math.max(e$1,n$1),i$1=Math.max(tt$1*r$1,b$1),m$2=Math.floor(r$1*J$1),Z$1=Math.sqrt(n$1**2+e$1**2)+Q$1;L$1.current=m$2,G$1.current=(Z$1+i$1)/m$2+``,C$2.current=m$2+`px`},[u$1]),D$1=(0,import_react.useCallback)(t$1=>{let e$1=u$1.current;if(!e$1)return{x:0,y:0};let n$1=e$1.getBoundingClientRect(),r$1=window.scrollX+n$1.left,i$1=window.scrollY+n$1.top;return{x:t$1.pageX-r$1,y:t$1.pageY-i$1}},[u$1]),H$1=(0,import_react.useCallback)(t$1=>{var i$1;let e$1=u$1.current?.parentElement;if(!e$1)return{startPoint:{x:0,y:0},endPoint:{x:0,y:0}};let n$1=e$1.getBoundingClientRect(),r$1={x:(n$1.width-L$1.current)/2,y:(n$1.height-L$1.current)/2};return{startPoint:t$1?D$1(t$1):r$1,endPoint:r$1}},[u$1,D$1]),I$1=(0,import_react.useCallback)(t$1=>{var S$1;let e$1=R$1.current;if(!e$1)return;y$2(!0),(S$1=A$1.current)==null||S$1.cancel(),M$1();let{startPoint:n$1,endPoint:r$1}=H$1(t$1),i$1=`${n$1.x}px,${n$1.y}px`,m$2=`${r$1.x}px,${r$1.y}px`;A$1.current=e$1.animate({height:[C$2.current,C$2.current],width:[C$2.current,C$2.current],transform:[`translate(${i$1}) scale(1)`,`translate(${m$2}) scale(${G$1.current})`]},{pseudoElement:`::after`,duration:d$2,easing:N$1,fill:`forwards`})},[M$1,d$2,N$1,H$1]),f$2=(0,import_react.useCallback)(()=>{h$2.current=void 0,s$1.current=c$2.INACTIVE;let t$1=A$1.current,e$1=1/0;if(typeof t$1?.currentTime==`number`?e$1=t$1.currentTime:t$1!=null&&t$1.currentTime&&(e$1=t$1.currentTime.to(`ms`).value),e$1>=E$2)return void y$2(!1);setTimeout(()=>{A$1.current===t$1&&y$2(!1)},E$2-e$1)},[E$2]),z$2=(0,import_react.useCallback)(t$1=>{l$2(t$1)&&(w$1(!1),s$1.current!==c$2.INACTIVE&&f$2())},[f$2,l$2]),B$2=(0,import_react.useCallback)(t$1=>{if(l$2(t$1)){if(s$1.current===c$2.HOLDING){s$1.current=c$2.WAITING_FOR_CLICK;return}if(s$1.current===c$2.TOUCH_DELAY){s$1.current=c$2.WAITING_FOR_CLICK,I$1(h$2.current);return}}},[l$2,I$1]),F$1=(0,import_react.useCallback)(t$1=>{if(l$2(t$1)){if(h$2.current=t$1,!T$1(t$1)){s$1.current=c$2.WAITING_FOR_CLICK,I$1(t$1);return}g$1.current&&!$$1(t$1)||(g$1.current=!1,s$1.current=c$2.TOUCH_DELAY,setTimeout(()=>{s$1.current===c$2.TOUCH_DELAY&&(s$1.current=c$2.HOLDING,I$1(t$1))},P$1))}},[l$2,T$1,$$1,I$1,P$1]),Y$1=(0,import_react.useCallback)(t$1=>{if(!p$2){if(s$1.current===c$2.WAITING_FOR_CLICK){f$2();return}s$1.current===c$2.INACTIVE&&(I$1(t$1),f$2())}},[p$2,f$2,I$1]),k$1=(0,import_react.useCallback)(t$1=>{l$2(t$1)&&f$2()},[f$2,l$2]),K$1=(0,import_react.useCallback)(()=>{p$2||(g$1.current=!0,f$2())},[p$2,f$2]);return(0,import_jsx_runtime.jsx)(`div`,{ref:u$1,className:`salty-ripple${O$1?` ${O$1}`:``}`,style:X$1,"aria-hidden":`true`,children:(0,import_jsx_runtime.jsx)(`div`,{ref:R$1,className:`salty-ripple-surface${j$1?` --hover`:``}${q$1?` --press`:``}`})})},import_compiler_runtime$37=require_compiler_runtime();const TechnologyBadge=t0=>{let $$1=(0,import_compiler_runtime$37.c)(8),{className,name,simpleIconUrl}=t0,t1;$$1[0]===className?t1=$$1[1]:(t1=cn(`bg-default xs:text-sm flex h-full items-center justify-center gap-2 rounded-md px-4 text-xs font-bold`,className),$$1[0]=className,$$1[1]=t1);let t2=`${simpleIconUrl}/000000/0070f0`,t3;$$1[2]===t2?t3=$$1[3]:(t3=(0,import_jsx_runtime.jsx)(`img`,{width:14,height:14,src:t2}),$$1[2]=t2,$$1[3]=t3);let t4;return $$1[4]!==name||$$1[5]!==t1||$$1[6]!==t3?(t4=(0,import_jsx_runtime.jsxs)(`div`,{className:t1,children:[t3,name]}),$$1[4]=name,$$1[5]=t1,$$1[6]=t3,$$1[7]=t4):t4=$$1[7],t4};var import_compiler_runtime$36=require_compiler_runtime();function TechnologyMarquee(){let $$1=(0,import_compiler_runtime$36.c)(6),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=identityApi.query.technologies(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1={base:`flex h-full [--duration:140s] [--gap:0.25rem] rounded-lg`},$$1[1]=t1):t1=$$1[1];let t2;$$1[2]===data.technologies?t2=$$1[3]:(t2=data.technologies.map(_temp$10),$$1[2]=data.technologies,$$1[3]=t2);let t3;return $$1[4]===t2?t3=$$1[5]:(t3=(0,import_jsx_runtime.jsx)(Marquee,{pauseOnHover:!0,classNames:t1,children:t2}),$$1[4]=t2,$$1[5]=t3),t3}function _temp$10(technology){return(0,import_jsx_runtime.jsx)(TechnologyBadge,{name:technology.name,simpleIconUrl:technology.logoUrl},`TechnologyBadge-${technology.name}`)}var import_compiler_runtime$35=require_compiler_runtime(),TechnologiesContent=()=>{let $$1=(0,import_compiler_runtime$35.c)(17),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=identityApi.query.technologies(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsx)(`span`,{children:`A total of `}),$$1[1]=t1):t1=$$1[1];let t2;$$1[2]===data.technologies.length?t2=$$1[3]:(t2=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent p-1 font-bold`,children:data.technologies.length}),$$1[2]=data.technologies.length,$$1[3]=t2);let t3;$$1[4]===Symbol.for(`react.memo_cache_sentinel`)?(t3=(0,import_jsx_runtime.jsxs)(`span`,{children:[` `,`languages and technologies that I work and used to work with`]}),$$1[4]=t3):t3=$$1[4];let t4;$$1[5]===t2?t4=$$1[6]:(t4=(0,import_jsx_runtime.jsxs)(`p`,{className:`pt-2 pb-4 text-base font-medium`,children:[t1,t2,t3]}),$$1[5]=t2,$$1[6]=t4);let t5;$$1[7]===data.technologies?t5=$$1[8]:(t5=data.technologies.map(_temp$9),$$1[7]=data.technologies,$$1[8]=t5);let t6;$$1[9]===t5?t6=$$1[10]:(t6=(0,import_jsx_runtime.jsx)(ScrollShadow,{hideScrollBar:!0,className:`max-h-60`,children:(0,import_jsx_runtime.jsx)(`div`,{className:`flex flex-wrap items-center gap-1`,children:t5})}),$$1[9]=t5,$$1[10]=t6);let t7;$$1[11]!==t4||$$1[12]!==t6?(t7=(0,import_jsx_runtime.jsxs)(Modal.Body,{children:[t4,t6]}),$$1[11]=t4,$$1[12]=t6,$$1[13]=t7):t7=$$1[13];let t8;$$1[14]===Symbol.for(`react.memo_cache_sentinel`)?(t8=(0,import_jsx_runtime.jsx)(Modal.Footer,{children:(0,import_jsx_runtime.jsx)(Button,{className:`rounded-lg`,slot:`close`,children:`Close`})}),$$1[14]=t8):t8=$$1[14];let t9;return $$1[15]===t7?t9=$$1[16]:(t9=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t7,t8]}),$$1[15]=t7,$$1[16]=t9),t9};const TechnologiesModal=props=>{let $$1=(0,import_compiler_runtime$35.c)(5),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(Modal.CloseTrigger,{}),$$1[0]=t0):t0=$$1[0];let t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsxs)(Modal.Header,{children:[(0,import_jsx_runtime.jsx)(Modal.Icon,{className:`bg-accent-soft text-accent-soft-foreground`,children:(0,import_jsx_runtime.jsx)(CircleCheck,{className:`size-5`})}),(0,import_jsx_runtime.jsx)(Modal.Heading,{className:`mb-4 text-2xl`,children:`Languages & Technologies`})]}),$$1[1]=t1):t1=$$1[1];let t2;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(Modal.Container,{children:(0,import_jsx_runtime.jsxs)(Modal.Dialog,{className:`sm:max-w-xl`,children:[t0,t1,(0,import_jsx_runtime.jsx)(`div`,{className:`flex min-h-[20vh] flex-col`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(TechnologiesContent,{})})})]})}),$$1[2]=t2):t2=$$1[2];let t3;return $$1[3]===props?t3=$$1[4]:(t3=(0,import_jsx_runtime.jsx)(Modal.Backdrop,{...props,children:t2}),$$1[3]=props,$$1[4]=t3),t3};function _temp$9(technology){return(0,import_jsx_runtime.jsx)(TechnologyBadge,{className:`px-2 py-1`,name:technology.name,simpleIconUrl:technology.logoUrl},`TechnologyModal-${technology.name}`)}var import_compiler_runtime$34=require_compiler_runtime();const Technologies=()=>{let $$1=(0,import_compiler_runtime$34.c)(16),modal=useOverlayState(),t0,t1,t2;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(`div`,{className:`absolute inset-0 m-auto animate-ping rounded-full border`}),t1=(0,import_jsx_runtime.jsx)(nt,{}),t2=(0,import_jsx_runtime.jsx)(ArrowUpRight,{}),$$1[0]=t0,$$1[1]=t1,$$1[2]=t2):(t0=$$1[0],t1=$$1[1],t2=$$1[2]);let t3;$$1[3]===modal.open?t3=$$1[4]:(t3=(0,import_jsx_runtime.jsx)(`div`,{className:`absolute inset-0 z-[8] flex items-center justify-end pe-4`,children:(0,import_jsx_runtime.jsxs)(Button,{onClick:modal.open,isIconOnly:!0,size:`sm`,className:`relative size-7 rounded-full sm:size-8`,children:[t0,t1,t2]})}),$$1[3]=modal.open,$$1[4]=t3);let t4,t5;$$1[5]===Symbol.for(`react.memo_cache_sentinel`)?(t4=(0,import_jsx_runtime.jsx)(`div`,{className:`from-background absolute left-0 z-[5] flex h-full items-center bg-gradient-to-r to-transparent px-10`}),t5=(0,import_jsx_runtime.jsx)(`div`,{className:`to-background absolute right-0 z-[5] flex h-full items-center bg-gradient-to-r from-transparent px-10`}),$$1[5]=t4,$$1[6]=t5):(t4=$$1[5],t5=$$1[6]);let t6;$$1[7]===Symbol.for(`react.memo_cache_sentinel`)?(t6=(0,import_jsx_runtime.jsx)(`div`,{className:`bg-background h-full rounded-xl p-1`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(TechnologyMarquee,{})})}),$$1[7]=t6):t6=$$1[7];let t7;$$1[8]===t3?t7=$$1[9]:(t7=(0,import_jsx_runtime.jsxs)(`div`,{className:`xs:h-14 relative h-12 overflow-x-hidden rounded-xl`,children:[t3,t4,t5,t6]}),$$1[8]=t3,$$1[9]=t7);let t8;$$1[10]!==modal.isOpen||$$1[11]!==modal.setOpen?(t8=(0,import_jsx_runtime.jsx)(TechnologiesModal,{isOpen:modal.isOpen,onOpenChange:modal.setOpen}),$$1[10]=modal.isOpen,$$1[11]=modal.setOpen,$$1[12]=t8):t8=$$1[12];let t9;return $$1[13]!==t7||$$1[14]!==t8?(t9=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t7,t8]}),$$1[13]=t7,$$1[14]=t8,$$1[15]=t9):t9=$$1[15],t9};var import_compiler_runtime$33=require_compiler_runtime();const CareerCard=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({className,children,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`bg-default/40 border-custom-background relative overflow-hidden rounded-lg border p-5 pb-7`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2};var CareerCardNextIndicator=t0=>{let $$1=(0,import_compiler_runtime$33.c)(9),{classNames}=t0,t1=classNames?.container,t2;$$1[0]===t1?t2=$$1[1]:(t2=cn(`bg-accent dark:text-foreground text-background absolute -right-1.5 -bottom-1.5 rounded-xl p-1.5`,t1),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.icon,t4;$$1[2]===t3?t4=$$1[3]:(t4=cn(`relative right-0.5 bottom-0.5`,t3),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]===t4?t5=$$1[5]:(t5=(0,import_jsx_runtime.jsx)(ChevronsDown,{className:t4}),$$1[4]=t4,$$1[5]=t5);let t6;return $$1[6]!==t2||$$1[7]!==t5?(t6=(0,import_jsx_runtime.jsx)(`div`,{className:t2,children:t5}),$$1[6]=t2,$$1[7]=t5,$$1[8]=t6):t6=$$1[8],t6},CareerCardContent=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({className,children,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`space-y-2.5`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardTitle=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({className,children,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`text-sm font-bold sm:text-lg`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`p`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardContentHeader=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({className,children,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardDate=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),{children,classNames}=t0,t1=classNames?.container,t2;$$1[0]===t1?t2=$$1[1]:(t2=cn(`text-muted flex items-center gap-2.5 text-xs sm:text-sm`,t1),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.icon,t4;$$1[2]===t3?t4=$$1[3]:(t4=cn(`h-[1.2em] w-[1.2em]`,t3),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]===t4?t5=$$1[5]:(t5=(0,import_jsx_runtime.jsx)(Calendar,{className:t4}),$$1[4]=t4,$$1[5]=t5);let t6;return $$1[6]!==children||$$1[7]!==t2||$$1[8]!==t5?(t6=(0,import_jsx_runtime.jsxs)(`div`,{className:t2,children:[t5,children]}),$$1[6]=children,$$1[7]=t2,$$1[8]=t5,$$1[9]=t6):t6=$$1[9],t6},CareerCardLocation=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),{children,classNames}=t0,t1=classNames?.container,t2;$$1[0]===t1?t2=$$1[1]:(t2=cn(`text-accent flex items-center gap-2.5 text-xs font-bold sm:text-sm`,t1),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.icon,t4;$$1[2]===t3?t4=$$1[3]:(t4=cn(`h-[1.2em] w-[1.2em]`,t3),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]===t4?t5=$$1[5]:(t5=(0,import_jsx_runtime.jsx)(MapPin,{className:t4}),$$1[4]=t4,$$1[5]=t5);let t6;return $$1[6]!==children||$$1[7]!==t2||$$1[8]!==t5?(t6=(0,import_jsx_runtime.jsxs)(`div`,{className:t2,children:[t5,children]}),$$1[6]=children,$$1[7]=t2,$$1[8]=t5,$$1[9]=t6):t6=$$1[9],t6},CareerCardContentBody=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({className,children,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`space-y-2.5`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardDescription=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({className,children,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`text-xs sm:text-sm`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`p`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardKeyAchievements=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`space-y-2`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardKeyAchievementsHeader=t0=>{let $$1=(0,import_compiler_runtime$33.c)(9),{classNames}=t0,t1=classNames?.container,t2;$$1[0]===t1?t2=$$1[1]:(t2=cn(`flex items-center gap-2.5 text-xs font-bold sm:text-sm`,t1),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.icon,t4;$$1[2]===t3?t4=$$1[3]:(t4=cn(`h-[1.2em] w-[1.2em]`,t3),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]===t4?t5=$$1[5]:(t5=(0,import_jsx_runtime.jsx)(Award,{className:t4}),$$1[4]=t4,$$1[5]=t5);let t6;return $$1[6]!==t2||$$1[7]!==t5?(t6=(0,import_jsx_runtime.jsxs)(`div`,{className:t2,children:[t5,`Key Achievements`]}),$$1[6]=t2,$$1[7]=t5,$$1[8]=t6):t6=$$1[8],t6},CareerCardKeyAchievementsList=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`text-muted list-disc ps-8 text-xs sm:text-sm`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`ul`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardKeyAchievementsListItem=t0=>{let $$1=(0,import_compiler_runtime$33.c)(6),children,rest;$$1[0]===t0?(children=$$1[1],rest=$$1[2]):({children,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=rest);let t1;return $$1[3]!==children||$$1[4]!==rest?(t1=(0,import_jsx_runtime.jsx)(`li`,{...rest,children}),$$1[3]=children,$$1[4]=rest,$$1[5]=t1):t1=$$1[5],t1},CareerCardTechnologies=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`space-y-2`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardTechnologiesHeader=t0=>{let $$1=(0,import_compiler_runtime$33.c)(9),{classNames}=t0,t1=classNames?.container,t2;$$1[0]===t1?t2=$$1[1]:(t2=cn(`flex items-center gap-2.5 text-xs font-bold sm:text-sm`,t1),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.icon,t4;$$1[2]===t3?t4=$$1[3]:(t4=cn(`h-[1.2em] w-[1.2em]`,t3),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]===t4?t5=$$1[5]:(t5=(0,import_jsx_runtime.jsx)(Activity,{className:t4}),$$1[4]=t4,$$1[5]=t5);let t6;return $$1[6]!==t2||$$1[7]!==t5?(t6=(0,import_jsx_runtime.jsxs)(`div`,{className:t2,children:[t5,`Technologies`]}),$$1[6]=t2,$$1[7]=t5,$$1[8]=t6):t6=$$1[8],t6},CareerCardTechnologiesList=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`flex flex-wrap gap-1 ps-8`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},CareerCardTechnologyChip=t0=>{let $$1=(0,import_compiler_runtime$33.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`bg-custom-background text-2xs h-full rounded-sm px-1 py-0.5`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2};CareerCard.NextIndicator=CareerCardNextIndicator,CareerCard.Content=CareerCardContent,CareerCard.Title=CareerCardTitle,CareerCard.ContentHeader=CareerCardContentHeader,CareerCard.Date=CareerCardDate,CareerCard.Location=CareerCardLocation,CareerCard.ContentBody=CareerCardContentBody,CareerCard.Description=CareerCardDescription,CareerCard.KeyAchievements=CareerCardKeyAchievements,CareerCard.KeyAchievementsHeader=CareerCardKeyAchievementsHeader,CareerCard.KeyAchievementsList=CareerCardKeyAchievementsList,CareerCard.KeyAchievementsListItem=CareerCardKeyAchievementsListItem,CareerCard.Technologies=CareerCardTechnologies,CareerCard.TechnologiesHeader=CareerCardTechnologiesHeader,CareerCard.TechnologiesList=CareerCardTechnologiesList,CareerCard.TechnologyChip=CareerCardTechnologyChip;var import_compiler_runtime$32=require_compiler_runtime();const CertificationCard=props=>{let $$1=(0,import_compiler_runtime$32.c)(35),modal=useOverlayState(),t0;$$1[0]===modal?t0=$$1[1]:(t0=()=>modal.open(),$$1[0]=modal,$$1[1]=t0);let t1;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsx)(`div`,{className:`absolute inset-0 z-[15] m-auto opacity-0 transition-all duration-300 ease-in-out group-hover:animate-pulse group-hover:opacity-100 group-hover:backdrop-blur-sm`,children:(0,import_jsx_runtime.jsx)(Eye,{className:`absolute inset-0 m-auto`,size:80})}),$$1[2]=t1):t1=$$1[2];let t2;$$1[3]===props.imageUrl?t2=$$1[4]:(t2=(0,import_jsx_runtime.jsx)(`img`,{className:`aspect-3/2 scale-105 object-cover`,src:props.imageUrl}),$$1[3]=props.imageUrl,$$1[4]=t2);let t3;$$1[5]!==t0||$$1[6]!==t2?(t3=(0,import_jsx_runtime.jsxs)(`div`,{onClick:t0,className:`group relative w-full cursor-pointer overflow-hidden rounded-xl border transition-all duration-300 ease-in-out`,children:[t1,t2]}),$$1[5]=t0,$$1[6]=t2,$$1[7]=t3):t3=$$1[7];let t4=modal.isOpen,t5=modal.setOpen,t6;$$1[8]===Symbol.for(`react.memo_cache_sentinel`)?(t6=(0,import_jsx_runtime.jsx)(Modal.CloseTrigger,{}),$$1[8]=t6):t6=$$1[8];let t7;$$1[9]===Symbol.for(`react.memo_cache_sentinel`)?(t7=(0,import_jsx_runtime.jsx)(Modal.Icon,{className:`bg-accent-soft text-accent-soft-foreground`,children:(0,import_jsx_runtime.jsx)(BookOpenText,{className:`size-5`})}),$$1[9]=t7):t7=$$1[9];let t8;$$1[10]===props.title?t8=$$1[11]:(t8=(0,import_jsx_runtime.jsxs)(Modal.Header,{children:[t7,(0,import_jsx_runtime.jsx)(Modal.Heading,{className:`text-2xl`,children:props.title})]}),$$1[10]=props.title,$$1[11]=t8);let t9;if($$1[12]!==props.tags||$$1[13]!==props.title){let t10$1;$$1[15]===props.title?t10$1=$$1[16]:(t10$1=tag=>(0,import_jsx_runtime.jsx)(Chip,{className:`rounded-md`,children:tag},`${props.title}-tag-${tag}`),$$1[15]=props.title,$$1[16]=t10$1),t9=props.tags.map(t10$1),$$1[12]=props.tags,$$1[13]=props.title,$$1[14]=t9}else t9=$$1[14];let t10;$$1[17]===t9?t10=$$1[18]:(t10=(0,import_jsx_runtime.jsx)(`div`,{className:`flex flex-wrap items-center gap-1`,children:t9}),$$1[17]=t9,$$1[18]=t10);let t11;$$1[19]===props.imageUrl?t11=$$1[20]:(t11=(0,import_jsx_runtime.jsx)(`img`,{className:`mt-4 rounded-xl border object-cover`,src:props.imageUrl}),$$1[19]=props.imageUrl,$$1[20]=t11);let t12;$$1[21]!==t10||$$1[22]!==t11?(t12=(0,import_jsx_runtime.jsxs)(Modal.Body,{children:[t10,t11]}),$$1[21]=t10,$$1[22]=t11,$$1[23]=t12):t12=$$1[23];let t13;$$1[24]===Symbol.for(`react.memo_cache_sentinel`)?(t13=(0,import_jsx_runtime.jsx)(Modal.Footer,{children:(0,import_jsx_runtime.jsx)(Button,{className:`rounded-lg`,slot:`close`,children:`Close`})}),$$1[24]=t13):t13=$$1[24];let t14;$$1[25]!==t12||$$1[26]!==t8?(t14=(0,import_jsx_runtime.jsx)(Modal.Container,{children:(0,import_jsx_runtime.jsxs)(Modal.Dialog,{className:`sm:max-w-3xl`,children:[t6,t8,t12,t13]})}),$$1[25]=t12,$$1[26]=t8,$$1[27]=t14):t14=$$1[27];let t15;$$1[28]!==modal.isOpen||$$1[29]!==modal.setOpen||$$1[30]!==t14?(t15=(0,import_jsx_runtime.jsx)(Modal.Backdrop,{className:`bg-transparent backdrop-blur-xs`,isOpen:t4,onOpenChange:t5,children:t14}),$$1[28]=modal.isOpen,$$1[29]=modal.setOpen,$$1[30]=t14,$$1[31]=t15):t15=$$1[31];let t16;return $$1[32]!==t15||$$1[33]!==t3?(t16=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t3,t15]}),$$1[32]=t15,$$1[33]=t3,$$1[34]=t16):t16=$$1[34],t16};var require___vite_browser_external=__commonJSMin(((exports,module)=>{module.exports={}})),require_pdf=__commonJSMin(((exports,module)=>{(function(root,factory$1){typeof exports==`object`&&typeof module==`object`?module.exports=root.pdfjsLib=factory$1():typeof define==`function`&&define.amd?define(`pdfjs-dist/build/pdf`,[],()=>root.pdfjsLib=factory$1()):typeof exports==`object`?exports[`pdfjs-dist/build/pdf`]=root.pdfjsLib=factory$1():root[`pdfjs-dist/build/pdf`]=root.pdfjsLib=factory$1()})(globalThis,()=>(()=>{var __webpack_modules__=[,((__unused_webpack_module,exports$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.VerbosityLevel=exports$1.Util=exports$1.UnknownErrorException=exports$1.UnexpectedResponseException=exports$1.TextRenderingMode=exports$1.RenderingIntentFlag=exports$1.PromiseCapability=exports$1.PermissionFlag=exports$1.PasswordResponses=exports$1.PasswordException=exports$1.PageActionEventType=exports$1.OPS=exports$1.MissingPDFException=exports$1.MAX_IMAGE_SIZE_TO_CACHE=exports$1.LINE_FACTOR=exports$1.LINE_DESCENT_FACTOR=exports$1.InvalidPDFException=exports$1.ImageKind=exports$1.IDENTITY_MATRIX=exports$1.FormatError=exports$1.FeatureTest=exports$1.FONT_IDENTITY_MATRIX=exports$1.DocumentActionEventType=exports$1.CMapCompressionType=exports$1.BaseException=exports$1.BASELINE_FACTOR=exports$1.AnnotationType=exports$1.AnnotationReplyType=exports$1.AnnotationPrefix=exports$1.AnnotationMode=exports$1.AnnotationFlag=exports$1.AnnotationFieldFlag=exports$1.AnnotationEditorType=exports$1.AnnotationEditorPrefix=exports$1.AnnotationEditorParamsType=exports$1.AnnotationBorderStyleType=exports$1.AnnotationActionEventType=exports$1.AbortException=void 0,exports$1.assert=assert,exports$1.bytesToString=bytesToString,exports$1.createValidAbsoluteUrl=createValidAbsoluteUrl,exports$1.getModificationDate=getModificationDate,exports$1.getUuid=getUuid,exports$1.getVerbosityLevel=getVerbosityLevel,exports$1.info=info,exports$1.isArrayBuffer=isArrayBuffer$1,exports$1.isArrayEqual=isArrayEqual,exports$1.isNodeJS=void 0,exports$1.normalizeUnicode=normalizeUnicode,exports$1.objectFromMap=objectFromMap,exports$1.objectSize=objectSize,exports$1.setVerbosityLevel=setVerbosityLevel,exports$1.shadow=shadow,exports$1.string32=string32,exports$1.stringToBytes=stringToBytes,exports$1.stringToPDFString=stringToPDFString,exports$1.stringToUTF8String=stringToUTF8String,exports$1.unreachable=unreachable,exports$1.utf8StringToString=utf8StringToString,exports$1.warn=warn,exports$1.isNodeJS=typeof process==`object`&&process+``==`[object process]`&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!==`browser`),exports$1.IDENTITY_MATRIX=[1,0,0,1,0,0],exports$1.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],exports$1.MAX_IMAGE_SIZE_TO_CACHE=1e7;let LINE_FACTOR=1.35;exports$1.LINE_FACTOR=LINE_FACTOR;let LINE_DESCENT_FACTOR=.35;exports$1.LINE_DESCENT_FACTOR=LINE_DESCENT_FACTOR,exports$1.BASELINE_FACTOR=LINE_DESCENT_FACTOR/LINE_FACTOR,exports$1.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},exports$1.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},exports$1.AnnotationEditorPrefix=`pdfjs_internal_editor_`,exports$1.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},exports$1.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},exports$1.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},exports$1.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},exports$1.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},exports$1.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},exports$1.AnnotationReplyType={GROUP:`Group`,REPLY:`R`},exports$1.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},exports$1.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},exports$1.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},exports$1.AnnotationActionEventType={E:`Mouse Enter`,X:`Mouse Exit`,D:`Mouse Down`,U:`Mouse Up`,Fo:`Focus`,Bl:`Blur`,PO:`PageOpen`,PC:`PageClose`,PV:`PageVisible`,PI:`PageInvisible`,K:`Keystroke`,F:`Format`,V:`Validate`,C:`Calculate`},exports$1.DocumentActionEventType={WC:`WillClose`,WS:`WillSave`,DS:`DidSave`,WP:`WillPrint`,DP:`DidPrint`},exports$1.PageActionEventType={O:`PageOpen`,C:`PageClose`};let VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5};exports$1.VerbosityLevel=VerbosityLevel,exports$1.CMapCompressionType={NONE:0,BINARY:1},exports$1.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},exports$1.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(level){Number.isInteger(level)&&(verbosity=level)}function getVerbosityLevel(){return verbosity}function info(msg){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${msg}`)}function warn(msg){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${msg}`)}function unreachable(msg){throw Error(msg)}function assert(cond,msg){cond||unreachable(msg)}function _isValidProtocol(url){switch(url?.protocol){case`http:`:case`https:`:case`ftp:`:case`mailto:`:case`tel:`:return!0;default:return!1}}function createValidAbsoluteUrl(url,baseUrl=null,options=null){if(!url)return null;try{if(options&&typeof url==`string`&&(options.addDefaultProtocol&&url.startsWith(`www.`)&&url.match(/\./g)?.length>=2&&(url=`http://${url}`),options.tryConvertEncoding))try{url=stringToUTF8String(url)}catch{}let absoluteUrl=baseUrl?new URL(url,baseUrl):new URL(url);if(_isValidProtocol(absoluteUrl))return absoluteUrl}catch{}return null}function shadow(obj,prop,value,nonSerializable=!1){return Object.defineProperty(obj,prop,{value,enumerable:!nonSerializable,configurable:!0,writable:!1}),value}let BaseException=function(){function BaseException$1(message,name){this.constructor===BaseException$1&&unreachable(`Cannot initialize BaseException.`),this.message=message,this.name=name}return BaseException$1.prototype=Error(),BaseException$1.constructor=BaseException$1,BaseException$1}();exports$1.BaseException=BaseException;class PasswordException extends BaseException{constructor(msg,code){super(msg,`PasswordException`),this.code=code}}exports$1.PasswordException=PasswordException;class UnknownErrorException extends BaseException{constructor(msg,details){super(msg,`UnknownErrorException`),this.details=details}}exports$1.UnknownErrorException=UnknownErrorException;class InvalidPDFException extends BaseException{constructor(msg){super(msg,`InvalidPDFException`)}}exports$1.InvalidPDFException=InvalidPDFException;class MissingPDFException extends BaseException{constructor(msg){super(msg,`MissingPDFException`)}}exports$1.MissingPDFException=MissingPDFException;class UnexpectedResponseException extends BaseException{constructor(msg,status){super(msg,`UnexpectedResponseException`),this.status=status}}exports$1.UnexpectedResponseException=UnexpectedResponseException;class FormatError extends BaseException{constructor(msg){super(msg,`FormatError`)}}exports$1.FormatError=FormatError;class AbortException extends BaseException{constructor(msg){super(msg,`AbortException`)}}exports$1.AbortException=AbortException;function bytesToString(bytes){(typeof bytes!=`object`||bytes?.length===void 0)&&unreachable(`Invalid argument for bytesToString`);let length=bytes.length,MAX_ARGUMENT_COUNT=8192;if(length<MAX_ARGUMENT_COUNT)return String.fromCharCode.apply(null,bytes);let strBuf=[];for(let i$1=0;i$1<length;i$1+=MAX_ARGUMENT_COUNT){let chunkEnd=Math.min(i$1+MAX_ARGUMENT_COUNT,length),chunk=bytes.subarray(i$1,chunkEnd);strBuf.push(String.fromCharCode.apply(null,chunk))}return strBuf.join(``)}function stringToBytes(str){typeof str!=`string`&&unreachable(`Invalid argument for stringToBytes`);let length=str.length,bytes=new Uint8Array(length);for(let i$1=0;i$1<length;++i$1)bytes[i$1]=str.charCodeAt(i$1)&255;return bytes}function string32(value){return String.fromCharCode(value>>24&255,value>>16&255,value>>8&255,value&255)}function objectSize(obj){return Object.keys(obj).length}function objectFromMap(map){let obj=Object.create(null);for(let[key,value]of map)obj[key]=value;return obj}function isLittleEndian(){let buffer8=new Uint8Array(4);return buffer8[0]=1,new Uint32Array(buffer8.buffer,0,1)[0]===1}function isEvalSupported(){try{return Function(``),!0}catch{return!1}}class FeatureTest{static get isLittleEndian(){return shadow(this,`isLittleEndian`,isLittleEndian())}static get isEvalSupported(){return shadow(this,`isEvalSupported`,isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,`isOffscreenCanvasSupported`,typeof OffscreenCanvas<`u`)}static get platform(){return typeof navigator>`u`?shadow(this,`platform`,{isWin:!1,isMac:!1}):shadow(this,`platform`,{isWin:navigator.platform.includes(`Win`),isMac:navigator.platform.includes(`Mac`)})}static get isCSSRoundSupported(){return shadow(this,`isCSSRoundSupported`,globalThis.CSS?.supports?.(`width: round(1.5px, 1px)`))}}exports$1.FeatureTest=FeatureTest;let hexNumbers=[...Array(256).keys()].map(n$1=>n$1.toString(16).padStart(2,`0`));class Util{static makeHexColor(r$1,g$1,b$2){return`#${hexNumbers[r$1]}${hexNumbers[g$1]}${hexNumbers[b$2]}`}static scaleMinMax(transform$1,minMax){let temp;transform$1[0]?(transform$1[0]<0&&(temp=minMax[0],minMax[0]=minMax[1],minMax[1]=temp),minMax[0]*=transform$1[0],minMax[1]*=transform$1[0],transform$1[3]<0&&(temp=minMax[2],minMax[2]=minMax[3],minMax[3]=temp),minMax[2]*=transform$1[3],minMax[3]*=transform$1[3]):(temp=minMax[0],minMax[0]=minMax[2],minMax[2]=temp,temp=minMax[1],minMax[1]=minMax[3],minMax[3]=temp,transform$1[1]<0&&(temp=minMax[2],minMax[2]=minMax[3],minMax[3]=temp),minMax[2]*=transform$1[1],minMax[3]*=transform$1[1],transform$1[2]<0&&(temp=minMax[0],minMax[0]=minMax[1],minMax[1]=temp),minMax[0]*=transform$1[2],minMax[1]*=transform$1[2]),minMax[0]+=transform$1[4],minMax[1]+=transform$1[4],minMax[2]+=transform$1[5],minMax[3]+=transform$1[5]}static transform(m1,m2){return[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]]}static applyTransform(p$2,m$2){return[p$2[0]*m$2[0]+p$2[1]*m$2[2]+m$2[4],p$2[0]*m$2[1]+p$2[1]*m$2[3]+m$2[5]]}static applyInverseTransform(p$2,m$2){let d$2=m$2[0]*m$2[3]-m$2[1]*m$2[2];return[(p$2[0]*m$2[3]-p$2[1]*m$2[2]+m$2[2]*m$2[5]-m$2[4]*m$2[3])/d$2,(-p$2[0]*m$2[1]+p$2[1]*m$2[0]+m$2[4]*m$2[1]-m$2[5]*m$2[0])/d$2]}static getAxialAlignedBoundingBox(r$1,m$2){let p1=this.applyTransform(r$1,m$2),p2=this.applyTransform(r$1.slice(2,4),m$2),p3=this.applyTransform([r$1[0],r$1[3]],m$2),p4=this.applyTransform([r$1[2],r$1[1]],m$2);return[Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1])]}static inverseTransform(m$2){let d$2=m$2[0]*m$2[3]-m$2[1]*m$2[2];return[m$2[3]/d$2,-m$2[1]/d$2,-m$2[2]/d$2,m$2[0]/d$2,(m$2[2]*m$2[5]-m$2[4]*m$2[3])/d$2,(m$2[4]*m$2[1]-m$2[5]*m$2[0])/d$2]}static singularValueDecompose2dScale(m$2){let transpose=[m$2[0],m$2[2],m$2[1],m$2[3]],a$2=m$2[0]*transpose[0]+m$2[1]*transpose[2],b$2=m$2[0]*transpose[1]+m$2[1]*transpose[3],c$3=m$2[2]*transpose[0]+m$2[3]*transpose[2],d$2=m$2[2]*transpose[1]+m$2[3]*transpose[3],first=(a$2+d$2)/2,second=Math.sqrt((a$2+d$2)**2-4*(a$2*d$2-c$3*b$2))/2,sx=first+second||1,sy=first-second||1;return[Math.sqrt(sx),Math.sqrt(sy)]}static normalizeRect(rect){let r$1=rect.slice(0);return rect[0]>rect[2]&&(r$1[0]=rect[2],r$1[2]=rect[0]),rect[1]>rect[3]&&(r$1[1]=rect[3],r$1[3]=rect[1]),r$1}static intersect(rect1,rect2){let xLow=Math.max(Math.min(rect1[0],rect1[2]),Math.min(rect2[0],rect2[2])),xHigh=Math.min(Math.max(rect1[0],rect1[2]),Math.max(rect2[0],rect2[2]));if(xLow>xHigh)return null;let yLow=Math.max(Math.min(rect1[1],rect1[3]),Math.min(rect2[1],rect2[3])),yHigh=Math.min(Math.max(rect1[1],rect1[3]),Math.max(rect2[1],rect2[3]));return yLow>yHigh?null:[xLow,yLow,xHigh,yHigh]}static bezierBoundingBox(x0,y0,x1,y1,x2,y2,x3,y3){let tvalues=[],bounds=[[],[]],a$2,b$2,c$3,t$1,t1,t2,b2ac,sqrtb2ac;for(let i$1=0;i$1<2;++i$1){if(i$1===0?(b$2=6*x0-12*x1+6*x2,a$2=-3*x0+9*x1-9*x2+3*x3,c$3=3*x1-3*x0):(b$2=6*y0-12*y1+6*y2,a$2=-3*y0+9*y1-9*y2+3*y3,c$3=3*y1-3*y0),Math.abs(a$2)<1e-12){if(Math.abs(b$2)<1e-12)continue;t$1=-c$3/b$2,0<t$1&&t$1<1&&tvalues.push(t$1);continue}b2ac=b$2*b$2-4*c$3*a$2,sqrtb2ac=Math.sqrt(b2ac),!(b2ac<0)&&(t1=(-b$2+sqrtb2ac)/(2*a$2),0<t1&&t1<1&&tvalues.push(t1),t2=(-b$2-sqrtb2ac)/(2*a$2),0<t2&&t2<1&&tvalues.push(t2))}let j$1=tvalues.length,mt$1,jlen=j$1;for(;j$1--;)t$1=tvalues[j$1],mt$1=1-t$1,bounds[0][j$1]=mt$1*mt$1*mt$1*x0+3*mt$1*mt$1*t$1*x1+3*mt$1*t$1*t$1*x2+t$1*t$1*t$1*x3,bounds[1][j$1]=mt$1*mt$1*mt$1*y0+3*mt$1*mt$1*t$1*y1+3*mt$1*t$1*t$1*y2+t$1*t$1*t$1*y3;return bounds[0][jlen]=x0,bounds[1][jlen]=y0,bounds[0][jlen+1]=x3,bounds[1][jlen+1]=y3,bounds[0].length=bounds[1].length=jlen+2,[Math.min(...bounds[0]),Math.min(...bounds[1]),Math.max(...bounds[0]),Math.max(...bounds[1])]}}exports$1.Util=Util;let PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToPDFString(str){if(str[0]>=``){let encoding;if(str[0]===``&&str[1]===``?encoding=`utf-16be`:str[0]===``&&str[1]===``?encoding=`utf-16le`:str[0]===``&&str[1]===``&&str[2]===``&&(encoding=`utf-8`),encoding)try{let decoder=new TextDecoder(encoding,{fatal:!0}),buffer=stringToBytes(str);return decoder.decode(buffer)}catch(ex){warn(`stringToPDFString: "${ex}".`)}}let strBuf=[];for(let i$1=0,ii=str.length;i$1<ii;i$1++){let code=PDFStringTranslateTable[str.charCodeAt(i$1)];strBuf.push(code?String.fromCharCode(code):str.charAt(i$1))}return strBuf.join(``)}function stringToUTF8String(str){return decodeURIComponent(escape(str))}function utf8StringToString(str){return unescape(encodeURIComponent(str))}function isArrayBuffer$1(v$1){return typeof v$1==`object`&&v$1?.byteLength!==void 0}function isArrayEqual(arr1,arr2){if(arr1.length!==arr2.length)return!1;for(let i$1=0,ii=arr1.length;i$1<ii;i$1++)if(arr1[i$1]!==arr2[i$1])return!1;return!0}function getModificationDate(date$2=new Date){return[date$2.getUTCFullYear().toString(),(date$2.getUTCMonth()+1).toString().padStart(2,`0`),date$2.getUTCDate().toString().padStart(2,`0`),date$2.getUTCHours().toString().padStart(2,`0`),date$2.getUTCMinutes().toString().padStart(2,`0`),date$2.getUTCSeconds().toString().padStart(2,`0`)].join(``)}class PromiseCapability{#e=!1;constructor(){this.promise=new Promise((resolve,reject)=>{this.resolve=data=>{this.#e=!0,resolve(data)},this.reject=reason=>{this.#e=!0,reject(reason)}})}get settled(){return this.#e}}exports$1.PromiseCapability=PromiseCapability;let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(str){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([[``,`t`]])),str.replaceAll(NormalizeRegex,(_$1,p1,p2)=>p1?p1.normalize(`NFKC`):NormalizationMap.get(p2))}function getUuid(){if(typeof crypto<`u`&&typeof crypto?.randomUUID==`function`)return crypto.randomUUID();let buf=new Uint8Array(32);if(typeof crypto<`u`&&typeof crypto?.getRandomValues==`function`)crypto.getRandomValues(buf);else for(let i$1=0;i$1<32;i$1++)buf[i$1]=Math.floor(Math.random()*255);return bytesToString(buf)}exports$1.AnnotationPrefix=`pdfjs_internal_id_`}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,`SVGGraphics`,{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__$1(1),_annotation_storage=__w_pdfjs_require__$1(3),_display_utils=__w_pdfjs_require__$1(6),_font_loader=__w_pdfjs_require__$1(9),_displayNode_utils=__w_pdfjs_require__$1(10),_canvas=__w_pdfjs_require__$1(11),_worker_options=__w_pdfjs_require__$1(14),_message_handler=__w_pdfjs_require__$1(15),_metadata=__w_pdfjs_require__$1(16),_optional_content_config=__w_pdfjs_require__$1(17),_transport_stream=__w_pdfjs_require__$1(18),_displayFetch_stream=__w_pdfjs_require__$1(19),_displayNetwork=__w_pdfjs_require__$1(22),_displayNode_stream=__w_pdfjs_require__$1(23),_displaySvg=__w_pdfjs_require__$1(24),_xfa_text=__w_pdfjs_require__$1(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(src){if(typeof src==`string`||src instanceof URL?src={url:src}:(0,_util.isArrayBuffer)(src)&&(src={data:src}),typeof src!=`object`)throw Error(`Invalid parameter in getDocument, need parameter object.`);if(!src.url&&!src.data&&!src.range)throw Error(`Invalid parameter object: need either .data, .range or .url`);let task=new PDFDocumentLoadingTask,{docId}=task,url=src.url?getUrlProp(src.url):null,data=src.data?getDataProp(src.data):null,httpHeaders=src.httpHeaders||null,withCredentials=src.withCredentials===!0,password=src.password??null,rangeTransport=src.range instanceof PDFDataRangeTransport?src.range:null,rangeChunkSize=Number.isInteger(src.rangeChunkSize)&&src.rangeChunkSize>0?src.rangeChunkSize:65536,worker=src.worker instanceof PDFWorker?src.worker:null,verbosity=src.verbosity,docBaseUrl=typeof src.docBaseUrl==`string`&&!(0,_display_utils.isDataScheme)(src.docBaseUrl)?src.docBaseUrl:null,cMapUrl=typeof src.cMapUrl==`string`?src.cMapUrl:null,cMapPacked=src.cMapPacked!==!1,CMapReaderFactory=src.CMapReaderFactory||DefaultCMapReaderFactory,standardFontDataUrl=typeof src.standardFontDataUrl==`string`?src.standardFontDataUrl:null,StandardFontDataFactory=src.StandardFontDataFactory||DefaultStandardFontDataFactory,ignoreErrors=src.stopAtErrors!==!0,maxImageSize=Number.isInteger(src.maxImageSize)&&src.maxImageSize>-1?src.maxImageSize:-1,isEvalSupported=src.isEvalSupported!==!1,isOffscreenCanvasSupported=typeof src.isOffscreenCanvasSupported==`boolean`?src.isOffscreenCanvasSupported:!_util.isNodeJS,canvasMaxAreaInBytes=Number.isInteger(src.canvasMaxAreaInBytes)?src.canvasMaxAreaInBytes:-1,disableFontFace=typeof src.disableFontFace==`boolean`?src.disableFontFace:_util.isNodeJS,fontExtraProperties=src.fontExtraProperties===!0,enableXfa=src.enableXfa===!0,ownerDocument=src.ownerDocument||globalThis.document,disableRange=src.disableRange===!0,disableStream=src.disableStream===!0,disableAutoFetch=src.disableAutoFetch===!0,pdfBug=src.pdfBug===!0,length=rangeTransport?rangeTransport.length:src.length??NaN,useSystemFonts=typeof src.useSystemFonts==`boolean`?src.useSystemFonts:!_util.isNodeJS&&!disableFontFace,useWorkerFetch=typeof src.useWorkerFetch==`boolean`?src.useWorkerFetch:CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory&&cMapUrl&&standardFontDataUrl&&(0,_display_utils.isValidFetchUrl)(cMapUrl,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(standardFontDataUrl,document.baseURI),canvasFactory=src.canvasFactory||new DefaultCanvasFactory({ownerDocument}),filterFactory=src.filterFactory||new DefaultFilterFactory({docId,ownerDocument}),styleElement=null;(0,_util.setVerbosityLevel)(verbosity);let transportFactory={canvasFactory,filterFactory};if(useWorkerFetch||(transportFactory.cMapReaderFactory=new CMapReaderFactory({baseUrl:cMapUrl,isCompressed:cMapPacked}),transportFactory.standardFontDataFactory=new StandardFontDataFactory({baseUrl:standardFontDataUrl})),!worker){let workerParams={verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};worker=workerParams.port?PDFWorker.fromPort(workerParams):new PDFWorker(workerParams),task._worker=worker}let fetchDocParams={docId,apiVersion:`3.11.174`,data,password,disableAutoFetch,rangeChunkSize,length,docBaseUrl,enableXfa,evaluatorOptions:{maxImageSize,disableFontFace,ignoreErrors,isEvalSupported,isOffscreenCanvasSupported,canvasMaxAreaInBytes,fontExtraProperties,useSystemFonts,cMapUrl:useWorkerFetch?cMapUrl:null,standardFontDataUrl:useWorkerFetch?standardFontDataUrl:null}},transportParams={ignoreErrors,isEvalSupported,disableFontFace,fontExtraProperties,enableXfa,ownerDocument,disableAutoFetch,pdfBug,styleElement:null};return worker.promise.then(function(){if(task.destroyed)throw Error(`Loading aborted`);let workerIdPromise=_fetchDocument(worker,fetchDocParams),networkStreamPromise=new Promise(function(resolve){let networkStream;rangeTransport?networkStream=new _transport_stream.PDFDataTransportStream({length,initialData:rangeTransport.initialData,progressiveDone:rangeTransport.progressiveDone,contentDispositionFilename:rangeTransport.contentDispositionFilename,disableRange,disableStream},rangeTransport):data||(networkStream=(params=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(params):(0,_display_utils.isValidFetchUrl)(params.url)?new _displayFetch_stream.PDFFetchStream(params):new _displayNetwork.PDFNetworkStream(params))({url,length,httpHeaders,withCredentials,rangeChunkSize,disableRange,disableStream})),resolve(networkStream)});return Promise.all([workerIdPromise,networkStreamPromise]).then(function([workerId,networkStream]){if(task.destroyed)throw Error(`Loading aborted`);let messageHandler=new _message_handler.MessageHandler(docId,workerId,worker.port);task._transport=new WorkerTransport(messageHandler,task,networkStream,transportParams,transportFactory),messageHandler.send(`Ready`,null)})}).catch(task._capability.reject),task}async function _fetchDocument(worker,source){if(worker.destroyed)throw Error(`Worker was destroyed`);let workerId=await worker.messageHandler.sendWithPromise(`GetDocRequest`,source,source.data?[source.data.buffer]:null);if(worker.destroyed)throw Error(`Worker was destroyed`);return workerId}function getUrlProp(val){if(val instanceof URL)return val.href;try{return new URL(val,window.location).href}catch{if(_util.isNodeJS&&typeof val==`string`)return val}throw Error(`Invalid PDF url data: either string or URL-object is expected in the url property.`)}function getDataProp(val){if(_util.isNodeJS&&typeof Buffer<`u`&&val instanceof Buffer)throw Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(val instanceof Uint8Array&&val.byteLength===val.buffer.byteLength)return val;if(typeof val==`string`)return(0,_util.stringToBytes)(val);if(typeof val==`object`&&!isNaN(val?.length)||(0,_util.isArrayBuffer)(val))return new Uint8Array(val);throw Error(`Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.`)}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(ex){throw this._worker?.port&&delete this._worker._pendingDestroy,ex}this._transport=null,this._worker&&=(this._worker.destroy(),null)}}exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(length,initialData,progressiveDone=!1,contentDispositionFilename=null){this.length=length,this.initialData=initialData,this.progressiveDone=progressiveDone,this.contentDispositionFilename=contentDispositionFilename,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(listener){this._rangeListeners.push(listener)}addProgressListener(listener){this._progressListeners.push(listener)}addProgressiveReadListener(listener){this._progressiveReadListeners.push(listener)}addProgressiveDoneListener(listener){this._progressiveDoneListeners.push(listener)}onDataRange(begin,chunk){for(let listener of this._rangeListeners)listener(begin,chunk)}onDataProgress(loaded,total){this._readyCapability.promise.then(()=>{for(let listener of this._progressListeners)listener(loaded,total)})}onDataProgressiveRead(chunk){this._readyCapability.promise.then(()=>{for(let listener of this._progressiveReadListeners)listener(chunk)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let listener of this._progressiveDoneListeners)listener()})}transportReady(){this._readyCapability.resolve()}requestDataRange(begin,end){(0,_util.unreachable)(`Abstract method PDFDataRangeTransport.requestDataRange`)}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(pdfInfo,transport){this._pdfInfo=pdfInfo,this._transport=transport,Object.defineProperty(this,`getJavaScript`,{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(js=>{if(!js)return js;let jsArr=[];for(let name in js)jsArr.push(...js[name]);return jsArr}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,`isPureXfa`,!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(pageNumber){return this._transport.getPage(pageNumber)}getPageIndex(ref){return this._transport.getPageIndex(ref)}getDestinations(){return this._transport.getDestinations()}getDestination(id){return this._transport.getDestination(id)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(keepLoadedFonts=!1){return this._transport.startCleanup(keepLoadedFonts||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(pageIndex,pageInfo,transport,pdfBug=!1){this._pageIndex=pageIndex,this._pageInfo=pageInfo,this._transport=transport,this._stats=pdfBug?new _display_utils.StatTimer:null,this._pdfBug=pdfBug,this.commonObjs=transport.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale,rotation=this.rotate,offsetX=0,offsetY=0,dontFlip=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale,rotation,offsetX,offsetY,dontFlip})}getAnnotations({intent=`display`}={}){let intentArgs=this._transport.getRenderingIntent(intent);return this._transport.getAnnotations(this._pageIndex,intentArgs.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,`isPureXfa`,!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext,viewport,intent=`display`,annotationMode=_util.AnnotationMode.ENABLE,transform:transform$1=null,background=null,optionalContentConfigPromise=null,annotationCanvasMap=null,pageColors=null,printAnnotationStorage=null}){this._stats?.time(`Overall`);let intentArgs=this._transport.getRenderingIntent(intent,annotationMode,printAnnotationStorage);this.#t=!1,this.#r(),optionalContentConfigPromise||=this._transport.getOptionalContentConfig();let intentState=this._intentStates.get(intentArgs.cacheKey);intentState||(intentState=Object.create(null),this._intentStates.set(intentArgs.cacheKey,intentState)),intentState.streamReaderCancelTimeout&&=(clearTimeout(intentState.streamReaderCancelTimeout),null);let intentPrint=!!(intentArgs.renderingIntent&_util.RenderingIntentFlag.PRINT);intentState.displayReadyCapability||(intentState.displayReadyCapability=new _util.PromiseCapability,intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time(`Page Request`),this._pumpOperatorList(intentArgs));let complete=error=>{intentState.renderTasks.delete(internalRenderTask),(this._maybeCleanupAfterRender||intentPrint)&&(this.#t=!0),this.#n(!intentPrint),error?(internalRenderTask.capability.reject(error),this._abortOperatorList({intentState,reason:error instanceof Error?error:Error(error)})):internalRenderTask.capability.resolve(),this._stats?.timeEnd(`Rendering`),this._stats?.timeEnd(`Overall`)},internalRenderTask=new InternalRenderTask({callback:complete,params:{canvasContext,viewport,transform:transform$1,background},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap,operatorList:intentState.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!intentPrint,pdfBug:this._pdfBug,pageColors});(intentState.renderTasks||=new Set).add(internalRenderTask);let renderTask=internalRenderTask.task;return Promise.all([intentState.displayReadyCapability.promise,optionalContentConfigPromise]).then(([transparency,optionalContentConfig])=>{if(this.destroyed){complete();return}this._stats?.time(`Rendering`),internalRenderTask.initializeGraphics({transparency,optionalContentConfig}),internalRenderTask.operatorListChanged()}).catch(complete),renderTask}getOperatorList({intent=`display`,annotationMode=_util.AnnotationMode.ENABLE,printAnnotationStorage=null}={}){function operatorListChanged(){intentState.operatorList.lastChunk&&(intentState.opListReadCapability.resolve(intentState.operatorList),intentState.renderTasks.delete(opListTask))}let intentArgs=this._transport.getRenderingIntent(intent,annotationMode,printAnnotationStorage,!0),intentState=this._intentStates.get(intentArgs.cacheKey);intentState||(intentState=Object.create(null),this._intentStates.set(intentArgs.cacheKey,intentState));let opListTask;return intentState.opListReadCapability||(opListTask=Object.create(null),opListTask.operatorListChanged=operatorListChanged,intentState.opListReadCapability=new _util.PromiseCapability,(intentState.renderTasks||=new Set).add(opListTask),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time(`Page Request`),this._pumpOperatorList(intentArgs)),intentState.opListReadCapability.promise}streamTextContent({includeMarkedContent=!1,disableNormalization=!1}={}){return this._transport.messageHandler.sendWithStream(`GetTextContent`,{pageIndex:this._pageIndex,includeMarkedContent:includeMarkedContent===!0,disableNormalization:disableNormalization===!0},{highWaterMark:100,size(textContent){return textContent.items.length}})}getTextContent(params={}){if(this._transport._htmlForXfa)return this.getXfa().then(xfa=>_xfa_text.XfaText.textContent(xfa));let readableStream=this.streamTextContent(params);return new Promise(function(resolve,reject){function pump(){reader.read().then(function({value,done}){if(done){resolve(textContent);return}Object.assign(textContent.styles,value.styles),textContent.items.push(...value.items),pump()},reject)}let reader=readableStream.getReader(),textContent={items:[],styles:Object.create(null)};pump()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let waitOn=[];for(let intentState of this._intentStates.values())if(this._abortOperatorList({intentState,reason:Error(`Page was destroyed.`),force:!0}),!intentState.opListReadCapability)for(let internalRenderTask of intentState.renderTasks)waitOn.push(internalRenderTask.completed),internalRenderTask.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(waitOn)}cleanup(resetStats=!1){this.#t=!0;let success=this.#n(!1);return resetStats&&success&&(this._stats&&=new _display_utils.StatTimer),success}#n(delayed=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(delayed)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},5e3),!1;for(let{renderTasks,operatorList}of this._intentStates.values())if(renderTasks.size>0||!operatorList.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&=(clearTimeout(this.#e),null)}_startRenderPage(transparency,cacheKey){let intentState=this._intentStates.get(cacheKey);intentState&&(this._stats?.timeEnd(`Page Request`),intentState.displayReadyCapability?.resolve(transparency))}_renderPageChunk(operatorListChunk,intentState){for(let i$1=0,ii=operatorListChunk.length;i$1<ii;i$1++)intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i$1]),intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i$1]);intentState.operatorList.lastChunk=operatorListChunk.lastChunk,intentState.operatorList.separateAnnots=operatorListChunk.separateAnnots;for(let internalRenderTask of intentState.renderTasks)internalRenderTask.operatorListChanged();operatorListChunk.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent,cacheKey,annotationStorageSerializable}){let{map,transfers}=annotationStorageSerializable,reader=this._transport.messageHandler.sendWithStream(`GetOperatorList`,{pageIndex:this._pageIndex,intent:renderingIntent,cacheKey,annotationStorage:map},transfers).getReader(),intentState=this._intentStates.get(cacheKey);intentState.streamReader=reader;let pump=()=>{reader.read().then(({value,done})=>{if(done){intentState.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(value,intentState),pump())},reason=>{if(intentState.streamReader=null,!this._transport.destroyed){if(intentState.operatorList){intentState.operatorList.lastChunk=!0;for(let internalRenderTask of intentState.renderTasks)internalRenderTask.operatorListChanged();this.#n(!0)}if(intentState.displayReadyCapability)intentState.displayReadyCapability.reject(reason);else if(intentState.opListReadCapability)intentState.opListReadCapability.reject(reason);else throw reason}})};pump()}_abortOperatorList({intentState,reason,force=!1}){if(intentState.streamReader){if(intentState.streamReaderCancelTimeout&&=(clearTimeout(intentState.streamReaderCancelTimeout),null),!force){if(intentState.renderTasks.size>0)return;if(reason instanceof _display_utils.RenderingCancelledException){let delay=100;reason.extraDelay>0&&reason.extraDelay<1e3&&(delay+=reason.extraDelay),intentState.streamReaderCancelTimeout=setTimeout(()=>{intentState.streamReaderCancelTimeout=null,this._abortOperatorList({intentState,reason,force:!0})},delay);return}}if(intentState.streamReader.cancel(new _util.AbortException(reason.message)).catch(()=>{}),intentState.streamReader=null,!this._transport.destroyed){for(let[curCacheKey,curIntentState]of this._intentStates)if(curIntentState===intentState){this._intentStates.delete(curCacheKey);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(obj,transfer){let event={data:structuredClone(obj,transfer?{transfer}:null)};this.#t.then(()=>{for(let listener of this.#e)listener.call(this,event)})}addEventListener(name,listener){this.#e.add(listener)}removeEventListener(name,listener){this.#e.delete(listener)}terminate(){this.#e.clear()}}exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports$1.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS&&typeof __require==`function`)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc=`./pdf.worker.js`;else if(typeof document==`object`){let pdfjsFilePath=document?.currentScript?.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,`.worker$1$2`))}PDFWorkerUtil.isSameOrigin=function(baseUrl,otherUrl){let base;try{if(base=new URL(baseUrl),!base.origin||base.origin===`null`)return!1}catch{return!1}let other=new URL(otherUrl,base);return base.origin===other.origin},PDFWorkerUtil.createCDNWrapper=function(url){let wrapper=`importScripts("${url}");`;return URL.createObjectURL(new Blob([wrapper]))};class PDFWorker{static#e;constructor({name=null,port=null,verbosity=(0,_util.getVerbosityLevel)()}={}){if(this.name=name,this.destroyed=!1,this.verbosity=verbosity,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,port){if(PDFWorker.#e?.has(port))throw Error(`Cannot use more than one PDFWorker per port.`);(PDFWorker.#e||=new WeakMap).set(port,this),this._initializeFromPort(port);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(port){this._port=port,this._messageHandler=new _message_handler.MessageHandler(`main`,`worker`,port),this._messageHandler.on(`ready`,function(){}),this._readyCapability.resolve(),this._messageHandler.send(`configure`,{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,workerSrc)||(workerSrc=PDFWorkerUtil.createCDNWrapper(new URL(workerSrc,window.location).href));let worker=new Worker(workerSrc),messageHandler=new _message_handler.MessageHandler(`main`,`worker`,worker),terminateEarly=()=>{worker.removeEventListener(`error`,onWorkerError),messageHandler.destroy(),worker.terminate(),this.destroyed?this._readyCapability.reject(Error(`Worker was destroyed`)):this._setupFakeWorker()},onWorkerError=()=>{this._webWorker||terminateEarly()};worker.addEventListener(`error`,onWorkerError),messageHandler.on(`test`,data=>{if(worker.removeEventListener(`error`,onWorkerError),this.destroyed){terminateEarly();return}data?(this._messageHandler=messageHandler,this._port=worker,this._webWorker=worker,this._readyCapability.resolve(),messageHandler.send(`configure`,{verbosity:this.verbosity})):(this._setupFakeWorker(),messageHandler.destroy(),worker.terminate())}),messageHandler.on(`ready`,data=>{if(worker.removeEventListener(`error`,onWorkerError),this.destroyed){terminateEarly();return}try{sendTest()}catch{this._setupFakeWorker()}});let sendTest=()=>{let testObj=new Uint8Array;messageHandler.send(`test`,testObj,[testObj.buffer])};sendTest();return}catch{(0,_util.info)(`The worker has been disabled.`)}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||=((0,_util.warn)(`Setting up fake worker.`),!0),PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler=>{if(this.destroyed){this._readyCapability.reject(Error(`Worker was destroyed`));return}let port=new LoopbackPort;this._port=port;let id=`fake${PDFWorkerUtil.fakeWorkerId++}`,workerHandler=new _message_handler.MessageHandler(id+`_worker`,id,port);WorkerMessageHandler.setup(workerHandler,port);let messageHandler=new _message_handler.MessageHandler(id,id+`_worker`,port);this._messageHandler=messageHandler,this._readyCapability.resolve(),messageHandler.send(`configure`,{verbosity:this.verbosity})}).catch(reason=>{this._readyCapability.reject(Error(`Setting up fake worker failed: "${reason.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&=(this._webWorker.terminate(),null),PDFWorker.#e?.delete(this._port),this._port=null,this._messageHandler&&=(this._messageHandler.destroy(),null)}static fromPort(params){if(!params?.port)throw Error(`PDFWorker.fromPort - invalid method signature.`);let cachedPort=this.#e?.get(params.port);if(cachedPort){if(cachedPort._pendingDestroy)throw Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return cachedPort}return new PDFWorker(params)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)(`No "GlobalWorkerOptions.workerSrc" specified.`),PDFWorkerUtil.fallbackWorkerSrc;throw Error(`No "GlobalWorkerOptions.workerSrc" specified.`)}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof __require==`function`){const worker=eval(`require`)(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,`_setupFakeWorkerGlobal`,loader())}}exports$1.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(messageHandler,loadingTask,networkStream,params,factory$1){this.messageHandler=messageHandler,this.loadingTask=loadingTask,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:params.ownerDocument,styleElement:params.styleElement}),this._params=params,this.canvasFactory=factory$1.canvasFactory,this.filterFactory=factory$1.filterFactory,this.cMapReaderFactory=factory$1.cMapReaderFactory,this.standardFontDataFactory=factory$1.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=networkStream,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#i(name,data=null){let cachedPromise=this.#e.get(name);if(cachedPromise)return cachedPromise;let promise=this.messageHandler.sendWithPromise(name,data);return this.#e.set(name,promise),promise}get annotationStorage(){return(0,_util.shadow)(this,`annotationStorage`,new _annotation_storage.AnnotationStorage)}getRenderingIntent(intent,annotationMode=_util.AnnotationMode.ENABLE,printAnnotationStorage=null,isOpList=!1){let renderingIntent=_util.RenderingIntentFlag.DISPLAY,annotationStorageSerializable=_annotation_storage.SerializableEmpty;switch(intent){case`any`:renderingIntent=_util.RenderingIntentFlag.ANY;break;case`display`:break;case`print`:renderingIntent=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${intent}`)}switch(annotationMode){case _util.AnnotationMode.DISABLE:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,annotationStorageSerializable=(renderingIntent&_util.RenderingIntentFlag.PRINT&&printAnnotationStorage instanceof _annotation_storage.PrintAnnotationStorage?printAnnotationStorage:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${annotationMode}`)}return isOpList&&(renderingIntent+=_util.RenderingIntentFlag.OPLIST),{renderingIntent,cacheKey:`${renderingIntent}_${annotationStorageSerializable.hash}`,annotationStorageSerializable}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(Error(`Worker was destroyed during onPassword callback`));let waitOn=[];for(let page of this.#t.values())waitOn.push(page._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty(`annotationStorage`)&&this.annotationStorage.resetModified();let terminated=this.messageHandler.sendWithPromise(`Terminate`,null);return waitOn.push(terminated),Promise.all(waitOn).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException(`Worker was terminated.`)),this.messageHandler&&=(this.messageHandler.destroy(),null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler,loadingTask}=this;messageHandler.on(`GetReader`,(data,sink)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=evt=>{this._lastProgress={loaded:evt.loaded,total:evt.total}},sink.onPull=()=>{this._fullReader.read().then(function({value,done}){if(done){sink.close();return}(0,_util.assert)(value instanceof ArrayBuffer,`GetReader - expected an ArrayBuffer.`),sink.enqueue(new Uint8Array(value),1,[value])}).catch(reason=>{sink.error(reason)})},sink.onCancel=reason=>{this._fullReader.cancel(reason),sink.ready.catch(readyReason=>{if(!this.destroyed)throw readyReason})}}),messageHandler.on(`ReaderHeadersReady`,data=>{let headersCapability=new _util.PromiseCapability,fullReader=this._fullReader;return fullReader.headersReady.then(()=>{(!fullReader.isStreamingSupported||!fullReader.isRangeSupported)&&(this._lastProgress&&loadingTask.onProgress?.(this._lastProgress),fullReader.onProgress=evt=>{loadingTask.onProgress?.({loaded:evt.loaded,total:evt.total})}),headersCapability.resolve({isStreamingSupported:fullReader.isStreamingSupported,isRangeSupported:fullReader.isRangeSupported,contentLength:fullReader.contentLength})},headersCapability.reject),headersCapability.promise}),messageHandler.on(`GetRangeReader`,(data,sink)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let rangeReader=this._networkStream.getRangeReader(data.begin,data.end);if(!rangeReader){sink.close();return}sink.onPull=()=>{rangeReader.read().then(function({value,done}){if(done){sink.close();return}(0,_util.assert)(value instanceof ArrayBuffer,`GetRangeReader - expected an ArrayBuffer.`),sink.enqueue(new Uint8Array(value),1,[value])}).catch(reason=>{sink.error(reason)})},sink.onCancel=reason=>{rangeReader.cancel(reason),sink.ready.catch(readyReason=>{if(!this.destroyed)throw readyReason})}}),messageHandler.on(`GetDoc`,({pdfInfo})=>{this._numPages=pdfInfo.numPages,this._htmlForXfa=pdfInfo.htmlForXfa,delete pdfInfo.htmlForXfa,loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo,this))}),messageHandler.on(`DocException`,function(ex){let reason;switch(ex.name){case`PasswordException`:reason=new _util.PasswordException(ex.message,ex.code);break;case`InvalidPDFException`:reason=new _util.InvalidPDFException(ex.message);break;case`MissingPDFException`:reason=new _util.MissingPDFException(ex.message);break;case`UnexpectedResponseException`:reason=new _util.UnexpectedResponseException(ex.message,ex.status);break;case`UnknownErrorException`:reason=new _util.UnknownErrorException(ex.message,ex.details);break;default:(0,_util.unreachable)(`DocException - expected a valid Error.`)}loadingTask._capability.reject(reason)}),messageHandler.on(`PasswordRequest`,exception=>{if(this.#r=new _util.PromiseCapability,loadingTask.onPassword){let updatePassword=password=>{password instanceof Error?this.#r.reject(password):this.#r.resolve({password})};try{loadingTask.onPassword(updatePassword,exception.code)}catch(ex){this.#r.reject(ex)}}else this.#r.reject(new _util.PasswordException(exception.message,exception.code));return this.#r.promise}),messageHandler.on(`DataLoaded`,data=>{loadingTask.onProgress?.({loaded:data.length,total:data.length}),this.downloadInfoCapability.resolve(data)}),messageHandler.on(`StartRenderPage`,data=>{this.destroyed||this.#t.get(data.pageIndex)._startRenderPage(data.transparency,data.cacheKey)}),messageHandler.on(`commonobj`,([id,type,exportedData])=>{if(!this.destroyed&&!this.commonObjs.has(id))switch(type){case`Font`:let params=this._params;if(`error`in exportedData){let exportedError=exportedData.error;(0,_util.warn)(`Error during font loading: ${exportedError}`),this.commonObjs.resolve(id,exportedError);break}let inspectFont=params.pdfBug&&globalThis.FontInspector?.enabled?(font$1,url)=>globalThis.FontInspector.fontAdded(font$1,url):null,font=new _font_loader.FontFaceObject(exportedData,{isEvalSupported:params.isEvalSupported,disableFontFace:params.disableFontFace,ignoreErrors:params.ignoreErrors,inspectFont});this.fontLoader.bind(font).catch(reason=>messageHandler.sendWithPromise(`FontFallback`,{id})).finally(()=>{!params.fontExtraProperties&&font.data&&(font.data=null),this.commonObjs.resolve(id,font)});break;case`FontPath`:case`Image`:case`Pattern`:this.commonObjs.resolve(id,exportedData);break;default:throw Error(`Got unknown common object type ${type}`)}}),messageHandler.on(`obj`,([id,pageIndex,type,imageData])=>{if(this.destroyed)return;let pageProxy=this.#t.get(pageIndex);if(!pageProxy.objs.has(id))switch(type){case`Image`:if(pageProxy.objs.resolve(id,imageData),imageData){let length;if(imageData.bitmap){let{width,height}=imageData;length=width*height*4}else length=imageData.data?.length||0;length>_util.MAX_IMAGE_SIZE_TO_CACHE&&(pageProxy._maybeCleanupAfterRender=!0)}break;case`Pattern`:pageProxy.objs.resolve(id,imageData);break;default:throw Error(`Got unknown object type ${type}`)}}),messageHandler.on(`DocProgress`,data=>{this.destroyed||loadingTask.onProgress?.({loaded:data.loaded,total:data.total})}),messageHandler.on(`FetchBuiltInCMap`,data=>this.destroyed?Promise.reject(Error(`Worker was destroyed.`)):this.cMapReaderFactory?this.cMapReaderFactory.fetch(data):Promise.reject(Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),messageHandler.on(`FetchStandardFontData`,data=>this.destroyed?Promise.reject(Error(`Worker was destroyed.`)):this.standardFontDataFactory?this.standardFontDataFactory.fetch(data):Promise.reject(Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise(`GetData`,null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map,transfers}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise(`SaveDocument`,{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:map,filename:this._fullReader?.filename??null},transfers).finally(()=>{this.annotationStorage.resetModified()})}getPage(pageNumber){if(!Number.isInteger(pageNumber)||pageNumber<=0||pageNumber>this._numPages)return Promise.reject(Error(`Invalid page request.`));let pageIndex=pageNumber-1,cachedPromise=this.#n.get(pageIndex);if(cachedPromise)return cachedPromise;let promise=this.messageHandler.sendWithPromise(`GetPage`,{pageIndex}).then(pageInfo=>{if(this.destroyed)throw Error(`Transport destroyed`);let page=new PDFPageProxy(pageIndex,pageInfo,this,this._params.pdfBug);return this.#t.set(pageIndex,page),page});return this.#n.set(pageIndex,promise),promise}getPageIndex(ref){return typeof ref!=`object`||!ref||!Number.isInteger(ref.num)||ref.num<0||!Number.isInteger(ref.gen)||ref.gen<0?Promise.reject(Error(`Invalid pageIndex request.`)):this.messageHandler.sendWithPromise(`GetPageIndex`,{num:ref.num,gen:ref.gen})}getAnnotations(pageIndex,intent){return this.messageHandler.sendWithPromise(`GetAnnotations`,{pageIndex,intent})}getFieldObjects(){return this.#i(`GetFieldObjects`)}hasJSActions(){return this.#i(`HasJSActions`)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise(`GetCalculationOrderIds`,null)}getDestinations(){return this.messageHandler.sendWithPromise(`GetDestinations`,null)}getDestination(id){return typeof id==`string`?this.messageHandler.sendWithPromise(`GetDestination`,{id}):Promise.reject(Error(`Invalid destination request.`))}getPageLabels(){return this.messageHandler.sendWithPromise(`GetPageLabels`,null)}getPageLayout(){return this.messageHandler.sendWithPromise(`GetPageLayout`,null)}getPageMode(){return this.messageHandler.sendWithPromise(`GetPageMode`,null)}getViewerPreferences(){return this.messageHandler.sendWithPromise(`GetViewerPreferences`,null)}getOpenAction(){return this.messageHandler.sendWithPromise(`GetOpenAction`,null)}getAttachments(){return this.messageHandler.sendWithPromise(`GetAttachments`,null)}getDocJSActions(){return this.#i(`GetDocJSActions`)}getPageJSActions(pageIndex){return this.messageHandler.sendWithPromise(`GetPageJSActions`,{pageIndex})}getStructTree(pageIndex){return this.messageHandler.sendWithPromise(`GetStructTree`,{pageIndex})}getOutline(){return this.messageHandler.sendWithPromise(`GetOutline`,null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise(`GetOptionalContentConfig`,null).then(results=>new _optional_content_config.OptionalContentConfig(results))}getPermissions(){return this.messageHandler.sendWithPromise(`GetPermissions`,null)}getMetadata(){let name=`GetMetadata`,cachedPromise=this.#e.get(name);if(cachedPromise)return cachedPromise;let promise=this.messageHandler.sendWithPromise(name,null).then(results=>({info:results[0],metadata:results[1]?new _metadata.Metadata(results[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(name,promise),promise}getMarkInfo(){return this.messageHandler.sendWithPromise(`GetMarkInfo`,null)}async startCleanup(keepLoadedFonts=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise(`Cleanup`,null);for(let page of this.#t.values())if(!page.cleanup())throw Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);this.commonObjs.clear(),keepLoadedFonts||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){let{disableAutoFetch,enableXfa}=this._params;return(0,_util.shadow)(this,`loadingParams`,{disableAutoFetch,enableXfa})}}class PDFObjects{#e=Object.create(null);#t(objId){return this.#e[objId]||={capability:new _util.PromiseCapability,data:null}}get(objId,callback=null){if(callback){let obj$1=this.#t(objId);return obj$1.capability.promise.then(()=>callback(obj$1.data)),null}let obj=this.#e[objId];if(!obj?.capability.settled)throw Error(`Requesting object that isn't resolved yet ${objId}.`);return obj.data}has(objId){return this.#e[objId]?.capability.settled||!1}resolve(objId,data=null){let obj=this.#t(objId);obj.data=data,obj.capability.resolve()}clear(){for(let objId in this.#e){let{data}=this.#e[objId];data?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(internalRenderTask){this.#e=internalRenderTask,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(extraDelay=0){this.#e.cancel(null,extraDelay)}get separateAnnots(){let{separateAnnots}=this.#e.operatorList;if(!separateAnnots)return!1;let{annotationCanvasMap}=this.#e;return separateAnnots.form||separateAnnots.canvas&&annotationCanvasMap?.size>0}}exports$1.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback,params,objs,commonObjs,annotationCanvasMap,operatorList,pageIndex,canvasFactory,filterFactory,useRequestAnimationFrame=!1,pdfBug=!1,pageColors=null}){this.callback=callback,this.params=params,this.objs=objs,this.commonObjs=commonObjs,this.annotationCanvasMap=annotationCanvasMap,this.operatorListIdx=null,this.operatorList=operatorList,this._pageIndex=pageIndex,this.canvasFactory=canvasFactory,this.filterFactory=filterFactory,this._pdfBug=pdfBug,this.pageColors=pageColors,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=useRequestAnimationFrame===!0&&typeof window<`u`,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=params.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency=!1,optionalContentConfig}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw Error(`Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.`);InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext,viewport,transform:transform$1,background}=this.params;this.gfx=new _canvas.CanvasGraphics(canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:transform$1,viewport,transparency,background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(error=null,extraDelay=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(error||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,extraDelay))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version$1=`3.11.174`;exports$1.version=`3.11.174`;const build=`ce8716743`;exports$1.build=`ce8716743`}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.SerializableEmpty=exports$1.PrintAnnotationStorage=exports$1.AnnotationStorage=void 0;var _util=__w_pdfjs_require__$1(1),_editor=__w_pdfjs_require__$1(4),_murmurhash=__w_pdfjs_require__$1(8);let SerializableEmpty=Object.freeze({map:null,hash:``,transfers:void 0});exports$1.SerializableEmpty=SerializableEmpty;class AnnotationStorage{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(key,defaultValue){let value=this.#t.get(key);return value===void 0?defaultValue:Object.assign(defaultValue,value)}getRawValue(key){return this.#t.get(key)}remove(key){if(this.#t.delete(key),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor==`function`){for(let value of this.#t.values())if(value instanceof _editor.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(key,value){let obj=this.#t.get(key),modified=!1;if(obj!==void 0)for(let[entry,val]of Object.entries(value))obj[entry]!==val&&(modified=!0,obj[entry]=val);else modified=!0,this.#t.set(key,value);modified&&this.#n(),value instanceof _editor.AnnotationEditor&&typeof this.onAnnotationEditor==`function`&&this.onAnnotationEditor(value.constructor._type)}has(key){return this.#t.has(key)}getAll(){return this.#t.size>0?(0,_util.objectFromMap)(this.#t):null}setAll(obj){for(let[key,val]of Object.entries(obj))this.setValue(key,val)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified==`function`&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified==`function`&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(this.#t.size===0)return SerializableEmpty;let map=new Map,hash=new _murmurhash.MurmurHash3_64,transfers=[],context=Object.create(null),hasBitmap=!1;for(let[key,val]of this.#t){let serialized=val instanceof _editor.AnnotationEditor?val.serialize(!1,context):val;serialized&&(map.set(key,serialized),hash.update(`${key}:${JSON.stringify(serialized)}`),hasBitmap||=!!serialized.bitmap)}if(hasBitmap)for(let value of map.values())value.bitmap&&transfers.push(value.bitmap);return map.size>0?{map,hash:hash.hexdigest(),transfers}:SerializableEmpty}}exports$1.AnnotationStorage=AnnotationStorage;class PrintAnnotationStorage extends AnnotationStorage{#e;constructor(parent){super();let{map,hash,transfers}=parent.serializable;this.#e={map:structuredClone(map,transfers?{transfer:transfers}:null),hash,transfers}}get print(){(0,_util.unreachable)(`Should not call PrintAnnotationStorage.print`)}get serializable(){return this.#e}}exports$1.PrintAnnotationStorage=PrintAnnotationStorage}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.AnnotationEditor=void 0;var _tools=__w_pdfjs_require__$1(5),_util=__w_pdfjs_require__$1(1),_display_utils=__w_pdfjs_require__$1(6);class AnnotationEditor{#e=``;#t=!1;#n=null;#r=null;#i=null;#a=!1;#o=null;#s=this.focusin.bind(this);#c=this.focusout.bind(this);#l=!1;#u=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#f=!1;#p=AnnotationEditor._zIndex++;static _borderLineWidth=-1;static _colorManager=new _tools.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(parameters){this.constructor===AnnotationEditor&&(0,_util.unreachable)(`Cannot initialize AnnotationEditor.`),this.parent=parameters.parent,this.id=parameters.id,this.width=this.height=null,this.pageIndex=parameters.parent.pageIndex,this.name=parameters.name,this.div=null,this._uiManager=parameters.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=parameters.isCentered,this._structTreeParentId=null;let{rotation,rawDims:{pageWidth,pageHeight,pageX,pageY}}=this.parent.viewport;this.rotation=rotation,this.pageRotation=(360+rotation-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[pageWidth,pageHeight],this.pageTranslation=[pageX,pageY];let[width,height]=this.parentDimensions;this.x=parameters.x/width,this.y=parameters.y/height,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,_util.shadow)(this,`_defaultLineColor`,this._colorManager.getHexCode(`CanvasText`))}static deleteAnnotationElement(editor){let fakeEditor=new FakeEditor({id:editor.parent.getNextId(),parent:editor.parent,uiManager:editor._uiManager});fakeEditor.annotationElementId=editor.annotationElementId,fakeEditor.deleted=!0,fakeEditor._uiManager.addToAnnotationStorage(fakeEditor)}static initialize(l10n,options=null){if(AnnotationEditor._l10nPromise||=new Map([`editor_alt_text_button_label`,`editor_alt_text_edit_button_label`,`editor_alt_text_decorative_tooltip`].map(str=>[str,l10n.get(str)])),options?.strings)for(let str of options.strings)AnnotationEditor._l10nPromise.set(str,l10n.get(str));if(AnnotationEditor._borderLineWidth!==-1)return;let style=getComputedStyle(document.documentElement);AnnotationEditor._borderLineWidth=parseFloat(style.getPropertyValue(`--outline-width`))||0}static updateDefaultParams(_type,_value){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(mime){return!1}static paste(item,parent){(0,_util.unreachable)(`Not implemented`)}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#f}set _isDraggable(value){this.#f=value,this.div?.classList.toggle(`draggable`,value)}center(){let[pageWidth,pageHeight]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*pageHeight/(pageWidth*2),this.y+=this.width*pageWidth/(pageHeight*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*pageHeight/(pageWidth*2),this.y-=this.width*pageWidth/(pageHeight*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(params){this._uiManager.addCommands(params)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(parent){parent!==null&&(this.pageIndex=parent.pageIndex,this.pageDimensions=parent.pageDimensions),this.parent=parent}focusin(event){this._focusEventsAllowed&&(this.#l?this.#l=!1:this.parent.setSelected(this))}focusout(event){this._focusEventsAllowed&&this.isAttachedToDOM&&(event.relatedTarget?.closest(`#${this.id}`)||(event.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove()))}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(x$1,y$2,tx,ty){let[width,height]=this.parentDimensions;[tx,ty]=this.screenToPageTranslation(tx,ty),this.x=(x$1+tx)/width,this.y=(y$2+ty)/height,this.fixAndSetPosition()}#m([width,height],x$1,y$2){[x$1,y$2]=this.screenToPageTranslation(x$1,y$2),this.x+=x$1/width,this.y+=y$2/height,this.fixAndSetPosition()}translate(x$1,y$2){this.#m(this.parentDimensions,x$1,y$2)}translateInPage(x$1,y$2){this.#m(this.pageDimensions,x$1,y$2),this.div.scrollIntoView({block:`nearest`})}drag(tx,ty){let[parentWidth,parentHeight]=this.parentDimensions;if(this.x+=tx/parentWidth,this.y+=ty/parentHeight,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:x$2,y:y$3}=this.div.getBoundingClientRect();this.parent.findNewParent(this,x$2,y$3)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:x$1,y:y$2}=this,[bx,by]=this.#h();x$1+=bx,y$2+=by,this.div.style.left=`${(100*x$1).toFixed(2)}%`,this.div.style.top=`${(100*y$2).toFixed(2)}%`,this.div.scrollIntoView({block:`nearest`})}#h(){let[parentWidth,parentHeight]=this.parentDimensions,{_borderLineWidth}=AnnotationEditor,x$1=_borderLineWidth/parentWidth,y$2=_borderLineWidth/parentHeight;switch(this.rotation){case 90:return[-x$1,y$2];case 180:return[x$1,y$2];case 270:return[x$1,-y$2];default:return[-x$1,-y$2]}}fixAndSetPosition(){let[pageWidth,pageHeight]=this.pageDimensions,{x:x$1,y:y$2,width,height}=this;switch(width*=pageWidth,height*=pageHeight,x$1*=pageWidth,y$2*=pageHeight,this.rotation){case 0:x$1=Math.max(0,Math.min(pageWidth-width,x$1)),y$2=Math.max(0,Math.min(pageHeight-height,y$2));break;case 90:x$1=Math.max(0,Math.min(pageWidth-height,x$1)),y$2=Math.min(pageHeight,Math.max(width,y$2));break;case 180:x$1=Math.min(pageWidth,Math.max(width,x$1)),y$2=Math.min(pageHeight,Math.max(height,y$2));break;case 270:x$1=Math.min(pageWidth,Math.max(height,x$1)),y$2=Math.max(0,Math.min(pageHeight-width,y$2));break}this.x=x$1/=pageWidth,this.y=y$2/=pageHeight;let[bx,by]=this.#h();x$1+=bx,y$2+=by;let{style}=this.div;style.left=`${(100*x$1).toFixed(2)}%`,style.top=`${(100*y$2).toFixed(2)}%`,this.moveInDOM()}static#g(x$1,y$2,angle){switch(angle){case 90:return[y$2,-x$1];case 180:return[-x$1,-y$2];case 270:return[-y$2,x$1];default:return[x$1,y$2]}}screenToPageTranslation(x$1,y$2){return AnnotationEditor.#g(x$1,y$2,this.parentRotation)}pageTranslationToScreen(x$1,y$2){return AnnotationEditor.#g(x$1,y$2,360-this.parentRotation)}#_(rotation){switch(rotation){case 90:{let[pageWidth,pageHeight]=this.pageDimensions;return[0,-pageWidth/pageHeight,pageHeight/pageWidth,0]}case 180:return[-1,0,0,-1];case 270:{let[pageWidth,pageHeight]=this.pageDimensions;return[0,pageWidth/pageHeight,-pageHeight/pageWidth,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale,pageDimensions:[pageWidth,pageHeight]}=this,scaledWidth=pageWidth*parentScale,scaledHeight=pageHeight*parentScale;return _util.FeatureTest.isCSSRoundSupported?[Math.round(scaledWidth),Math.round(scaledHeight)]:[scaledWidth,scaledHeight]}setDims(width,height){let[parentWidth,parentHeight]=this.parentDimensions;this.div.style.width=`${(100*width/parentWidth).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*height/parentHeight).toFixed(2)}%`),this.#n?.classList.toggle(`small`,width<AnnotationEditor.SMALL_EDITOR_SIZE||height<AnnotationEditor.SMALL_EDITOR_SIZE)}fixDims(){let{style}=this.div,{height,width}=style,widthPercent=width.endsWith(`%`),heightPercent=!this.#a&&height.endsWith(`%`);if(widthPercent&&heightPercent)return;let[parentWidth,parentHeight]=this.parentDimensions;widthPercent||(style.width=`${(100*parseFloat(width)/parentWidth).toFixed(2)}%`),!this.#a&&!heightPercent&&(style.height=`${(100*parseFloat(height)/parentHeight).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#o)return;this.#o=document.createElement(`div`),this.#o.classList.add(`resizers`);let classes=[`topLeft`,`topRight`,`bottomRight`,`bottomLeft`];this._willKeepAspectRatio||classes.push(`topMiddle`,`middleRight`,`bottomMiddle`,`middleLeft`);for(let name of classes){let div=document.createElement(`div`);this.#o.append(div),div.classList.add(`resizer`,name),div.addEventListener(`pointerdown`,this.#y.bind(this,name)),div.addEventListener(`contextmenu`,_display_utils.noContextMenu)}this.div.prepend(this.#o)}#y(name,event){event.preventDefault();let{isMac}=_util.FeatureTest.platform;if(event.button!==0||event.ctrlKey&&isMac)return;let boundResizerPointermove=this.#b.bind(this,name),savedDraggable=this._isDraggable;this._isDraggable=!1;let pointerMoveOptions={passive:!0,capture:!0};window.addEventListener(`pointermove`,boundResizerPointermove,pointerMoveOptions);let savedX=this.x,savedY=this.y,savedWidth=this.width,savedHeight=this.height,savedParentCursor=this.parent.div.style.cursor,savedCursor=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(event.target).cursor;let pointerUpCallback=()=>{this._isDraggable=savedDraggable,window.removeEventListener(`pointerup`,pointerUpCallback),window.removeEventListener(`blur`,pointerUpCallback),window.removeEventListener(`pointermove`,boundResizerPointermove,pointerMoveOptions),this.parent.div.style.cursor=savedParentCursor,this.div.style.cursor=savedCursor;let newX=this.x,newY=this.y,newWidth=this.width,newHeight=this.height;newX===savedX&&newY===savedY&&newWidth===savedWidth&&newHeight===savedHeight||this.addCommands({cmd:()=>{this.width=newWidth,this.height=newHeight,this.x=newX,this.y=newY;let[parentWidth,parentHeight]=this.parentDimensions;this.setDims(parentWidth*newWidth,parentHeight*newHeight),this.fixAndSetPosition()},undo:()=>{this.width=savedWidth,this.height=savedHeight,this.x=savedX,this.y=savedY;let[parentWidth,parentHeight]=this.parentDimensions;this.setDims(parentWidth*savedWidth,parentHeight*savedHeight),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener(`pointerup`,pointerUpCallback),window.addEventListener(`blur`,pointerUpCallback)}#b(name,event){let[parentWidth,parentHeight]=this.parentDimensions,savedX=this.x,savedY=this.y,savedWidth=this.width,savedHeight=this.height,minWidth=AnnotationEditor.MIN_SIZE/parentWidth,minHeight=AnnotationEditor.MIN_SIZE/parentHeight,round=x$1=>Math.round(x$1*1e4)/1e4,rotationMatrix=this.#_(this.rotation),transf=(x$1,y$2)=>[rotationMatrix[0]*x$1+rotationMatrix[2]*y$2,rotationMatrix[1]*x$1+rotationMatrix[3]*y$2],invRotationMatrix=this.#_(360-this.rotation),invTransf=(x$1,y$2)=>[invRotationMatrix[0]*x$1+invRotationMatrix[2]*y$2,invRotationMatrix[1]*x$1+invRotationMatrix[3]*y$2],getPoint,getOpposite,isDiagonal=!1,isHorizontal=!1;switch(name){case`topLeft`:isDiagonal=!0,getPoint=(w$1,h$2)=>[0,0],getOpposite=(w$1,h$2)=>[w$1,h$2];break;case`topMiddle`:getPoint=(w$1,h$2)=>[w$1/2,0],getOpposite=(w$1,h$2)=>[w$1/2,h$2];break;case`topRight`:isDiagonal=!0,getPoint=(w$1,h$2)=>[w$1,0],getOpposite=(w$1,h$2)=>[0,h$2];break;case`middleRight`:isHorizontal=!0,getPoint=(w$1,h$2)=>[w$1,h$2/2],getOpposite=(w$1,h$2)=>[0,h$2/2];break;case`bottomRight`:isDiagonal=!0,getPoint=(w$1,h$2)=>[w$1,h$2],getOpposite=(w$1,h$2)=>[0,0];break;case`bottomMiddle`:getPoint=(w$1,h$2)=>[w$1/2,h$2],getOpposite=(w$1,h$2)=>[w$1/2,0];break;case`bottomLeft`:isDiagonal=!0,getPoint=(w$1,h$2)=>[0,h$2],getOpposite=(w$1,h$2)=>[w$1,0];break;case`middleLeft`:isHorizontal=!0,getPoint=(w$1,h$2)=>[0,h$2/2],getOpposite=(w$1,h$2)=>[w$1,h$2/2];break}let point=getPoint(savedWidth,savedHeight),oppositePoint=getOpposite(savedWidth,savedHeight),transfOppositePoint=transf(...oppositePoint),oppositeX=round(savedX+transfOppositePoint[0]),oppositeY=round(savedY+transfOppositePoint[1]),ratioX=1,ratioY=1,[deltaX,deltaY]=this.screenToPageTranslation(event.movementX,event.movementY);if([deltaX,deltaY]=invTransf(deltaX/parentWidth,deltaY/parentHeight),isDiagonal){let oldDiag=Math.hypot(savedWidth,savedHeight);ratioX=ratioY=Math.max(Math.min(Math.hypot(oppositePoint[0]-point[0]-deltaX,oppositePoint[1]-point[1]-deltaY)/oldDiag,1/savedWidth,1/savedHeight),minWidth/savedWidth,minHeight/savedHeight)}else isHorizontal?ratioX=Math.max(minWidth,Math.min(1,Math.abs(oppositePoint[0]-point[0]-deltaX)))/savedWidth:ratioY=Math.max(minHeight,Math.min(1,Math.abs(oppositePoint[1]-point[1]-deltaY)))/savedHeight;let newWidth=round(savedWidth*ratioX),newHeight=round(savedHeight*ratioY);transfOppositePoint=transf(...getOpposite(newWidth,newHeight));let newX=oppositeX-transfOppositePoint[0],newY=oppositeY-transfOppositePoint[1];this.width=newWidth,this.height=newHeight,this.x=newX,this.y=newY,this.setDims(parentWidth*newWidth,parentHeight*newHeight),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;let altText=this.#n=document.createElement(`button`);altText.className=`altText`;let msg=await AnnotationEditor._l10nPromise.get(`editor_alt_text_button_label`);altText.textContent=msg,altText.setAttribute(`aria-label`,msg),altText.tabIndex=`0`,altText.addEventListener(`contextmenu`,_display_utils.noContextMenu),altText.addEventListener(`pointerdown`,event=>event.stopPropagation()),altText.addEventListener(`click`,event=>{event.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),altText.addEventListener(`keydown`,event=>{event.target===altText&&event.key===`Enter`&&(event.preventDefault(),this._uiManager.editAltText(this))}),this.#x(),this.div.append(altText),AnnotationEditor.SMALL_EDITOR_SIZE||=Math.min(128,Math.round(altText.getBoundingClientRect().width*1.4))}async#x(){let button=this.#n;if(!button)return;if(!this.#e&&!this.#t){button.classList.remove(`done`),this.#r?.remove();return}AnnotationEditor._l10nPromise.get(`editor_alt_text_edit_button_label`).then(msg=>{button.setAttribute(`aria-label`,msg)});let tooltip=this.#r;if(!tooltip){this.#r=tooltip=document.createElement(`span`),tooltip.className=`tooltip`,tooltip.setAttribute(`role`,`tooltip`);let id=tooltip.id=`alt-text-tooltip-${this.id}`;button.setAttribute(`aria-describedby`,id);let DELAY_TO_SHOW_TOOLTIP=100;button.addEventListener(`mouseenter`,()=>{this.#i=setTimeout(()=>{this.#i=null,this.#r.classList.add(`show`),this._uiManager._eventBus.dispatch(`reporttelemetry`,{source:this,details:{type:`editing`,subtype:this.editorType,data:{action:`alt_text_tooltip`}}})},100)}),button.addEventListener(`mouseleave`,()=>{clearTimeout(this.#i),this.#i=null,this.#r?.classList.remove(`show`)})}button.classList.add(`done`),tooltip.innerText=this.#t?await AnnotationEditor._l10nPromise.get(`editor_alt_text_decorative_tooltip`):this.#e,tooltip.parentNode||button.append(tooltip)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText,decorative}){this.#e===altText&&this.#t===decorative||(this.#e=altText,this.#t=decorative,this.#x())}render(){this.div=document.createElement(`div`),this.div.setAttribute(`data-editor-rotation`,(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute(`id`,this.id),this.div.setAttribute(`tabIndex`,0),this.setInForeground(),this.div.addEventListener(`focusin`,this.#s),this.div.addEventListener(`focusout`,this.#c);let[parentWidth,parentHeight]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*parentHeight/parentWidth).toFixed(2)}%`,this.div.style.maxHeight=`${(100*parentWidth/parentHeight).toFixed(2)}%`);let[tx,ty]=this.getInitialTranslation();return this.translate(tx,ty),(0,_tools.bindEvents)(this,this.div,[`pointerdown`]),this.div}pointerdown(event){let{isMac}=_util.FeatureTest.platform;if(event.button!==0||event.ctrlKey&&isMac){event.preventDefault();return}this.#l=!0,this.#S(event)}#S(event){if(!this._isDraggable)return;let isSelected=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let pointerMoveOptions,pointerMoveCallback;isSelected&&(pointerMoveOptions={passive:!0,capture:!0},pointerMoveCallback=e$1=>{let[tx,ty]=this.screenToPageTranslation(e$1.movementX,e$1.movementY);this._uiManager.dragSelectedEditors(tx,ty)},window.addEventListener(`pointermove`,pointerMoveCallback,pointerMoveOptions));let pointerUpCallback=()=>{if(window.removeEventListener(`pointerup`,pointerUpCallback),window.removeEventListener(`blur`,pointerUpCallback),isSelected&&window.removeEventListener(`pointermove`,pointerMoveCallback,pointerMoveOptions),this.#l=!1,!this._uiManager.endDragSession()){let{isMac}=_util.FeatureTest.platform;event.ctrlKey&&!isMac||event.shiftKey||event.metaKey&&isMac?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener(`pointerup`,pointerUpCallback),window.addEventListener(`blur`,pointerUpCallback)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(parent,x$1,y$2){parent.changeParent(this),this.x=x$1,this.y=y$2,this.fixAndSetPosition()}getRect(tx,ty){let scale=this.parentScale,[pageWidth,pageHeight]=this.pageDimensions,[pageX,pageY]=this.pageTranslation,shiftX=tx/scale,shiftY=ty/scale,x$1=this.x*pageWidth,y$2=this.y*pageHeight,width=this.width*pageWidth,height=this.height*pageHeight;switch(this.rotation){case 0:return[x$1+shiftX+pageX,pageHeight-y$2-shiftY-height+pageY,x$1+shiftX+width+pageX,pageHeight-y$2-shiftY+pageY];case 90:return[x$1+shiftY+pageX,pageHeight-y$2+shiftX+pageY,x$1+shiftY+height+pageX,pageHeight-y$2+shiftX+width+pageY];case 180:return[x$1-shiftX-width+pageX,pageHeight-y$2+shiftY+pageY,x$1-shiftX+pageX,pageHeight-y$2+shiftY+height+pageY];case 270:return[x$1-shiftY-height+pageX,pageHeight-y$2-shiftX-width+pageY,x$1-shiftY+pageX,pageHeight-y$2-shiftX+pageY];default:throw Error(`Invalid rotation`)}}getRectInCurrentCoords(rect,pageHeight){let[x1,y1,x2,y2]=rect,width=x2-x1,height=y2-y1;switch(this.rotation){case 0:return[x1,pageHeight-y2,width,height];case 90:return[x1,pageHeight-y1,height,width];case 180:return[x2,pageHeight-y1,width,height];case 270:return[x2,pageHeight-y2,height,width];default:throw Error(`Invalid rotation`)}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener(`focusin`,this.#s),this.div?.addEventListener(`focusout`,this.#c)}serialize(isForCopying=!1,context=null){(0,_util.unreachable)(`An editor must be serializable`)}static deserialize(data,parent,uiManager){let editor=new this.prototype.constructor({parent,id:parent.getNextId(),uiManager});editor.rotation=data.rotation;let[pageWidth,pageHeight]=editor.pageDimensions,[x$1,y$2,width,height]=editor.getRectInCurrentCoords(data.rect,pageHeight);return editor.x=x$1/pageWidth,editor.y=y$2/pageHeight,editor.width=width/pageWidth,editor.height=height/pageHeight,editor}remove(){this.div.removeEventListener(`focusin`,this.#s),this.div.removeEventListener(`focusout`,this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#o.classList.remove(`hidden`))}select(){this.makeResizable(),this.div?.classList.add(`selectedEditor`)}unselect(){this.#o?.classList.add(`hidden`),this.div?.classList.remove(`selectedEditor`),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(type,value){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#u}set isEditing(value){this.#u=value,this.parent&&(value?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(width,height){this.#a=!0;let aspectRatio=width/height,{style}=this.div;style.aspectRatio=aspectRatio,style.height=`auto`}static get MIN_SIZE(){return 16}}exports$1.AnnotationEditor=AnnotationEditor;class FakeEditor extends AnnotationEditor{constructor(params){super(params),this.annotationElementId=params.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.KeyboardManager=exports$1.CommandManager=exports$1.ColorManager=exports$1.AnnotationEditorUIManager=void 0,exports$1.bindEvents=bindEvents,exports$1.opacityToHex=opacityToHex;var _util=__w_pdfjs_require__$1(1),_display_utils=__w_pdfjs_require__$1(6);function bindEvents(obj,element,names){for(let name of names)element.addEventListener(name,obj[name].bind(obj))}function opacityToHex(opacity){return Math.round(Math.min(255,Math.max(1,255*opacity))).toString(16).padStart(2,`0`)}class IdManager{#e=0;getId(){return`${_util.AnnotationEditorPrefix}${this.#e++}`}}class ImageManager{#e=(0,_util.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){let svg=`data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>`,ctx=new OffscreenCanvas(1,3).getContext(`2d`),image=new Image;image.src=`data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>`;let promise=image.decode().then(()=>(ctx.drawImage(image,0,0,1,1,0,0,1,3),new Uint32Array(ctx.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,_util.shadow)(this,`_isSVGFittingCanvas`,promise)}async#r(key,rawData){this.#n||=new Map;let data=this.#n.get(key);if(data===null)return null;if(data?.bitmap)return data.refCounter+=1,data;try{data||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let image;if(typeof rawData==`string`){data.url=rawData;let response=await fetch(rawData);if(!response.ok)throw Error(response.statusText);image=await response.blob()}else image=data.file=rawData;if(image.type===`image/svg+xml`){let mustRemoveAspectRatioPromise=ImageManager._isSVGFittingCanvas,fileReader=new FileReader,imageElement=new Image,imagePromise=new Promise((resolve,reject)=>{imageElement.onload=()=>{data.bitmap=imageElement,data.isSvg=!0,resolve()},fileReader.onload=async()=>{let url=data.svgUrl=fileReader.result;imageElement.src=await mustRemoveAspectRatioPromise?`${url}#svgView(preserveAspectRatio(none))`:url},imageElement.onerror=fileReader.onerror=reject});fileReader.readAsDataURL(image),await imagePromise}else data.bitmap=await createImageBitmap(image);data.refCounter=1}catch(e$1){console.error(e$1),data=null}return this.#n.set(key,data),data&&this.#n.set(data.id,data),data}async getFromFile(file){let{lastModified,name,size,type}=file;return this.#r(`${lastModified}_${name}_${size}_${type}`,file)}async getFromUrl(url){return this.#r(url,url)}async getFromId(id){this.#n||=new Map;let data=this.#n.get(id);return data?data.bitmap?(data.refCounter+=1,data):data.file?this.getFromFile(data.file):this.getFromUrl(data.url):null}getSvgUrl(id){let data=this.#n.get(id);return data?.isSvg?data.svgUrl:null}deleteId(id){this.#n||=new Map;let data=this.#n.get(id);data&&(--data.refCounter,data.refCounter===0&&(data.bitmap=null))}isValidId(id){return id.startsWith(`image_${this.#e}_`)}}class CommandManager{#e=[];#t=!1;#n;#r=-1;constructor(maxSize=128){this.#n=maxSize}add({cmd,undo,mustExec,type=NaN,overwriteIfSameType=!1,keepUndo=!1}){if(mustExec&&cmd(),this.#t)return;let save={cmd,undo,type};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(save);return}if(overwriteIfSameType&&this.#e[this.#r].type===type){keepUndo&&(save.undo=this.#e[this.#r].undo),this.#e[this.#r]=save;return}let next=this.#r+1;next===this.#n?this.#e.splice(0,1):(this.#r=next,next<this.#e.length&&this.#e.splice(next)),this.#e.push(save)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,--this.#r)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}exports$1.CommandManager=CommandManager;class KeyboardManager{constructor(callbacks){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac}=_util.FeatureTest.platform;for(let[keys,callback,options={}]of callbacks)for(let key of keys){let isMacKey=key.startsWith(`mac+`);isMac&&isMacKey?(this.callbacks.set(key.slice(4),{callback,options}),this.allKeys.add(key.split(`+`).at(-1))):!isMac&&!isMacKey&&(this.callbacks.set(key,{callback,options}),this.allKeys.add(key.split(`+`).at(-1)))}}#e(event){event.altKey&&this.buffer.push(`alt`),event.ctrlKey&&this.buffer.push(`ctrl`),event.metaKey&&this.buffer.push(`meta`),event.shiftKey&&this.buffer.push(`shift`),this.buffer.push(event.key);let str=this.buffer.join(`+`);return this.buffer.length=0,str}exec(self$1,event){if(!this.allKeys.has(event.key))return;let info=this.callbacks.get(this.#e(event));if(!info)return;let{callback,options:{bubbles=!1,args=[],checker=null}}=info;checker&&!checker(self$1,event)||(callback.bind(self$1,...args)(),bubbles||(event.stopPropagation(),event.preventDefault()))}}exports$1.KeyboardManager=KeyboardManager;class ColorManager{static _colorsMapping=new Map([[`CanvasText`,[0,0,0]],[`Canvas`,[255,255,255]]]);get _colors(){let colors=new Map([[`CanvasText`,null],[`Canvas`,null]]);return(0,_display_utils.getColorValues)(colors),(0,_util.shadow)(this,`_colors`,colors)}convert(color){let rgb=(0,_display_utils.getRGB)(color);if(!window.matchMedia(`(forced-colors: active)`).matches)return rgb;for(let[name,RGB]of this._colors)if(RGB.every((x$1,i$1)=>x$1===rgb[i$1]))return ColorManager._colorsMapping.get(name);return rgb}getHexCode(name){let rgb=this._colors.get(name);return rgb?_util.Util.makeHexColor(...rgb):name}}exports$1.ColorManager=ColorManager;class AnnotationEditorUIManager{#e=null;#t=new Map;#n=new Map;#r=null;#i=null;#a=new CommandManager;#o=0;#s=new Set;#c=null;#l=null;#u=new Set;#d=null;#f=new IdManager;#p=!1;#m=!1;#h=null;#g=_util.AnnotationEditorType.NONE;#_=new Set;#v=null;#y=this.blur.bind(this);#b=this.focus.bind(this);#x=this.copy.bind(this);#S=this.cut.bind(this);#C=this.paste.bind(this);#w=this.keydown.bind(this);#T=this.onEditingAction.bind(this);#E=this.onPageChanging.bind(this);#D=this.onScaleChanging.bind(this);#O=this.onRotationChanging.bind(this);#k={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#A=[0,0];#j=null;#M=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let proto=AnnotationEditorUIManager.prototype,arrowChecker=self$1=>{let{activeElement}=document;return activeElement&&self$1.#M.contains(activeElement)&&self$1.hasSomethingToControl()},small=this.TRANSLATE_SMALL,big=this.TRANSLATE_BIG;return(0,_util.shadow)(this,`_keyboardManager`,new KeyboardManager([[[`ctrl+a`,`mac+meta+a`],proto.selectAll],[[`ctrl+z`,`mac+meta+z`],proto.undo],[[`ctrl+y`,`ctrl+shift+z`,`mac+meta+shift+z`,`ctrl+shift+Z`,`mac+meta+shift+Z`],proto.redo],[[`Backspace`,`alt+Backspace`,`ctrl+Backspace`,`shift+Backspace`,`mac+Backspace`,`mac+alt+Backspace`,`mac+ctrl+Backspace`,`Delete`,`ctrl+Delete`,`shift+Delete`,`mac+Delete`],proto.delete],[[`Escape`,`mac+Escape`],proto.unselectAll],[[`ArrowLeft`,`mac+ArrowLeft`],proto.translateSelectedEditors,{args:[-small,0],checker:arrowChecker}],[[`ctrl+ArrowLeft`,`mac+shift+ArrowLeft`],proto.translateSelectedEditors,{args:[-big,0],checker:arrowChecker}],[[`ArrowRight`,`mac+ArrowRight`],proto.translateSelectedEditors,{args:[small,0],checker:arrowChecker}],[[`ctrl+ArrowRight`,`mac+shift+ArrowRight`],proto.translateSelectedEditors,{args:[big,0],checker:arrowChecker}],[[`ArrowUp`,`mac+ArrowUp`],proto.translateSelectedEditors,{args:[0,-small],checker:arrowChecker}],[[`ctrl+ArrowUp`,`mac+shift+ArrowUp`],proto.translateSelectedEditors,{args:[0,-big],checker:arrowChecker}],[[`ArrowDown`,`mac+ArrowDown`],proto.translateSelectedEditors,{args:[0,small],checker:arrowChecker}],[[`ctrl+ArrowDown`,`mac+shift+ArrowDown`],proto.translateSelectedEditors,{args:[0,big],checker:arrowChecker}]]))}constructor(container,viewer,altTextManager,eventBus,pdfDocument,pageColors){this.#M=container,this.#N=viewer,this.#r=altTextManager,this._eventBus=eventBus,this._eventBus._on(`editingaction`,this.#T),this._eventBus._on(`pagechanging`,this.#E),this._eventBus._on(`scalechanging`,this.#D),this._eventBus._on(`rotationchanging`,this.#O),this.#i=pdfDocument.annotationStorage,this.#d=pdfDocument.filterFactory,this.#v=pageColors,this.viewParameters={realScale:_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#L(),this.#F(),this._eventBus._off(`editingaction`,this.#T),this._eventBus._off(`pagechanging`,this.#E),this._eventBus._off(`scalechanging`,this.#D),this._eventBus._off(`rotationchanging`,this.#O);for(let layer of this.#n.values())layer.destroy();this.#n.clear(),this.#t.clear(),this.#u.clear(),this.#e=null,this.#_.clear(),this.#a.destroy(),this.#r.destroy()}get hcmFilter(){return(0,_util.shadow)(this,`hcmFilter`,this.#v?this.#d.addHCMFilter(this.#v.foreground,this.#v.background):`none`)}get direction(){return(0,_util.shadow)(this,`direction`,getComputedStyle(this.#M).direction)}editAltText(editor){this.#r?.editAltText(this,editor)}onPageChanging({pageNumber}){this.#o=pageNumber-1}focusMainContainer(){this.#M.focus()}findParent(x$1,y$2){for(let layer of this.#n.values()){let{x:layerX,y:layerY,width,height}=layer.div.getBoundingClientRect();if(x$1>=layerX&&x$1<=layerX+width&&y$2>=layerY&&y$2<=layerY+height)return layer}return null}disableUserSelect(value=!1){this.#N.classList.toggle(`noUserSelect`,value)}addShouldRescale(editor){this.#u.add(editor)}removeShouldRescale(editor){this.#u.delete(editor)}onScaleChanging({scale}){this.commitOrRemove(),this.viewParameters.realScale=scale*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS;for(let editor of this.#u)editor.onScaleChanging()}onRotationChanging({pagesRotation}){this.commitOrRemove(),this.viewParameters.rotation=pagesRotation}addToAnnotationStorage(editor){!editor.isEmpty()&&this.#i&&!this.#i.has(editor.id)&&this.#i.setValue(editor.id,editor)}#P(){window.addEventListener(`focus`,this.#b),window.addEventListener(`blur`,this.#y)}#F(){window.removeEventListener(`focus`,this.#b),window.removeEventListener(`blur`,this.#y)}blur(){if(!this.hasSelection)return;let{activeElement}=document;for(let editor of this.#_)if(editor.div.contains(activeElement)){this.#h=[editor,activeElement],editor._focusEventsAllowed=!1;break}}focus(){if(!this.#h)return;let[lastEditor,lastActiveElement]=this.#h;this.#h=null,lastActiveElement.addEventListener(`focusin`,()=>{lastEditor._focusEventsAllowed=!0},{once:!0}),lastActiveElement.focus()}#I(){window.addEventListener(`keydown`,this.#w,{capture:!0})}#L(){window.removeEventListener(`keydown`,this.#w,{capture:!0})}#R(){document.addEventListener(`copy`,this.#x),document.addEventListener(`cut`,this.#S),document.addEventListener(`paste`,this.#C)}#z(){document.removeEventListener(`copy`,this.#x),document.removeEventListener(`cut`,this.#S),document.removeEventListener(`paste`,this.#C)}addEditListeners(){this.#I(),this.#R()}removeEditListeners(){this.#L(),this.#z()}copy(event){if(event.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;let editors=[];for(let editor of this.#_){let serialized=editor.serialize(!0);serialized&&editors.push(serialized)}editors.length!==0&&event.clipboardData.setData(`application/pdfjs`,JSON.stringify(editors))}cut(event){this.copy(event),this.delete()}paste(event){event.preventDefault();let{clipboardData}=event;for(let item of clipboardData.items)for(let editorType of this.#l)if(editorType.isHandlingMimeForPasting(item.type)){editorType.paste(item,this.currentLayer);return}let data=clipboardData.getData(`application/pdfjs`);if(!data)return;try{data=JSON.parse(data)}catch(ex){(0,_util.warn)(`paste: "${ex.message}".`);return}if(!Array.isArray(data))return;this.unselectAll();let layer=this.currentLayer;try{let newEditors=[];for(let editor of data){let deserializedEditor=layer.deserialize(editor);if(!deserializedEditor)return;newEditors.push(deserializedEditor)}this.addCommands({cmd:()=>{for(let editor of newEditors)this.#W(editor);this.#K(newEditors)},undo:()=>{for(let editor of newEditors)editor.remove()},mustExec:!0})}catch(ex){(0,_util.warn)(`paste: "${ex.message}".`)}}keydown(event){this.getActive()?.shouldGetKeyboardEvents()||AnnotationEditorUIManager._keyboardManager.exec(this,event)}onEditingAction(details){[`undo`,`redo`,`delete`,`selectAll`].includes(details.name)&&this[details.name]()}#B(details){Object.entries(details).some(([key,value])=>this.#k[key]!==value)&&this._eventBus.dispatch(`annotationeditorstateschanged`,{source:this,details:Object.assign(this.#k,details)})}#V(details){this._eventBus.dispatch(`annotationeditorparamschanged`,{source:this,details})}setEditingState(isEditing){isEditing?(this.#P(),this.#I(),this.#R(),this.#B({isEditing:this.#g!==_util.AnnotationEditorType.NONE,isEmpty:this.#G(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#F(),this.#L(),this.#z(),this.#B({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(types){if(!this.#l){this.#l=types;for(let editorType of this.#l)this.#V(editorType.defaultPropertiesToUpdate)}}getId(){return this.#f.getId()}get currentLayer(){return this.#n.get(this.#o)}getLayer(pageIndex){return this.#n.get(pageIndex)}get currentPageIndex(){return this.#o}addLayer(layer){this.#n.set(layer.pageIndex,layer),this.#p?layer.enable():layer.disable()}removeLayer(layer){this.#n.delete(layer.pageIndex)}updateMode(mode,editId=null){if(this.#g!==mode){if(this.#g=mode,mode===_util.AnnotationEditorType.NONE){this.setEditingState(!1),this.#U();return}this.setEditingState(!0),this.#H(),this.unselectAll();for(let layer of this.#n.values())layer.updateMode(mode);if(editId){for(let editor of this.#t.values())if(editor.annotationElementId===editId){this.setSelected(editor),editor.enterInEditMode();break}}}}updateToolbar(mode){mode!==this.#g&&this._eventBus.dispatch(`switchannotationeditormode`,{source:this,mode})}updateParams(type,value){if(this.#l){if(type===_util.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(type);return}for(let editor of this.#_)editor.updateParams(type,value);for(let editorType of this.#l)editorType.updateDefaultParams(type,value)}}enableWaiting(mustWait=!1){if(this.#m!==mustWait){this.#m=mustWait;for(let layer of this.#n.values())mustWait?layer.disableClick():layer.enableClick(),layer.div.classList.toggle(`waiting`,mustWait)}}#H(){if(!this.#p){this.#p=!0;for(let layer of this.#n.values())layer.enable()}}#U(){if(this.unselectAll(),this.#p){this.#p=!1;for(let layer of this.#n.values())layer.disable()}}getEditors(pageIndex){let editors=[];for(let editor of this.#t.values())editor.pageIndex===pageIndex&&editors.push(editor);return editors}getEditor(id){return this.#t.get(id)}addEditor(editor){this.#t.set(editor.id,editor)}removeEditor(editor){this.#t.delete(editor.id),this.unselect(editor),(!editor.annotationElementId||!this.#s.has(editor.annotationElementId))&&this.#i?.remove(editor.id)}addDeletedAnnotationElement(editor){this.#s.add(editor.annotationElementId),editor.deleted=!0}isDeletedAnnotationElement(annotationElementId){return this.#s.has(annotationElementId)}removeDeletedAnnotationElement(editor){this.#s.delete(editor.annotationElementId),editor.deleted=!1}#W(editor){let layer=this.#n.get(editor.pageIndex);layer?layer.addOrRebuild(editor):this.addEditor(editor)}setActiveEditor(editor){this.#e!==editor&&(this.#e=editor,editor&&this.#V(editor.propertiesToUpdate))}toggleSelected(editor){if(this.#_.has(editor)){this.#_.delete(editor),editor.unselect(),this.#B({hasSelectedEditor:this.hasSelection});return}this.#_.add(editor),editor.select(),this.#V(editor.propertiesToUpdate),this.#B({hasSelectedEditor:!0})}setSelected(editor){for(let ed of this.#_)ed!==editor&&ed.unselect();this.#_.clear(),this.#_.add(editor),editor.select(),this.#V(editor.propertiesToUpdate),this.#B({hasSelectedEditor:!0})}isSelected(editor){return this.#_.has(editor)}unselect(editor){editor.unselect(),this.#_.delete(editor),this.#B({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}undo(){this.#a.undo(),this.#B({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#G()})}redo(){this.#a.redo(),this.#B({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#G()})}addCommands(params){this.#a.add(params),this.#B({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#G()})}#G(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let editor of this.#t.values())return editor.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let editors=[...this.#_];this.addCommands({cmd:()=>{for(let editor of editors)editor.remove()},undo:()=>{for(let editor of editors)this.#W(editor)},mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#K(editors){this.#_.clear();for(let editor of editors)editor.isEmpty()||(this.#_.add(editor),editor.select());this.#B({hasSelectedEditor:!0})}selectAll(){for(let editor of this.#_)editor.commit();this.#K(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(let editor of this.#_)editor.unselect();this.#_.clear(),this.#B({hasSelectedEditor:!1})}}translateSelectedEditors(x$1,y$2,noCommit=!1){if(noCommit||this.commitOrRemove(),!this.hasSelection)return;this.#A[0]+=x$1,this.#A[1]+=y$2;let[totalX,totalY]=this.#A,editors=[...this.#_],TIME_TO_WAIT=1e3;this.#j&&clearTimeout(this.#j),this.#j=setTimeout(()=>{this.#j=null,this.#A[0]=this.#A[1]=0,this.addCommands({cmd:()=>{for(let editor of editors)this.#t.has(editor.id)&&editor.translateInPage(totalX,totalY)},undo:()=>{for(let editor of editors)this.#t.has(editor.id)&&editor.translateInPage(-totalX,-totalY)},mustExec:!1})},1e3);for(let editor of editors)editor.translateInPage(x$1,y$2)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(let editor of this.#_)this.#c.set(editor,{savedX:editor.x,savedY:editor.y,savedPageIndex:editor.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);let map=this.#c;this.#c=null;let mustBeAddedInUndoStack=!1;for(let[{x:x$1,y:y$2,pageIndex},value]of map)value.newX=x$1,value.newY=y$2,value.newPageIndex=pageIndex,mustBeAddedInUndoStack||=x$1!==value.savedX||y$2!==value.savedY||pageIndex!==value.savedPageIndex;if(!mustBeAddedInUndoStack)return!1;let move=(editor,x$1,y$2,pageIndex)=>{if(this.#t.has(editor.id)){let parent=this.#n.get(pageIndex);parent?editor._setParentAndPosition(parent,x$1,y$2):(editor.pageIndex=pageIndex,editor.x=x$1,editor.y=y$2)}};return this.addCommands({cmd:()=>{for(let[editor,{newX,newY,newPageIndex}]of map)move(editor,newX,newY,newPageIndex)},undo:()=>{for(let[editor,{savedX,savedY,savedPageIndex}]of map)move(editor,savedX,savedY,savedPageIndex)},mustExec:!0}),!0}dragSelectedEditors(tx,ty){if(this.#c)for(let editor of this.#c.keys())editor.drag(tx,ty)}rebuild(editor){if(editor.parent===null){let parent=this.getLayer(editor.pageIndex);parent?(parent.changeParent(editor),parent.addOrRebuild(editor)):(this.addEditor(editor),this.addToAnnotationStorage(editor),editor.rebuild())}else editor.parent.addOrRebuild(editor)}isActive(editor){return this.#e===editor}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,_util.shadow)(this,`imageManager`,new ImageManager)}}exports$1.AnnotationEditorUIManager=AnnotationEditorUIManager}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.StatTimer=exports$1.RenderingCancelledException=exports$1.PixelsPerInch=exports$1.PageViewport=exports$1.PDFDateString=exports$1.DOMStandardFontDataFactory=exports$1.DOMSVGFactory=exports$1.DOMFilterFactory=exports$1.DOMCanvasFactory=exports$1.DOMCMapReaderFactory=void 0,exports$1.deprecated=deprecated,exports$1.getColorValues=getColorValues,exports$1.getCurrentTransform=getCurrentTransform,exports$1.getCurrentTransformInverse=getCurrentTransformInverse,exports$1.getFilenameFromUrl=getFilenameFromUrl,exports$1.getPdfFilenameFromUrl=getPdfFilenameFromUrl,exports$1.getRGB=getRGB,exports$1.getXfaPageViewport=getXfaPageViewport,exports$1.isDataScheme=isDataScheme,exports$1.isPdfFile=isPdfFile,exports$1.isValidFetchUrl=isValidFetchUrl,exports$1.loadScript=loadScript,exports$1.noContextMenu=noContextMenu,exports$1.setLayerDimensions=setLayerDimensions;var _base_factory=__w_pdfjs_require__$1(7),_util=__w_pdfjs_require__$1(1);let SVG_NS=`http://www.w3.org/2000/svg`;class PixelsPerInch{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}exports$1.PixelsPerInch=PixelsPerInch;class DOMFilterFactory extends _base_factory.BaseFilterFactory{#e;#t;#n;#r;#i;#a;#o;#s;#c;#l;#u=0;constructor({docId,ownerDocument=globalThis.document}={}){super(),this.#n=docId,this.#r=ownerDocument}get#d(){return this.#e||=new Map}get#f(){if(!this.#t){let div=this.#r.createElement(`div`),{style}=div;style.visibility=`hidden`,style.contain=`strict`,style.width=style.height=0,style.position=`absolute`,style.top=style.left=0,style.zIndex=-1;let svg=this.#r.createElementNS(SVG_NS,`svg`);svg.setAttribute(`width`,0),svg.setAttribute(`height`,0),this.#t=this.#r.createElementNS(SVG_NS,`defs`),div.append(svg),svg.append(this.#t),this.#r.body.append(div)}return this.#t}addFilter(maps){if(!maps)return`none`;let value=this.#d.get(maps);if(value)return value;let tableR,tableG,tableB,key;if(maps.length===1){let mapR=maps[0],buffer=Array(256);for(let i$1=0;i$1<256;i$1++)buffer[i$1]=mapR[i$1]/255;key=tableR=tableG=tableB=buffer.join(`,`)}else{let[mapR,mapG,mapB]=maps,bufferR=Array(256),bufferG=Array(256),bufferB=Array(256);for(let i$1=0;i$1<256;i$1++)bufferR[i$1]=mapR[i$1]/255,bufferG[i$1]=mapG[i$1]/255,bufferB[i$1]=mapB[i$1]/255;tableR=bufferR.join(`,`),tableG=bufferG.join(`,`),tableB=bufferB.join(`,`),key=`${tableR}${tableG}${tableB}`}if(value=this.#d.get(key),value)return this.#d.set(maps,value),value;let id=`g_${this.#n}_transfer_map_${this.#u++}`,url=`url(#${id})`;this.#d.set(maps,url),this.#d.set(key,url);let filter=this.#m(id);return this.#g(tableR,tableG,tableB,filter),url}addHCMFilter(fgColor,bgColor){let key=`${fgColor}-${bgColor}`;if(this.#a===key||(this.#a=key,this.#o=`none`,this.#i?.remove(),!fgColor||!bgColor))return this.#o;let fgRGB=this.#_(fgColor);fgColor=_util.Util.makeHexColor(...fgRGB);let bgRGB=this.#_(bgColor);if(bgColor=_util.Util.makeHexColor(...bgRGB),this.#f.style.color=``,fgColor===`#000000`&&bgColor===`#ffffff`||fgColor===bgColor)return this.#o;let map=Array(256);for(let i$1=0;i$1<=255;i$1++){let x$1=i$1/255;map[i$1]=x$1<=.03928?x$1/12.92:((x$1+.055)/1.055)**2.4}let table=map.join(`,`),id=`g_${this.#n}_hcm_filter`,filter=this.#s=this.#m(id);this.#g(table,table,table,filter),this.#p(filter);let getSteps=(c$3,n$1)=>{let start=fgRGB[c$3]/255,end=bgRGB[c$3]/255,arr=Array(n$1+1);for(let i$1=0;i$1<=n$1;i$1++)arr[i$1]=start+i$1/n$1*(end-start);return arr.join(`,`)};return this.#g(getSteps(0,5),getSteps(1,5),getSteps(2,5),filter),this.#o=`url(#${id})`,this.#o}addHighlightHCMFilter(fgColor,bgColor,newFgColor,newBgColor){let key=`${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;if(this.#c===key||(this.#c=key,this.#l=`none`,this.#s?.remove(),!fgColor||!bgColor))return this.#l;let[fgRGB,bgRGB]=[fgColor,bgColor].map(this.#_.bind(this)),fgGray=Math.round(.2126*fgRGB[0]+.7152*fgRGB[1]+.0722*fgRGB[2]),bgGray=Math.round(.2126*bgRGB[0]+.7152*bgRGB[1]+.0722*bgRGB[2]),[newFgRGB,newBgRGB]=[newFgColor,newBgColor].map(this.#_.bind(this));bgGray<fgGray&&([fgGray,bgGray,newFgRGB,newBgRGB]=[bgGray,fgGray,newBgRGB,newFgRGB]),this.#f.style.color=``;let getSteps=(fg,bg,n$1)=>{let arr=Array(256),step=(bgGray-fgGray)/n$1,newStart=fg/255,newStep=(bg-fg)/(255*n$1),prev=0;for(let i$1=0;i$1<=n$1;i$1++){let k$1=Math.round(fgGray+i$1*step),value=newStart+i$1*newStep;for(let j$1=prev;j$1<=k$1;j$1++)arr[j$1]=value;prev=k$1+1}for(let i$1=prev;i$1<256;i$1++)arr[i$1]=arr[prev-1];return arr.join(`,`)},id=`g_${this.#n}_hcm_highlight_filter`,filter=this.#s=this.#m(id);return this.#p(filter),this.#g(getSteps(newFgRGB[0],newBgRGB[0],5),getSteps(newFgRGB[1],newBgRGB[1],5),getSteps(newFgRGB[2],newBgRGB[2],5),filter),this.#l=`url(#${id})`,this.#l}destroy(keepHCM=!1){keepHCM&&(this.#o||this.#l)||(this.#t&&=(this.#t.parentNode.parentNode.remove(),null),this.#e&&=(this.#e.clear(),null),this.#u=0)}#p(filter){let feColorMatrix=this.#r.createElementNS(SVG_NS,`feColorMatrix`);feColorMatrix.setAttribute(`type`,`matrix`),feColorMatrix.setAttribute(`values`,`0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0`),filter.append(feColorMatrix)}#m(id){let filter=this.#r.createElementNS(SVG_NS,`filter`);return filter.setAttribute(`color-interpolation-filters`,`sRGB`),filter.setAttribute(`id`,id),this.#f.append(filter),filter}#h(feComponentTransfer,func,table){let feFunc=this.#r.createElementNS(SVG_NS,func);feFunc.setAttribute(`type`,`discrete`),feFunc.setAttribute(`tableValues`,table),feComponentTransfer.append(feFunc)}#g(rTable,gTable,bTable,filter){let feComponentTransfer=this.#r.createElementNS(SVG_NS,`feComponentTransfer`);filter.append(feComponentTransfer),this.#h(feComponentTransfer,`feFuncR`,rTable),this.#h(feComponentTransfer,`feFuncG`,gTable),this.#h(feComponentTransfer,`feFuncB`,bTable)}#_(color){return this.#f.style.color=color,getRGB(getComputedStyle(this.#f).getPropertyValue(`color`))}}exports$1.DOMFilterFactory=DOMFilterFactory;class DOMCanvasFactory extends _base_factory.BaseCanvasFactory{constructor({ownerDocument=globalThis.document}={}){super(),this._document=ownerDocument}_createCanvas(width,height){let canvas=this._document.createElement(`canvas`);return canvas.width=width,canvas.height=height,canvas}}exports$1.DOMCanvasFactory=DOMCanvasFactory;async function fetchData(url,asTypedArray=!1){if(isValidFetchUrl(url,document.baseURI)){let response=await fetch(url);if(!response.ok)throw Error(response.statusText);return asTypedArray?new Uint8Array(await response.arrayBuffer()):(0,_util.stringToBytes)(await response.text())}return new Promise((resolve,reject)=>{let request=new XMLHttpRequest;request.open(`GET`,url,!0),asTypedArray&&(request.responseType=`arraybuffer`),request.onreadystatechange=()=>{if(request.readyState===XMLHttpRequest.DONE){if(request.status===200||request.status===0){let data;if(asTypedArray&&request.response?data=new Uint8Array(request.response):!asTypedArray&&request.responseText&&(data=(0,_util.stringToBytes)(request.responseText)),data){resolve(data);return}}reject(Error(request.statusText))}},request.send(null)})}class DOMCMapReaderFactory extends _base_factory.BaseCMapReaderFactory{_fetchData(url,compressionType){return fetchData(url,this.isCompressed).then(data=>({cMapData:data,compressionType}))}}exports$1.DOMCMapReaderFactory=DOMCMapReaderFactory;class DOMStandardFontDataFactory extends _base_factory.BaseStandardFontDataFactory{_fetchData(url){return fetchData(url,!0)}}exports$1.DOMStandardFontDataFactory=DOMStandardFontDataFactory;class DOMSVGFactory extends _base_factory.BaseSVGFactory{_createSVG(type){return document.createElementNS(SVG_NS,type)}}exports$1.DOMSVGFactory=DOMSVGFactory;class PageViewport{constructor({viewBox,scale,rotation,offsetX=0,offsetY=0,dontFlip=!1}){this.viewBox=viewBox,this.scale=scale,this.rotation=rotation,this.offsetX=offsetX,this.offsetY=offsetY;let centerX=(viewBox[2]+viewBox[0])/2,centerY=(viewBox[3]+viewBox[1])/2,rotateA,rotateB,rotateC,rotateD;switch(rotation%=360,rotation<0&&(rotation+=360),rotation){case 180:rotateA=-1,rotateB=0,rotateC=0,rotateD=1;break;case 90:rotateA=0,rotateB=1,rotateC=1,rotateD=0;break;case 270:rotateA=0,rotateB=-1,rotateC=-1,rotateD=0;break;case 0:rotateA=1,rotateB=0,rotateC=0,rotateD=-1;break;default:throw Error(`PageViewport: Invalid rotation, must be a multiple of 90 degrees.`)}dontFlip&&(rotateC=-rotateC,rotateD=-rotateD);let offsetCanvasX,offsetCanvasY,width,height;rotateA===0?(offsetCanvasX=Math.abs(centerY-viewBox[1])*scale+offsetX,offsetCanvasY=Math.abs(centerX-viewBox[0])*scale+offsetY,width=(viewBox[3]-viewBox[1])*scale,height=(viewBox[2]-viewBox[0])*scale):(offsetCanvasX=Math.abs(centerX-viewBox[0])*scale+offsetX,offsetCanvasY=Math.abs(centerY-viewBox[1])*scale+offsetY,width=(viewBox[2]-viewBox[0])*scale,height=(viewBox[3]-viewBox[1])*scale),this.transform=[rotateA*scale,rotateB*scale,rotateC*scale,rotateD*scale,offsetCanvasX-rotateA*scale*centerX-rotateC*scale*centerY,offsetCanvasY-rotateB*scale*centerX-rotateD*scale*centerY],this.width=width,this.height=height}get rawDims(){let{viewBox}=this;return(0,_util.shadow)(this,`rawDims`,{pageWidth:viewBox[2]-viewBox[0],pageHeight:viewBox[3]-viewBox[1],pageX:viewBox[0],pageY:viewBox[1]})}clone({scale=this.scale,rotation=this.rotation,offsetX=this.offsetX,offsetY=this.offsetY,dontFlip=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale,rotation,offsetX,offsetY,dontFlip})}convertToViewportPoint(x$1,y$2){return _util.Util.applyTransform([x$1,y$2],this.transform)}convertToViewportRectangle(rect){let topLeft=_util.Util.applyTransform([rect[0],rect[1]],this.transform),bottomRight=_util.Util.applyTransform([rect[2],rect[3]],this.transform);return[topLeft[0],topLeft[1],bottomRight[0],bottomRight[1]]}convertToPdfPoint(x$1,y$2){return _util.Util.applyInverseTransform([x$1,y$2],this.transform)}}exports$1.PageViewport=PageViewport;class RenderingCancelledException extends _util.BaseException{constructor(msg,extraDelay=0){super(msg,`RenderingCancelledException`),this.extraDelay=extraDelay}}exports$1.RenderingCancelledException=RenderingCancelledException;function isDataScheme(url){let ii=url.length,i$1=0;for(;i$1<ii&&url[i$1].trim()===``;)i$1++;return url.substring(i$1,i$1+5).toLowerCase()===`data:`}function isPdfFile(filename){return typeof filename==`string`&&/\.pdf$/i.test(filename)}function getFilenameFromUrl(url,onlyStripPath=!1){return onlyStripPath||([url]=url.split(/[#?]/,1)),url.substring(url.lastIndexOf(`/`)+1)}function getPdfFilenameFromUrl(url,defaultFilename=`document.pdf`){if(typeof url!=`string`)return defaultFilename;if(isDataScheme(url))return(0,_util.warn)(`getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.`),defaultFilename;let reURI=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,reFilename=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,splitURI=reURI.exec(url),suggestedFilename=reFilename.exec(splitURI[1])||reFilename.exec(splitURI[2])||reFilename.exec(splitURI[3]);if(suggestedFilename&&(suggestedFilename=suggestedFilename[0],suggestedFilename.includes(`%`)))try{suggestedFilename=reFilename.exec(decodeURIComponent(suggestedFilename))[0]}catch{}return suggestedFilename||defaultFilename}class StatTimer{started=Object.create(null);times=[];time(name){name in this.started&&(0,_util.warn)(`Timer is already running for ${name}`),this.started[name]=Date.now()}timeEnd(name){name in this.started||(0,_util.warn)(`Timer has not been started for ${name}`),this.times.push({name,start:this.started[name],end:Date.now()}),delete this.started[name]}toString(){let outBuf=[],longest=0;for(let{name}of this.times)longest=Math.max(name.length,longest);for(let{name,start,end}of this.times)outBuf.push(`${name.padEnd(longest)} ${end-start}ms\n`);return outBuf.join(``)}}exports$1.StatTimer=StatTimer;function isValidFetchUrl(url,baseUrl){try{let{protocol}=baseUrl?new URL(url,baseUrl):new URL(url);return protocol===`http:`||protocol===`https:`}catch{return!1}}function noContextMenu(e$1){e$1.preventDefault()}function loadScript(src,removeScriptElement=!1){return new Promise((resolve,reject)=>{let script=document.createElement(`script`);script.src=src,script.onload=function(evt){removeScriptElement&&script.remove(),resolve(evt)},script.onerror=function(){reject(Error(`Cannot load script at: ${script.src}`))},(document.head||document.documentElement).append(script)})}function deprecated(details){console.log(`Deprecated API usage: `+details)}let pdfDateStringRegex;class PDFDateString{static toDateObject(input){if(!input||typeof input!=`string`)return null;pdfDateStringRegex||=RegExp(`^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?`);let matches=pdfDateStringRegex.exec(input);if(!matches)return null;let year=parseInt(matches[1],10),month=parseInt(matches[2],10);month=month>=1&&month<=12?month-1:0;let day=parseInt(matches[3],10);day=day>=1&&day<=31?day:1;let hour=parseInt(matches[4],10);hour=hour>=0&&hour<=23?hour:0;let minute=parseInt(matches[5],10);minute=minute>=0&&minute<=59?minute:0;let second=parseInt(matches[6],10);second=second>=0&&second<=59?second:0;let universalTimeRelation=matches[7]||`Z`,offsetHour=parseInt(matches[8],10);offsetHour=offsetHour>=0&&offsetHour<=23?offsetHour:0;let offsetMinute=parseInt(matches[9],10)||0;return offsetMinute=offsetMinute>=0&&offsetMinute<=59?offsetMinute:0,universalTimeRelation===`-`?(hour+=offsetHour,minute+=offsetMinute):universalTimeRelation===`+`&&(hour-=offsetHour,minute-=offsetMinute),new Date(Date.UTC(year,month,day,hour,minute,second))}}exports$1.PDFDateString=PDFDateString;function getXfaPageViewport(xfaPage,{scale=1,rotation=0}){let{width,height}=xfaPage.attributes.style;return new PageViewport({viewBox:[0,0,parseInt(width),parseInt(height)],scale,rotation})}function getRGB(color){if(color.startsWith(`#`)){let colorRGB=parseInt(color.slice(1),16);return[(colorRGB&16711680)>>16,(colorRGB&65280)>>8,colorRGB&255]}return color.startsWith(`rgb(`)?color.slice(4,-1).split(`,`).map(x$1=>parseInt(x$1)):color.startsWith(`rgba(`)?color.slice(5,-1).split(`,`).map(x$1=>parseInt(x$1)).slice(0,3):((0,_util.warn)(`Not a valid color format: "${color}"`),[0,0,0])}function getColorValues(colors){let span=document.createElement(`span`);span.style.visibility=`hidden`,document.body.append(span);for(let name of colors.keys()){span.style.color=name;let computedColor=window.getComputedStyle(span).color;colors.set(name,getRGB(computedColor))}span.remove()}function getCurrentTransform(ctx){let{a:a$2,b:b$2,c:c$3,d:d$2,e:e$1,f:f$2}=ctx.getTransform();return[a$2,b$2,c$3,d$2,e$1,f$2]}function getCurrentTransformInverse(ctx){let{a:a$2,b:b$2,c:c$3,d:d$2,e:e$1,f:f$2}=ctx.getTransform().invertSelf();return[a$2,b$2,c$3,d$2,e$1,f$2]}function setLayerDimensions(div,viewport,mustFlip=!1,mustRotate=!0){if(viewport instanceof PageViewport){let{pageWidth,pageHeight}=viewport.rawDims,{style}=div,useRound=_util.FeatureTest.isCSSRoundSupported,w$1=`var(--scale-factor) * ${pageWidth}px`,h$2=`var(--scale-factor) * ${pageHeight}px`,widthStr=useRound?`round(${w$1}, 1px)`:`calc(${w$1})`,heightStr=useRound?`round(${h$2}, 1px)`:`calc(${h$2})`;!mustFlip||viewport.rotation%180==0?(style.width=widthStr,style.height=heightStr):(style.width=heightStr,style.height=widthStr)}mustRotate&&div.setAttribute(`data-main-rotation`,viewport.rotation)}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.BaseStandardFontDataFactory=exports$1.BaseSVGFactory=exports$1.BaseFilterFactory=exports$1.BaseCanvasFactory=exports$1.BaseCMapReaderFactory=void 0;var _util=__w_pdfjs_require__$1(1);class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&(0,_util.unreachable)(`Cannot initialize BaseFilterFactory.`)}addFilter(maps){return`none`}addHCMFilter(fgColor,bgColor){return`none`}addHighlightHCMFilter(fgColor,bgColor,newFgColor,newBgColor){return`none`}destroy(keepHCM=!1){}}exports$1.BaseFilterFactory=BaseFilterFactory;class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&(0,_util.unreachable)(`Cannot initialize BaseCanvasFactory.`)}create(width,height){if(width<=0||height<=0)throw Error(`Invalid canvas size`);let canvas=this._createCanvas(width,height);return{canvas,context:canvas.getContext(`2d`)}}reset(canvasAndContext,width,height){if(!canvasAndContext.canvas)throw Error(`Canvas is not specified`);if(width<=0||height<=0)throw Error(`Invalid canvas size`);canvasAndContext.canvas.width=width,canvasAndContext.canvas.height=height}destroy(canvasAndContext){if(!canvasAndContext.canvas)throw Error(`Canvas is not specified`);canvasAndContext.canvas.width=0,canvasAndContext.canvas.height=0,canvasAndContext.canvas=null,canvasAndContext.context=null}_createCanvas(width,height){(0,_util.unreachable)("Abstract method `_createCanvas` called.")}}exports$1.BaseCanvasFactory=BaseCanvasFactory;class BaseCMapReaderFactory{constructor({baseUrl=null,isCompressed=!0}){this.constructor===BaseCMapReaderFactory&&(0,_util.unreachable)(`Cannot initialize BaseCMapReaderFactory.`),this.baseUrl=baseUrl,this.isCompressed=isCompressed}async fetch({name}){if(!this.baseUrl)throw Error(`The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.`);if(!name)throw Error(`CMap name must be specified.`);let url=this.baseUrl+name+(this.isCompressed?`.bcmap`:``),compressionType=this.isCompressed?_util.CMapCompressionType.BINARY:_util.CMapCompressionType.NONE;return this._fetchData(url,compressionType).catch(reason=>{throw Error(`Unable to load ${this.isCompressed?`binary `:``}CMap at: ${url}`)})}_fetchData(url,compressionType){(0,_util.unreachable)("Abstract method `_fetchData` called.")}}exports$1.BaseCMapReaderFactory=BaseCMapReaderFactory;class BaseStandardFontDataFactory{constructor({baseUrl=null}){this.constructor===BaseStandardFontDataFactory&&(0,_util.unreachable)(`Cannot initialize BaseStandardFontDataFactory.`),this.baseUrl=baseUrl}async fetch({filename}){if(!this.baseUrl)throw Error(`The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.`);if(!filename)throw Error(`Font filename must be specified.`);let url=`${this.baseUrl}${filename}`;return this._fetchData(url).catch(reason=>{throw Error(`Unable to load font data at: ${url}`)})}_fetchData(url){(0,_util.unreachable)("Abstract method `_fetchData` called.")}}exports$1.BaseStandardFontDataFactory=BaseStandardFontDataFactory;class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&(0,_util.unreachable)(`Cannot initialize BaseSVGFactory.`)}create(width,height,skipDimensions=!1){if(width<=0||height<=0)throw Error(`Invalid SVG dimensions`);let svg=this._createSVG(`svg:svg`);return svg.setAttribute(`version`,`1.1`),skipDimensions||(svg.setAttribute(`width`,`${width}px`),svg.setAttribute(`height`,`${height}px`)),svg.setAttribute(`preserveAspectRatio`,`none`),svg.setAttribute(`viewBox`,`0 0 ${width} ${height}`),svg}createElement(type){if(typeof type!=`string`)throw Error(`Invalid SVG element type`);return this._createSVG(type)}_createSVG(type){(0,_util.unreachable)("Abstract method `_createSVG` called.")}}exports$1.BaseSVGFactory=BaseSVGFactory}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.MurmurHash3_64=void 0;var _util=__w_pdfjs_require__$1(1);let SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(seed){this.h1=seed?seed&4294967295:SEED,this.h2=seed?seed&4294967295:SEED}update(input){let data,length;if(typeof input==`string`){data=new Uint8Array(input.length*2),length=0;for(let i$1=0,ii=input.length;i$1<ii;i$1++){let code=input.charCodeAt(i$1);code<=255?data[length++]=code:(data[length++]=code>>>8,data[length++]=code&255)}}else if((0,_util.isArrayBuffer)(input))data=input.slice(),length=data.byteLength;else throw Error(`Wrong data format in MurmurHash3_64_update. Input must be a string or array.`);let blockCounts=length>>2,tailLength=length-blockCounts*4,dataUint32=new Uint32Array(data.buffer,0,blockCounts),k1=0,k2=0,h1=this.h1,h2=this.h2,C1=3432918353,C2=461845907,C1_LOW=C1&MASK_LOW,C2_LOW=C2&MASK_LOW;for(let i$1=0;i$1<blockCounts;i$1++)i$1&1?(k1=dataUint32[i$1],k1=k1*C1&MASK_HIGH|k1*C1_LOW&MASK_LOW,k1=k1<<15|k1>>>17,k1=k1*C2&MASK_HIGH|k1*C2_LOW&MASK_LOW,h1^=k1,h1=h1<<13|h1>>>19,h1=h1*5+3864292196):(k2=dataUint32[i$1],k2=k2*C1&MASK_HIGH|k2*C1_LOW&MASK_LOW,k2=k2<<15|k2>>>17,k2=k2*C2&MASK_HIGH|k2*C2_LOW&MASK_LOW,h2^=k2,h2=h2<<13|h2>>>19,h2=h2*5+3864292196);switch(k1=0,tailLength){case 3:k1^=data[blockCounts*4+2]<<16;case 2:k1^=data[blockCounts*4+1]<<8;case 1:k1^=data[blockCounts*4],k1=k1*C1&MASK_HIGH|k1*C1_LOW&MASK_LOW,k1=k1<<15|k1>>>17,k1=k1*C2&MASK_HIGH|k1*C2_LOW&MASK_LOW,blockCounts&1?h1^=k1:h2^=k1}this.h1=h1,this.h2=h2}hexdigest(){let h1=this.h1,h2=this.h2;return h1^=h2>>>1,h1=h1*3981806797&MASK_HIGH|h1*36045&MASK_LOW,h2=h2*4283543511&MASK_HIGH|((h2<<16|h1>>>16)*2950163797&MASK_HIGH)>>>16,h1^=h2>>>1,h1=h1*444984403&MASK_HIGH|h1*60499&MASK_LOW,h2=h2*3301882366&MASK_HIGH|((h2<<16|h1>>>16)*3120437893&MASK_HIGH)>>>16,h1^=h2>>>1,(h1>>>0).toString(16).padStart(8,`0`)+(h2>>>0).toString(16).padStart(8,`0`)}}exports$1.MurmurHash3_64=MurmurHash3_64}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.FontLoader=exports$1.FontFaceObject=void 0;var _util=__w_pdfjs_require__$1(1);class FontLoader{#e=new Set;constructor({ownerDocument=globalThis.document,styleElement=null}){this._document=ownerDocument,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(nativeFontFace){this.nativeFontFaces.add(nativeFontFace),this._document.fonts.add(nativeFontFace)}removeNativeFontFace(nativeFontFace){this.nativeFontFaces.delete(nativeFontFace),this._document.fonts.delete(nativeFontFace)}insertRule(rule){this.styleElement||(this.styleElement=this._document.createElement(`style`),this._document.documentElement.getElementsByTagName(`head`)[0].append(this.styleElement));let styleSheet=this.styleElement.sheet;styleSheet.insertRule(rule,styleSheet.cssRules.length)}clear(){for(let nativeFontFace of this.nativeFontFaces)this._document.fonts.delete(nativeFontFace);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&=(this.styleElement.remove(),null)}async loadSystemFont(info){if(!(!info||this.#e.has(info.loadedName))){if((0,_util.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName,src,style}=info,fontFace=new FontFace(loadedName,src,style);this.addNativeFontFace(fontFace);try{await fontFace.load(),this.#e.add(loadedName)}catch{(0,_util.warn)(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(fontFace)}return}(0,_util.unreachable)(`Not implemented: loadSystemFont without the Font Loading API.`)}}async bind(font){if(font.attached||font.missingFile&&!font.systemFontInfo)return;if(font.attached=!0,font.systemFontInfo){await this.loadSystemFont(font.systemFontInfo);return}if(this.isFontLoadingAPISupported){let nativeFontFace=font.createNativeFontFace();if(nativeFontFace){this.addNativeFontFace(nativeFontFace);try{await nativeFontFace.loaded}catch(ex){throw(0,_util.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`),font.disableFontFace=!0,ex}}return}let rule=font.createFontFaceRule();if(rule){if(this.insertRule(rule),this.isSyncFontLoadingSupported)return;await new Promise(resolve=>{let request=this._queueLoadingCallback(resolve);this._prepareFontLoadEvent(font,request)})}}get isFontLoadingAPISupported(){let hasFonts=!!this._document?.fonts;return(0,_util.shadow)(this,`isFontLoadingAPISupported`,hasFonts)}get isSyncFontLoadingSupported(){let supported=!1;return(_util.isNodeJS||typeof navigator<`u`&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(supported=!0),(0,_util.shadow)(this,`isSyncFontLoadingSupported`,supported)}_queueLoadingCallback(callback){function completeRequest(){for((0,_util.assert)(!request.done,`completeRequest() cannot be called twice.`),request.done=!0;loadingRequests.length>0&&loadingRequests[0].done;){let otherRequest=loadingRequests.shift();setTimeout(otherRequest.callback,0)}}let{loadingRequests}=this,request={done:!1,complete:completeRequest,callback};return loadingRequests.push(request),request}get _loadTestFont(){let testFont=atob(`T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==`);return(0,_util.shadow)(this,`_loadTestFont`,testFont)}_prepareFontLoadEvent(font,request){function int32(data$1,offset){return data$1.charCodeAt(offset)<<24|data$1.charCodeAt(offset+1)<<16|data$1.charCodeAt(offset+2)<<8|data$1.charCodeAt(offset+3)&255}function spliceString(s$1,offset,remove,insert){let chunk1=s$1.substring(0,offset),chunk2=s$1.substring(offset+remove);return chunk1+insert+chunk2}let i$1,ii,canvas=this._document.createElement(`canvas`);canvas.width=1,canvas.height=1;let ctx=canvas.getContext(`2d`),called=0;function isFontReady(name,callback){if(++called>30){(0,_util.warn)(`Load test font never loaded.`),callback();return}if(ctx.font=`30px `+name,ctx.fillText(`.`,0,20),ctx.getImageData(0,0,1,1).data[3]>0){callback();return}setTimeout(isFontReady.bind(null,name,callback))}let loadTestFontId=`lt${Date.now()}${this.loadTestFontId++}`,data=this._loadTestFont;data=spliceString(data,976,loadTestFontId.length,loadTestFontId);let CFF_CHECKSUM_OFFSET=16,XXXX_VALUE=1482184792,checksum=int32(data,16);for(i$1=0,ii=loadTestFontId.length-3;i$1<ii;i$1+=4)checksum=checksum-XXXX_VALUE+int32(loadTestFontId,i$1)|0;i$1<loadTestFontId.length&&(checksum=checksum-XXXX_VALUE+int32(loadTestFontId+`XXX`,i$1)|0),data=spliceString(data,16,4,(0,_util.string32)(checksum));let rule=`@font-face {font-family:"${loadTestFontId}";src:${`url(data:font/opentype;base64,${btoa(data)});`}}`;this.insertRule(rule);let div=this._document.createElement(`div`);div.style.visibility=`hidden`,div.style.width=div.style.height=`10px`,div.style.position=`absolute`,div.style.top=div.style.left=`0px`;for(let name of[font.loadedName,loadTestFontId]){let span=this._document.createElement(`span`);span.textContent=`Hi`,span.style.fontFamily=name,div.append(span)}this._document.body.append(div),isFontReady(loadTestFontId,()=>{div.remove(),request.complete()})}}exports$1.FontLoader=FontLoader;class FontFaceObject{constructor(translatedData,{isEvalSupported=!0,disableFontFace=!1,ignoreErrors=!1,inspectFont=null}){for(let i$1 in this.compiledGlyphs=Object.create(null),translatedData)this[i$1]=translatedData[i$1];this.isEvalSupported=isEvalSupported!==!1,this.disableFontFace=disableFontFace===!0,this.ignoreErrors=ignoreErrors===!0,this._inspectFont=inspectFont}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let nativeFontFace;if(!this.cssFontInfo)nativeFontFace=new FontFace(this.loadedName,this.data,{});else{let css={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(css.style=`oblique ${this.cssFontInfo.italicAngle}deg`),nativeFontFace=new FontFace(this.cssFontInfo.fontFamily,this.data,css)}return this._inspectFont?.(this),nativeFontFace}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let data=(0,_util.bytesToString)(this.data),url=`url(data:${this.mimetype};base64,${btoa(data)});`,rule;if(!this.cssFontInfo)rule=`@font-face {font-family:"${this.loadedName}";src:${url}}`;else{let css=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(css+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),rule=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${css}src:${url}}`}return this._inspectFont?.(this,url),rule}getPathGenerator(objs,character){if(this.compiledGlyphs[character]!==void 0)return this.compiledGlyphs[character];let cmds;try{cmds=objs.get(this.loadedName+`_path_`+character)}catch(ex){if(!this.ignoreErrors)throw ex;return(0,_util.warn)(`getPathGenerator - ignoring character: "${ex}".`),this.compiledGlyphs[character]=function(c$3,size){}}if(this.isEvalSupported&&_util.FeatureTest.isEvalSupported){let jsBuf=[];for(let current of cmds){let args=current.args===void 0?``:current.args.join(`,`);jsBuf.push(`c.`,current.cmd,`(`,args,`);
`)}return this.compiledGlyphs[character]=Function(`c`,`size`,jsBuf.join(``))}return this.compiledGlyphs[character]=function(c$3,size){for(let current of cmds)current.cmd===`scale`&&(current.args=[size,-size]),c$3[current.cmd].apply(c$3,current.args)}}}exports$1.FontFaceObject=FontFaceObject}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.NodeStandardFontDataFactory=exports$1.NodeFilterFactory=exports$1.NodeCanvasFactory=exports$1.NodeCMapReaderFactory=void 0;var _base_factory=__w_pdfjs_require__$1(7),_util=__w_pdfjs_require__$1(1);let fetchData=function(url){return new Promise((resolve,reject)=>{require___vite_browser_external().readFile(url,(error,data)=>{if(error||!data){reject(Error(error));return}resolve(new Uint8Array(data))})})};class NodeFilterFactory extends _base_factory.BaseFilterFactory{}exports$1.NodeFilterFactory=NodeFilterFactory;class NodeCanvasFactory extends _base_factory.BaseCanvasFactory{_createCanvas(width,height){return require___vite_browser_external().createCanvas(width,height)}}exports$1.NodeCanvasFactory=NodeCanvasFactory;class NodeCMapReaderFactory extends _base_factory.BaseCMapReaderFactory{_fetchData(url,compressionType){return fetchData(url).then(data=>({cMapData:data,compressionType}))}}exports$1.NodeCMapReaderFactory=NodeCMapReaderFactory;class NodeStandardFontDataFactory extends _base_factory.BaseStandardFontDataFactory{_fetchData(url){return fetchData(url)}}exports$1.NodeStandardFontDataFactory=NodeStandardFontDataFactory}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.CanvasGraphics=void 0;var _util=__w_pdfjs_require__$1(1),_display_utils=__w_pdfjs_require__$1(6),_pattern_helper=__w_pdfjs_require__$1(12),_image_utils=__w_pdfjs_require__$1(13);let MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,MAX_GROUP_SIZE=4096,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(ctx,destCtx){if(ctx._removeMirroring)throw Error(`Context is already forwarding operations.`);ctx.__originalSave=ctx.save,ctx.__originalRestore=ctx.restore,ctx.__originalRotate=ctx.rotate,ctx.__originalScale=ctx.scale,ctx.__originalTranslate=ctx.translate,ctx.__originalTransform=ctx.transform,ctx.__originalSetTransform=ctx.setTransform,ctx.__originalResetTransform=ctx.resetTransform,ctx.__originalClip=ctx.clip,ctx.__originalMoveTo=ctx.moveTo,ctx.__originalLineTo=ctx.lineTo,ctx.__originalBezierCurveTo=ctx.bezierCurveTo,ctx.__originalRect=ctx.rect,ctx.__originalClosePath=ctx.closePath,ctx.__originalBeginPath=ctx.beginPath,ctx._removeMirroring=()=>{ctx.save=ctx.__originalSave,ctx.restore=ctx.__originalRestore,ctx.rotate=ctx.__originalRotate,ctx.scale=ctx.__originalScale,ctx.translate=ctx.__originalTranslate,ctx.transform=ctx.__originalTransform,ctx.setTransform=ctx.__originalSetTransform,ctx.resetTransform=ctx.__originalResetTransform,ctx.clip=ctx.__originalClip,ctx.moveTo=ctx.__originalMoveTo,ctx.lineTo=ctx.__originalLineTo,ctx.bezierCurveTo=ctx.__originalBezierCurveTo,ctx.rect=ctx.__originalRect,ctx.closePath=ctx.__originalClosePath,ctx.beginPath=ctx.__originalBeginPath,delete ctx._removeMirroring},ctx.save=function(){destCtx.save(),this.__originalSave()},ctx.restore=function(){destCtx.restore(),this.__originalRestore()},ctx.translate=function(x$1,y$2){destCtx.translate(x$1,y$2),this.__originalTranslate(x$1,y$2)},ctx.scale=function(x$1,y$2){destCtx.scale(x$1,y$2),this.__originalScale(x$1,y$2)},ctx.transform=function(a$2,b$2,c$3,d$2,e$1,f$2){destCtx.transform(a$2,b$2,c$3,d$2,e$1,f$2),this.__originalTransform(a$2,b$2,c$3,d$2,e$1,f$2)},ctx.setTransform=function(a$2,b$2,c$3,d$2,e$1,f$2){destCtx.setTransform(a$2,b$2,c$3,d$2,e$1,f$2),this.__originalSetTransform(a$2,b$2,c$3,d$2,e$1,f$2)},ctx.resetTransform=function(){destCtx.resetTransform(),this.__originalResetTransform()},ctx.rotate=function(angle){destCtx.rotate(angle),this.__originalRotate(angle)},ctx.clip=function(rule){destCtx.clip(rule),this.__originalClip(rule)},ctx.moveTo=function(x$1,y$2){destCtx.moveTo(x$1,y$2),this.__originalMoveTo(x$1,y$2)},ctx.lineTo=function(x$1,y$2){destCtx.lineTo(x$1,y$2),this.__originalLineTo(x$1,y$2)},ctx.bezierCurveTo=function(cp1x,cp1y,cp2x,cp2y,x$1,y$2){destCtx.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x$1,y$2),this.__originalBezierCurveTo(cp1x,cp1y,cp2x,cp2y,x$1,y$2)},ctx.rect=function(x$1,y$2,width,height){destCtx.rect(x$1,y$2,width,height),this.__originalRect(x$1,y$2,width,height)},ctx.closePath=function(){destCtx.closePath(),this.__originalClosePath()},ctx.beginPath=function(){destCtx.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(canvasFactory){this.canvasFactory=canvasFactory,this.cache=Object.create(null)}getCanvas(id,width,height){let canvasEntry;return this.cache[id]===void 0?(canvasEntry=this.canvasFactory.create(width,height),this.cache[id]=canvasEntry):(canvasEntry=this.cache[id],this.canvasFactory.reset(canvasEntry,width,height)),canvasEntry}delete(id){delete this.cache[id]}clear(){for(let id in this.cache){let canvasEntry=this.cache[id];this.canvasFactory.destroy(canvasEntry),delete this.cache[id]}}}function drawImageAtIntegerCoords(ctx,srcImg,srcX,srcY,srcW,srcH,destX,destY,destW,destH){let[a$2,b$2,c$3,d$2,tx,ty]=(0,_display_utils.getCurrentTransform)(ctx);if(b$2===0&&c$3===0){let tlX=destX*a$2+tx,rTlX=Math.round(tlX),tlY=destY*d$2+ty,rTlY=Math.round(tlY),brX=(destX+destW)*a$2+tx,rWidth=Math.abs(Math.round(brX)-rTlX)||1,brY=(destY+destH)*d$2+ty,rHeight=Math.abs(Math.round(brY)-rTlY)||1;return ctx.setTransform(Math.sign(a$2),0,0,Math.sign(d$2),rTlX,rTlY),ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,0,0,rWidth,rHeight),ctx.setTransform(a$2,b$2,c$3,d$2,tx,ty),[rWidth,rHeight]}if(a$2===0&&d$2===0){let tlX=destY*c$3+tx,rTlX=Math.round(tlX),tlY=destX*b$2+ty,rTlY=Math.round(tlY),brX=(destY+destH)*c$3+tx,rWidth=Math.abs(Math.round(brX)-rTlX)||1,brY=(destX+destW)*b$2+ty,rHeight=Math.abs(Math.round(brY)-rTlY)||1;return ctx.setTransform(0,Math.sign(b$2),Math.sign(c$3),0,rTlX,rTlY),ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,0,0,rHeight,rWidth),ctx.setTransform(a$2,b$2,c$3,d$2,tx,ty),[rHeight,rWidth]}ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,destX,destY,destW,destH);let scaleX=Math.hypot(a$2,b$2),scaleY=Math.hypot(c$3,d$2);return[scaleX*destW,scaleY*destH]}function compileType3Glyph(imgData){let{width,height}=imgData;if(width>MAX_SIZE_TO_COMPILE||height>MAX_SIZE_TO_COMPILE)return null;let POINT_TO_PROCESS_LIMIT=1e3,POINT_TYPES=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),width1=width+1,points=new Uint8Array(width1*(height+1)),i$1,j$1,j0,lineSize=width+7&-8,data=new Uint8Array(lineSize*height),pos=0;for(let elem of imgData.data){let mask=128;for(;mask>0;)data[pos++]=elem&mask?0:255,mask>>=1}let count=0;for(pos=0,data[pos]!==0&&(points[0]=1,++count),j$1=1;j$1<width;j$1++)data[pos]!==data[pos+1]&&(points[j$1]=data[pos]?2:1,++count),pos++;for(data[pos]!==0&&(points[j$1]=2,++count),i$1=1;i$1<height;i$1++){pos=i$1*lineSize,j0=i$1*width1,data[pos-lineSize]!==data[pos]&&(points[j0]=data[pos]?1:8,++count);let sum=(data[pos]?4:0)+(data[pos-lineSize]?8:0);for(j$1=1;j$1<width;j$1++)sum=(sum>>2)+(data[pos+1]?4:0)+(data[pos-lineSize+1]?8:0),POINT_TYPES[sum]&&(points[j0+j$1]=POINT_TYPES[sum],++count),pos++;if(data[pos-lineSize]!==data[pos]&&(points[j0+j$1]=data[pos]?2:4,++count),count>POINT_TO_PROCESS_LIMIT)return null}for(pos=lineSize*(height-1),j0=i$1*width1,data[pos]!==0&&(points[j0]=8,++count),j$1=1;j$1<width;j$1++)data[pos]!==data[pos+1]&&(points[j0+j$1]=data[pos]?4:8,++count),pos++;if(data[pos]!==0&&(points[j0+j$1]=4,++count),count>POINT_TO_PROCESS_LIMIT)return null;let steps=new Int32Array([0,width1,-1,0,-width1,0,0,0,1]),path=new Path2D;for(i$1=0;count&&i$1<=height;i$1++){let p$2=i$1*width1,end=p$2+width;for(;p$2<end&&!points[p$2];)p$2++;if(p$2===end)continue;path.moveTo(p$2%width1,i$1);let p0=p$2,type=points[p$2];do{let step=steps[type];do p$2+=step;while(!points[p$2]);let pp=points[p$2];pp!==5&&pp!==10?(type=pp,points[p$2]=0):(type=pp&51*type>>4,points[p$2]&=type>>2|type<<2),path.lineTo(p$2%width1,p$2/width1|0),points[p$2]||--count}while(p0!==p$2);--i$1}return data=null,points=null,function(c$3){c$3.save(),c$3.scale(1/width,-1/height),c$3.translate(0,-height),c$3.fill(path),c$3.beginPath(),c$3.restore()}}class CanvasExtraState{constructor(width,height){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_util.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textRise=0,this.fillColor=`#000000`,this.strokeColor=`#000000`,this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=`none`,this.startNewPathAndClipBox([0,0,width,height])}clone(){let clone$1=Object.create(this);return clone$1.clipBox=this.clipBox.slice(),clone$1}setCurrentPoint(x$1,y$2){this.x=x$1,this.y=y$2}updatePathMinMax(transform$1,x$1,y$2){[x$1,y$2]=_util.Util.applyTransform([x$1,y$2],transform$1),this.minX=Math.min(this.minX,x$1),this.minY=Math.min(this.minY,y$2),this.maxX=Math.max(this.maxX,x$1),this.maxY=Math.max(this.maxY,y$2)}updateRectMinMax(transform$1,rect){let p1=_util.Util.applyTransform(rect,transform$1),p2=_util.Util.applyTransform(rect.slice(2),transform$1);this.minX=Math.min(this.minX,p1[0],p2[0]),this.minY=Math.min(this.minY,p1[1],p2[1]),this.maxX=Math.max(this.maxX,p1[0],p2[0]),this.maxY=Math.max(this.maxY,p1[1],p2[1])}updateScalingPathMinMax(transform$1,minMax){_util.Util.scaleMinMax(transform$1,minMax),this.minX=Math.min(this.minX,minMax[0]),this.maxX=Math.max(this.maxX,minMax[1]),this.minY=Math.min(this.minY,minMax[2]),this.maxY=Math.max(this.maxY,minMax[3])}updateCurvePathMinMax(transform$1,x0,y0,x1,y1,x2,y2,x3,y3,minMax){let box=_util.Util.bezierBoundingBox(x0,y0,x1,y1,x2,y2,x3,y3);if(minMax){minMax[0]=Math.min(minMax[0],box[0],box[2]),minMax[1]=Math.max(minMax[1],box[0],box[2]),minMax[2]=Math.min(minMax[2],box[1],box[3]),minMax[3]=Math.max(minMax[3],box[1],box[3]);return}this.updateRectMinMax(transform$1,box)}getPathBoundingBox(pathType=_pattern_helper.PathType.FILL,transform$1=null){let box=[this.minX,this.minY,this.maxX,this.maxY];if(pathType===_pattern_helper.PathType.STROKE){transform$1||(0,_util.unreachable)(`Stroke bounding box must include transform.`);let scale=_util.Util.singularValueDecompose2dScale(transform$1),xStrokePad=scale[0]*this.lineWidth/2,yStrokePad=scale[1]*this.lineWidth/2;box[0]-=xStrokePad,box[1]-=yStrokePad,box[2]+=xStrokePad,box[3]+=yStrokePad}return box}updateClipFromPath(){let intersect=_util.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(intersect||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(box){this.clipBox=box,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(pathType=_pattern_helper.PathType.FILL,transform$1=null){return _util.Util.intersect(this.clipBox,this.getPathBoundingBox(pathType,transform$1))}}function putBinaryImageData(ctx,imgData){if(typeof ImageData<`u`&&imgData instanceof ImageData){ctx.putImageData(imgData,0,0);return}let height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=partialChunkHeight===0?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,16),srcPos=0,destPos,src=imgData.data,dest=chunkImgData.data,i$1,j$1,thisChunkHeight,elemsInThisChunk;if(imgData.kind===_util.ImageKind.GRAYSCALE_1BPP){let srcLength=src.byteLength,dest32=new Uint32Array(dest.buffer,0,dest.byteLength>>2),dest32DataLength=dest32.length,fullSrcDiff=width+7>>3,white=4294967295,black=_util.FeatureTest.isLittleEndian?4278190080:255;for(i$1=0;i$1<totalChunks;i$1++){for(thisChunkHeight=i$1<fullChunks?16:partialChunkHeight,destPos=0,j$1=0;j$1<thisChunkHeight;j$1++){let srcDiff=srcLength-srcPos,k$1=0,kEnd=srcDiff>fullSrcDiff?width:srcDiff*8-7,kEndUnrolled=kEnd&-8,mask=0,srcByte=0;for(;k$1<kEndUnrolled;k$1+=8)srcByte=src[srcPos++],dest32[destPos++]=srcByte&128?white:black,dest32[destPos++]=srcByte&64?white:black,dest32[destPos++]=srcByte&32?white:black,dest32[destPos++]=srcByte&16?white:black,dest32[destPos++]=srcByte&8?white:black,dest32[destPos++]=srcByte&4?white:black,dest32[destPos++]=srcByte&2?white:black,dest32[destPos++]=srcByte&1?white:black;for(;k$1<kEnd;k$1++)mask===0&&(srcByte=src[srcPos++],mask=128),dest32[destPos++]=srcByte&mask?white:black,mask>>=1}for(;destPos<dest32DataLength;)dest32[destPos++]=0;ctx.putImageData(chunkImgData,0,i$1*16)}}else if(imgData.kind===_util.ImageKind.RGBA_32BPP){for(j$1=0,elemsInThisChunk=width*16*4,i$1=0;i$1<fullChunks;i$1++)dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),srcPos+=elemsInThisChunk,ctx.putImageData(chunkImgData,0,j$1),j$1+=16;i$1<totalChunks&&(elemsInThisChunk=width*partialChunkHeight*4,dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),ctx.putImageData(chunkImgData,0,j$1))}else if(imgData.kind===_util.ImageKind.RGB_24BPP)for(thisChunkHeight=16,elemsInThisChunk=width*thisChunkHeight,i$1=0;i$1<totalChunks;i$1++){for(i$1>=fullChunks&&(thisChunkHeight=partialChunkHeight,elemsInThisChunk=width*thisChunkHeight),destPos=0,j$1=elemsInThisChunk;j$1--;)dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=255;ctx.putImageData(chunkImgData,0,i$1*16)}else throw Error(`bad image kind: ${imgData.kind}`)}function putBinaryImageMask(ctx,imgData){if(imgData.bitmap){ctx.drawImage(imgData.bitmap,0,0);return}let height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=partialChunkHeight===0?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,16),srcPos=0,src=imgData.data,dest=chunkImgData.data;for(let i$1=0;i$1<totalChunks;i$1++){let thisChunkHeight=i$1<fullChunks?16:partialChunkHeight;({srcPos}=(0,_image_utils.convertBlackAndWhiteToRGBA)({src,srcPos,dest,width,height:thisChunkHeight,nonBlackColor:0})),ctx.putImageData(chunkImgData,0,i$1*16)}}function copyCtxState(sourceCtx,destCtx){for(let property of[`strokeStyle`,`fillStyle`,`fillRule`,`globalAlpha`,`lineWidth`,`lineCap`,`lineJoin`,`miterLimit`,`globalCompositeOperation`,`font`,`filter`])sourceCtx[property]!==void 0&&(destCtx[property]=sourceCtx[property]);sourceCtx.setLineDash!==void 0&&(destCtx.setLineDash(sourceCtx.getLineDash()),destCtx.lineDashOffset=sourceCtx.lineDashOffset)}function resetCtxToDefault(ctx){if(ctx.strokeStyle=ctx.fillStyle=`#000000`,ctx.fillRule=`nonzero`,ctx.globalAlpha=1,ctx.lineWidth=1,ctx.lineCap=`butt`,ctx.lineJoin=`miter`,ctx.miterLimit=10,ctx.globalCompositeOperation=`source-over`,ctx.font=`10px sans-serif`,ctx.setLineDash!==void 0&&(ctx.setLineDash([]),ctx.lineDashOffset=0),!_util.isNodeJS){let{filter}=ctx;filter!==`none`&&filter!==``&&(ctx.filter=`none`)}}function composeSMaskBackdrop(bytes,r0,g0,b0){let length=bytes.length;for(let i$1=3;i$1<length;i$1+=4){let alpha=bytes[i$1];if(alpha===0)bytes[i$1-3]=r0,bytes[i$1-2]=g0,bytes[i$1-1]=b0;else if(alpha<255){let alpha_=255-alpha;bytes[i$1-3]=bytes[i$1-3]*alpha+r0*alpha_>>8,bytes[i$1-2]=bytes[i$1-2]*alpha+g0*alpha_>>8,bytes[i$1-1]=bytes[i$1-1]*alpha+b0*alpha_>>8}}}function composeSMaskAlpha(maskData,layerData,transferMap){let length=maskData.length,scale=1/255;for(let i$1=3;i$1<length;i$1+=4){let alpha=transferMap?transferMap[maskData[i$1]]:maskData[i$1];layerData[i$1]=layerData[i$1]*alpha*.00392156862745098|0}}function composeSMaskLuminosity(maskData,layerData,transferMap){let length=maskData.length;for(let i$1=3;i$1<length;i$1+=4){let y$2=maskData[i$1-3]*77+maskData[i$1-2]*152+maskData[i$1-1]*28;layerData[i$1]=transferMap?layerData[i$1]*transferMap[y$2>>8]>>8:layerData[i$1]*y$2>>16}}function genericComposeSMask(maskCtx,layerCtx,width,height,subtype,backdrop,transferMap,layerOffsetX,layerOffsetY,maskOffsetX,maskOffsetY){let hasBackdrop=!!backdrop,r0=hasBackdrop?backdrop[0]:0,g0=hasBackdrop?backdrop[1]:0,b0=hasBackdrop?backdrop[2]:0,composeFn=subtype===`Luminosity`?composeSMaskLuminosity:composeSMaskAlpha,chunkSize=Math.min(height,Math.ceil(1048576/width));for(let row=0;row<height;row+=chunkSize){let chunkHeight=Math.min(chunkSize,height-row),maskData=maskCtx.getImageData(layerOffsetX-maskOffsetX,row+(layerOffsetY-maskOffsetY),width,chunkHeight),layerData=layerCtx.getImageData(layerOffsetX,row+layerOffsetY,width,chunkHeight);hasBackdrop&&composeSMaskBackdrop(maskData.data,r0,g0,b0),composeFn(maskData.data,layerData.data,transferMap),layerCtx.putImageData(layerData,layerOffsetX,row+layerOffsetY)}}function composeSMask(ctx,smask,layerCtx,layerBox){let layerOffsetX=layerBox[0],layerOffsetY=layerBox[1],layerWidth=layerBox[2]-layerOffsetX,layerHeight=layerBox[3]-layerOffsetY;layerWidth===0||layerHeight===0||(genericComposeSMask(smask.context,layerCtx,layerWidth,layerHeight,smask.subtype,smask.backdrop,smask.transferMap,layerOffsetX,layerOffsetY,smask.offsetX,smask.offsetY),ctx.save(),ctx.globalAlpha=1,ctx.globalCompositeOperation=`source-over`,ctx.setTransform(1,0,0,1,0,0),ctx.drawImage(layerCtx.canvas,0,0),ctx.restore())}function getImageSmoothingEnabled(transform$1,interpolate){let scale=_util.Util.singularValueDecompose2dScale(transform$1);scale[0]=Math.fround(scale[0]),scale[1]=Math.fround(scale[1]);let actualScale=Math.fround((globalThis.devicePixelRatio||1)*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);return interpolate===void 0?scale[0]<=actualScale||scale[1]<=actualScale:interpolate}let LINE_CAP_STYLES=[`butt`,`round`,`square`],LINE_JOIN_STYLES=[`miter`,`round`,`bevel`],NORMAL_CLIP={},EO_CLIP={};class CanvasGraphics{constructor(canvasCtx,commonObjs,objs,canvasFactory,filterFactory,{optionalContentConfig,markedContentStack=null},annotationCanvasMap,pageColors){this.ctx=canvasCtx,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=commonObjs,this.objs=objs,this.canvasFactory=canvasFactory,this.filterFactory=filterFactory,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=markedContentStack||[],this.optionalContentConfig=optionalContentConfig,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=annotationCanvasMap,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=pageColors,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(data,fallback=null){return typeof data==`string`?data.startsWith(`g_`)?this.commonObjs.get(data):this.objs.get(data):fallback}beginDrawing({transform:transform$1,viewport,transparency=!1,background=null}){let width=this.ctx.canvas.width,height=this.ctx.canvas.height,savedFillStyle=this.ctx.fillStyle;if(this.ctx.fillStyle=background||`#ffffff`,this.ctx.fillRect(0,0,width,height),this.ctx.fillStyle=savedFillStyle,transparency){let transparentCanvas=this.cachedCanvases.getCanvas(`transparent`,width,height);this.compositeCtx=this.ctx,this.transparentCanvas=transparentCanvas.canvas,this.ctx=transparentCanvas.context,this.ctx.save(),this.ctx.transform(...(0,_display_utils.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),transform$1&&(this.ctx.transform(...transform$1),this.outputScaleX=transform$1[0],this.outputScaleY=transform$1[0]),this.ctx.transform(...viewport.transform),this.viewportScale=viewport.scale,this.baseTransform=(0,_display_utils.getCurrentTransform)(this.ctx)}executeOperatorList(operatorList,executionStartIdx,continueCallback,stepper){let argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,i$1=executionStartIdx||0,argsArrayLen=argsArray.length;if(argsArrayLen===i$1)return i$1;let chunkOperations=argsArrayLen-i$1>10&&typeof continueCallback==`function`,endTime=chunkOperations?Date.now()+15:0,steps=0,commonObjs=this.commonObjs,objs=this.objs,fnId;for(;;){if(stepper!==void 0&&i$1===stepper.nextBreakPoint)return stepper.breakIt(i$1,continueCallback),i$1;if(fnId=fnArray[i$1],fnId!==_util.OPS.dependency)this[fnId].apply(this,argsArray[i$1]);else for(let depObjId of argsArray[i$1]){let objsPool=depObjId.startsWith(`g_`)?commonObjs:objs;if(!objsPool.has(depObjId))return objsPool.get(depObjId,continueCallback),i$1}if(i$1++,i$1===argsArrayLen)return i$1;if(chunkOperations&&++steps>10){if(Date.now()>endTime)return continueCallback(),i$1;steps=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&=(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let cache of this._cachedBitmapsMap.values()){for(let canvas of cache.values())typeof HTMLCanvasElement<`u`&&canvas instanceof HTMLCanvasElement&&(canvas.width=canvas.height=0);cache.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let hcmFilterId=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(hcmFilterId!==`none`){let savedFilter=this.ctx.filter;this.ctx.filter=hcmFilterId,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=savedFilter}}}_scaleImage(img,inverseTransform){let width=img.width,height=img.height,widthScale=Math.max(Math.hypot(inverseTransform[0],inverseTransform[1]),1),heightScale=Math.max(Math.hypot(inverseTransform[2],inverseTransform[3]),1),paintWidth=width,paintHeight=height,tmpCanvasId=`prescale1`,tmpCanvas,tmpCtx;for(;widthScale>2&&paintWidth>1||heightScale>2&&paintHeight>1;){let newWidth=paintWidth,newHeight=paintHeight;widthScale>2&&paintWidth>1&&(newWidth=paintWidth>=16384?Math.floor(paintWidth/2)-1||1:Math.ceil(paintWidth/2),widthScale/=paintWidth/newWidth),heightScale>2&&paintHeight>1&&(newHeight=paintHeight>=16384?Math.floor(paintHeight/2)-1||1:Math.ceil(paintHeight)/2,heightScale/=paintHeight/newHeight),tmpCanvas=this.cachedCanvases.getCanvas(tmpCanvasId,newWidth,newHeight),tmpCtx=tmpCanvas.context,tmpCtx.clearRect(0,0,newWidth,newHeight),tmpCtx.drawImage(img,0,0,paintWidth,paintHeight,0,0,newWidth,newHeight),img=tmpCanvas.canvas,paintWidth=newWidth,paintHeight=newHeight,tmpCanvasId=tmpCanvasId===`prescale1`?`prescale2`:`prescale1`}return{img,paintWidth,paintHeight}}_createMaskCanvas(img){let ctx=this.ctx,{width,height}=img,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,currentTransform=(0,_display_utils.getCurrentTransform)(ctx),cache,cacheKey,scaled,maskCanvas;if((img.bitmap||img.data)&&img.count>1){let mainKey=img.bitmap||img.data.buffer;cacheKey=JSON.stringify(isPatternFill?currentTransform:[currentTransform.slice(0,4),fillColor]),cache=this._cachedBitmapsMap.get(mainKey),cache||(cache=new Map,this._cachedBitmapsMap.set(mainKey,cache));let cachedImage=cache.get(cacheKey);if(cachedImage&&!isPatternFill)return{canvas:cachedImage,offsetX:Math.round(Math.min(currentTransform[0],currentTransform[2])+currentTransform[4]),offsetY:Math.round(Math.min(currentTransform[1],currentTransform[3])+currentTransform[5])};scaled=cachedImage}scaled||(maskCanvas=this.cachedCanvases.getCanvas(`maskCanvas`,width,height),putBinaryImageMask(maskCanvas.context,img));let maskToCanvas=_util.Util.transform(currentTransform,[1/width,0,0,-1/height,0,0]);maskToCanvas=_util.Util.transform(maskToCanvas,[1,0,0,1,0,-height]);let cord1=_util.Util.applyTransform([0,0],maskToCanvas),cord2=_util.Util.applyTransform([width,height],maskToCanvas),rect=_util.Util.normalizeRect([cord1[0],cord1[1],cord2[0],cord2[1]]),drawnWidth=Math.round(rect[2]-rect[0])||1,drawnHeight=Math.round(rect[3]-rect[1])||1,fillCanvas=this.cachedCanvases.getCanvas(`fillCanvas`,drawnWidth,drawnHeight),fillCtx=fillCanvas.context,offsetX=Math.min(cord1[0],cord2[0]),offsetY=Math.min(cord1[1],cord2[1]);fillCtx.translate(-offsetX,-offsetY),fillCtx.transform(...maskToCanvas),scaled||(scaled=this._scaleImage(maskCanvas.canvas,(0,_display_utils.getCurrentTransformInverse)(fillCtx)),scaled=scaled.img,cache&&isPatternFill&&cache.set(cacheKey,scaled)),fillCtx.imageSmoothingEnabled=getImageSmoothingEnabled((0,_display_utils.getCurrentTransform)(fillCtx),img.interpolate),drawImageAtIntegerCoords(fillCtx,scaled,0,0,scaled.width,scaled.height,0,0,width,height),fillCtx.globalCompositeOperation=`source-in`;let inverse=_util.Util.transform((0,_display_utils.getCurrentTransformInverse)(fillCtx),[1,0,0,1,-offsetX,-offsetY]);return fillCtx.fillStyle=isPatternFill?fillColor.getPattern(ctx,this,inverse,_pattern_helper.PathType.FILL):fillColor,fillCtx.fillRect(0,0,width,height),cache&&!isPatternFill&&(this.cachedCanvases.delete(`fillCanvas`),cache.set(cacheKey,fillCanvas.canvas)),{canvas:fillCanvas.canvas,offsetX:Math.round(offsetX),offsetY:Math.round(offsetY)}}setLineWidth(width){width!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=width,this.ctx.lineWidth=width}setLineCap(style){this.ctx.lineCap=LINE_CAP_STYLES[style]}setLineJoin(style){this.ctx.lineJoin=LINE_JOIN_STYLES[style]}setMiterLimit(limit){this.ctx.miterLimit=limit}setDash(dashArray,dashPhase){let ctx=this.ctx;ctx.setLineDash!==void 0&&(ctx.setLineDash(dashArray),ctx.lineDashOffset=dashPhase)}setRenderingIntent(intent){}setFlatness(flatness){}setGState(states){for(let[key,value]of states)switch(key){case`LW`:this.setLineWidth(value);break;case`LC`:this.setLineCap(value);break;case`LJ`:this.setLineJoin(value);break;case`ML`:this.setMiterLimit(value);break;case`D`:this.setDash(value[0],value[1]);break;case`RI`:this.setRenderingIntent(value);break;case`FL`:this.setFlatness(value);break;case`Font`:this.setFont(value[0],value[1]);break;case`CA`:this.current.strokeAlpha=value;break;case`ca`:this.current.fillAlpha=value,this.ctx.globalAlpha=value;break;case`BM`:this.ctx.globalCompositeOperation=value;break;case`SMask`:this.current.activeSMask=value?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case`TR`:this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(value);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let inSMaskMode=this.inSMaskMode;this.current.activeSMask&&!inSMaskMode?this.beginSMaskMode():!this.current.activeSMask&&inSMaskMode&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw Error(`beginSMaskMode called while already in smask mode`);let drawnWidth=this.ctx.canvas.width,drawnHeight=this.ctx.canvas.height,cacheId=`smaskGroupAt`+this.groupLevel,scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight);this.suspendedCtx=this.ctx,this.ctx=scratchCanvas.context;let ctx=this.ctx;ctx.setTransform(...(0,_display_utils.getCurrentTransform)(this.suspendedCtx)),copyCtxState(this.suspendedCtx,ctx),mirrorContextOperations(ctx,this.suspendedCtx),this.setGState([[`BM`,`source-over`],[`ca`,1],[`CA`,1]])}endSMaskMode(){if(!this.inSMaskMode)throw Error(`endSMaskMode called while not in smask mode`);this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(dirtyBox){if(!this.current.activeSMask)return;dirtyBox?(dirtyBox[0]=Math.floor(dirtyBox[0]),dirtyBox[1]=Math.floor(dirtyBox[1]),dirtyBox[2]=Math.ceil(dirtyBox[2]),dirtyBox[3]=Math.ceil(dirtyBox[3])):dirtyBox=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let smask=this.current.activeSMask,suspendedCtx=this.suspendedCtx;composeSMask(suspendedCtx,smask,this.ctx,dirtyBox),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let old=this.current;this.stateStack.push(old),this.current=old.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(a$2,b$2,c$3,d$2,e$1,f$2){this.ctx.transform(a$2,b$2,c$3,d$2,e$1,f$2),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ops,args,minMax){let ctx=this.ctx,current=this.current,x$1=current.x,y$2=current.y,startX,startY,currentTransform=(0,_display_utils.getCurrentTransform)(ctx),isScalingMatrix=currentTransform[0]===0&&currentTransform[3]===0||currentTransform[1]===0&&currentTransform[2]===0,minMaxForBezier=isScalingMatrix?minMax.slice(0):null;for(let i$1=0,j$1=0,ii=ops.length;i$1<ii;i$1++)switch(ops[i$1]|0){case _util.OPS.rectangle:x$1=args[j$1++],y$2=args[j$1++];let width=args[j$1++],height=args[j$1++],xw=x$1+width,yh=y$2+height;ctx.moveTo(x$1,y$2),width===0||height===0?ctx.lineTo(xw,yh):(ctx.lineTo(xw,y$2),ctx.lineTo(xw,yh),ctx.lineTo(x$1,yh)),isScalingMatrix||current.updateRectMinMax(currentTransform,[x$1,y$2,xw,yh]),ctx.closePath();break;case _util.OPS.moveTo:x$1=args[j$1++],y$2=args[j$1++],ctx.moveTo(x$1,y$2),isScalingMatrix||current.updatePathMinMax(currentTransform,x$1,y$2);break;case _util.OPS.lineTo:x$1=args[j$1++],y$2=args[j$1++],ctx.lineTo(x$1,y$2),isScalingMatrix||current.updatePathMinMax(currentTransform,x$1,y$2);break;case _util.OPS.curveTo:startX=x$1,startY=y$2,x$1=args[j$1+4],y$2=args[j$1+5],ctx.bezierCurveTo(args[j$1],args[j$1+1],args[j$1+2],args[j$1+3],x$1,y$2),current.updateCurvePathMinMax(currentTransform,startX,startY,args[j$1],args[j$1+1],args[j$1+2],args[j$1+3],x$1,y$2,minMaxForBezier),j$1+=6;break;case _util.OPS.curveTo2:startX=x$1,startY=y$2,ctx.bezierCurveTo(x$1,y$2,args[j$1],args[j$1+1],args[j$1+2],args[j$1+3]),current.updateCurvePathMinMax(currentTransform,startX,startY,x$1,y$2,args[j$1],args[j$1+1],args[j$1+2],args[j$1+3],minMaxForBezier),x$1=args[j$1+2],y$2=args[j$1+3],j$1+=4;break;case _util.OPS.curveTo3:startX=x$1,startY=y$2,x$1=args[j$1+2],y$2=args[j$1+3],ctx.bezierCurveTo(args[j$1],args[j$1+1],x$1,y$2,x$1,y$2),current.updateCurvePathMinMax(currentTransform,startX,startY,args[j$1],args[j$1+1],x$1,y$2,x$1,y$2,minMaxForBezier),j$1+=4;break;case _util.OPS.closePath:ctx.closePath();break}isScalingMatrix&&current.updateScalingPathMinMax(currentTransform,minMaxForBezier),current.setCurrentPoint(x$1,y$2)}closePath(){this.ctx.closePath()}stroke(consumePath=!0){let ctx=this.ctx,strokeColor=this.current.strokeColor;ctx.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof strokeColor==`object`&&strokeColor?.getPattern?(ctx.save(),ctx.strokeStyle=strokeColor.getPattern(ctx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.STROKE),this.rescaleAndStroke(!1),ctx.restore()):this.rescaleAndStroke(!0)),consumePath&&this.consumePath(this.current.getClippedPathBoundingBox()),ctx.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(consumePath=!0){let ctx=this.ctx,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,needRestore=!1;isPatternFill&&(ctx.save(),ctx.fillStyle=fillColor.getPattern(ctx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL),needRestore=!0);let intersect=this.current.getClippedPathBoundingBox();this.contentVisible&&intersect!==null&&(this.pendingEOFill?(ctx.fill(`evenodd`),this.pendingEOFill=!1):ctx.fill()),needRestore&&ctx.restore(),consumePath&&this.consumePath(intersect)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=_util.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let paths=this.pendingTextPaths,ctx=this.ctx;if(paths===void 0){ctx.beginPath();return}ctx.save(),ctx.beginPath();for(let path of paths)ctx.setTransform(...path.transform),ctx.translate(path.x,path.y),path.addToPath(ctx,path.fontSize);ctx.restore(),ctx.clip(),ctx.beginPath(),delete this.pendingTextPaths}setCharSpacing(spacing){this.current.charSpacing=spacing}setWordSpacing(spacing){this.current.wordSpacing=spacing}setHScale(scale){this.current.textHScale=scale/100}setLeading(leading){this.current.leading=-leading}setFont(fontRefName,size){let fontObj=this.commonObjs.get(fontRefName),current=this.current;if(!fontObj)throw Error(`Can't find font for ${fontRefName}`);if(current.fontMatrix=fontObj.fontMatrix||_util.FONT_IDENTITY_MATRIX,(current.fontMatrix[0]===0||current.fontMatrix[3]===0)&&(0,_util.warn)(`Invalid font matrix for font `+fontRefName),size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,this.current.font=fontObj,this.current.fontSize=size,fontObj.isType3Font)return;let name=fontObj.loadedName||`sans-serif`,typeface=fontObj.systemFontInfo?.css||`"${name}", ${fontObj.fallbackName}`,bold=`normal`;fontObj.black?bold=`900`:fontObj.bold&&(bold=`bold`);let italic=fontObj.italic?`italic`:`normal`,browserFontSize=size;size<16?browserFontSize=16:size>100&&(browserFontSize=100),this.current.fontSizeScale=size/browserFontSize,this.ctx.font=`${italic} ${bold} ${browserFontSize}px ${typeface}`}setTextRenderingMode(mode){this.current.textRenderingMode=mode}setTextRise(rise){this.current.textRise=rise}moveText(x$1,y$2){this.current.x=this.current.lineX+=x$1,this.current.y=this.current.lineY+=y$2}setLeadingMoveText(x$1,y$2){this.setLeading(-y$2),this.moveText(x$1,y$2)}setTextMatrix(a$2,b$2,c$3,d$2,e$1,f$2){this.current.textMatrix=[a$2,b$2,c$3,d$2,e$1,f$2],this.current.textMatrixScale=Math.hypot(a$2,b$2),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(character,x$1,y$2,patternTransform){let ctx=this.ctx,current=this.current,font=current.font,textRenderingMode=current.textRenderingMode,fontSize=current.fontSize/current.fontSizeScale,fillStrokeMode=textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK,isAddToPathSet=!!(textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG),patternFill=current.patternFill&&!font.missingFile,addToPath;(font.disableFontFace||isAddToPathSet||patternFill)&&(addToPath=font.getPathGenerator(this.commonObjs,character)),font.disableFontFace||patternFill?(ctx.save(),ctx.translate(x$1,y$2),ctx.beginPath(),addToPath(ctx,fontSize),patternTransform&&ctx.setTransform(...patternTransform),(fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE)&&ctx.fill(),(fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE)&&ctx.stroke(),ctx.restore()):((fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE)&&ctx.fillText(character,x$1,y$2),(fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE)&&ctx.strokeText(character,x$1,y$2)),isAddToPathSet&&(this.pendingTextPaths||=[]).push({transform:(0,_display_utils.getCurrentTransform)(ctx),x:x$1,y:y$2,fontSize,addToPath})}get isFontSubpixelAAEnabled(){let{context:ctx}=this.cachedCanvases.getCanvas(`isFontSubpixelAAEnabled`,10,10);ctx.scale(1.5,1),ctx.fillText(`I`,0,10);let data=ctx.getImageData(0,0,10,10).data,enabled=!1;for(let i$1=3;i$1<data.length;i$1+=4)if(data[i$1]>0&&data[i$1]<255){enabled=!0;break}return(0,_util.shadow)(this,`isFontSubpixelAAEnabled`,enabled)}showText(glyphs){let current=this.current,font=current.font;if(font.isType3Font)return this.showType3Text(glyphs);let fontSize=current.fontSize;if(fontSize===0)return;let ctx=this.ctx,fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,glyphsLength=glyphs.length,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0],simpleFillText=current.textRenderingMode===_util.TextRenderingMode.FILL&&!font.disableFontFace&&!current.patternFill;ctx.save(),ctx.transform(...current.textMatrix),ctx.translate(current.x,current.y+current.textRise),fontDirection>0?ctx.scale(textHScale,-1):ctx.scale(textHScale,1);let patternTransform;if(current.patternFill){ctx.save();let pattern=current.fillColor.getPattern(ctx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL);patternTransform=(0,_display_utils.getCurrentTransform)(ctx),ctx.restore(),ctx.fillStyle=pattern}let lineWidth=current.lineWidth,scale=current.textMatrixScale;if(scale===0||lineWidth===0){let fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;(fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE)&&(lineWidth=this.getSinglePixelWidth())}else lineWidth/=scale;if(fontSizeScale!==1&&(ctx.scale(fontSizeScale,fontSizeScale),lineWidth/=fontSizeScale),ctx.lineWidth=lineWidth,font.isInvalidPDFjsFont){let chars=[],width=0;for(let glyph of glyphs)chars.push(glyph.unicode),width+=glyph.width;ctx.fillText(chars.join(``),0,0),current.x+=width*widthAdvanceScale*textHScale,ctx.restore(),this.compose();return}let x$1=0,i$1;for(i$1=0;i$1<glyphsLength;++i$1){let glyph=glyphs[i$1];if(typeof glyph==`number`){x$1+=spacingDir*glyph*fontSize/1e3;continue}let restoreNeeded=!1,spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar,accent=glyph.accent,scaledX,scaledY,width=glyph.width;if(vertical){let vmetric=glyph.vmetric||defaultVMetrics,vx=-(glyph.vmetric?vmetric[1]:width*.5)*widthAdvanceScale,vy=vmetric[2]*widthAdvanceScale;width=vmetric?-vmetric[0]:width,scaledX=vx/fontSizeScale,scaledY=(x$1+vy)/fontSizeScale}else scaledX=x$1/fontSizeScale,scaledY=0;if(font.remeasure&&width>0){let measuredWidth=ctx.measureText(character).width*1e3/fontSize*fontSizeScale;if(width<measuredWidth&&this.isFontSubpixelAAEnabled){let characterScaleX=width/measuredWidth;restoreNeeded=!0,ctx.save(),ctx.scale(characterScaleX,1),scaledX/=characterScaleX}else width!==measuredWidth&&(scaledX+=(width-measuredWidth)/2e3*fontSize/fontSizeScale)}if(this.contentVisible&&(glyph.isInFont||font.missingFile)){if(simpleFillText&&!accent)ctx.fillText(character,scaledX,scaledY);else if(this.paintChar(character,scaledX,scaledY,patternTransform),accent){let scaledAccentX=scaledX+fontSize*accent.offset.x/fontSizeScale,scaledAccentY=scaledY-fontSize*accent.offset.y/fontSizeScale;this.paintChar(accent.fontChar,scaledAccentX,scaledAccentY,patternTransform)}}let charWidth=vertical?width*widthAdvanceScale-spacing*fontDirection:width*widthAdvanceScale+spacing*fontDirection;x$1+=charWidth,restoreNeeded&&ctx.restore()}vertical?current.y-=x$1:current.x+=x$1*textHScale,ctx.restore(),this.compose()}showType3Text(glyphs){let ctx=this.ctx,current=this.current,font=current.font,fontSize=current.fontSize,fontDirection=current.fontDirection,spacingDir=font.vertical?1:-1,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,textHScale=current.textHScale*fontDirection,fontMatrix=current.fontMatrix||_util.FONT_IDENTITY_MATRIX,glyphsLength=glyphs.length,isTextInvisible=current.textRenderingMode===_util.TextRenderingMode.INVISIBLE,i$1,glyph,width,spacingLength;if(!(isTextInvisible||fontSize===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ctx.save(),ctx.transform(...current.textMatrix),ctx.translate(current.x,current.y),ctx.scale(textHScale,fontDirection),i$1=0;i$1<glyphsLength;++i$1){if(glyph=glyphs[i$1],typeof glyph==`number`){spacingLength=spacingDir*glyph*fontSize/1e3,this.ctx.translate(spacingLength,0),current.x+=spacingLength*textHScale;continue}let spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,operatorList=font.charProcOperatorList[glyph.operatorListId];if(!operatorList){(0,_util.warn)(`Type3 character "${glyph.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=glyph,this.save(),ctx.scale(fontSize,fontSize),ctx.transform(...fontMatrix),this.executeOperatorList(operatorList),this.restore()),width=_util.Util.applyTransform([glyph.width,0],fontMatrix)[0]*fontSize+spacing,ctx.translate(width,0),current.x+=width*textHScale}ctx.restore(),this.processingType3=null}}setCharWidth(xWidth,yWidth){}setCharWidthAndBounds(xWidth,yWidth,llx,lly,urx,ury){this.ctx.rect(llx,lly,urx-llx,ury-lly),this.ctx.clip(),this.endPath()}getColorN_Pattern(IR){let pattern;if(IR[0]===`TilingPattern`){let color=IR[1],baseTransform=this.baseTransform||(0,_display_utils.getCurrentTransform)(this.ctx);pattern=new _pattern_helper.TilingPattern(IR,color,this.ctx,{createCanvasGraphics:ctx=>new CanvasGraphics(ctx,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},baseTransform)}else pattern=this._getPattern(IR[1],IR[2]);return pattern}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r$1,g$1,b$2){let color=_util.Util.makeHexColor(r$1,g$1,b$2);this.ctx.strokeStyle=color,this.current.strokeColor=color}setFillRGBColor(r$1,g$1,b$2){let color=_util.Util.makeHexColor(r$1,g$1,b$2);this.ctx.fillStyle=color,this.current.fillColor=color,this.current.patternFill=!1}_getPattern(objId,matrix=null){let pattern;return this.cachedPatterns.has(objId)?pattern=this.cachedPatterns.get(objId):(pattern=(0,_pattern_helper.getShadingPattern)(this.getObject(objId)),this.cachedPatterns.set(objId,pattern)),matrix&&(pattern.matrix=matrix),pattern}shadingFill(objId){if(!this.contentVisible)return;let ctx=this.ctx;this.save(),ctx.fillStyle=this._getPattern(objId).getPattern(ctx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.SHADING);let inv=(0,_display_utils.getCurrentTransformInverse)(ctx);if(inv){let{width,height}=ctx.canvas,[x0,y0,x1,y1]=_util.Util.getAxialAlignedBoundingBox([0,0,width,height],inv);this.ctx.fillRect(x0,y0,x1-x0,y1-y0)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_util.unreachable)(`Should not call beginInlineImage`)}beginImageData(){(0,_util.unreachable)(`Should not call beginImageData`)}paintFormXObjectBegin(matrix,bbox){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(matrix)&&matrix.length===6&&this.transform(...matrix),this.baseTransform=(0,_display_utils.getCurrentTransform)(this.ctx),bbox)){let width=bbox[2]-bbox[0],height=bbox[3]-bbox[1];this.ctx.rect(bbox[0],bbox[1],width,height),this.current.updateRectMinMax((0,_display_utils.getCurrentTransform)(this.ctx),bbox),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(group){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let currentCtx=this.ctx;group.isolated||(0,_util.info)(`TODO: Support non-isolated groups.`),group.knockout&&(0,_util.warn)(`Knockout groups not supported.`);let currentTransform=(0,_display_utils.getCurrentTransform)(currentCtx);if(group.matrix&&currentCtx.transform(...group.matrix),!group.bbox)throw Error(`Bounding box is required.`);let bounds=_util.Util.getAxialAlignedBoundingBox(group.bbox,(0,_display_utils.getCurrentTransform)(currentCtx)),canvasBounds=[0,0,currentCtx.canvas.width,currentCtx.canvas.height];bounds=_util.Util.intersect(bounds,canvasBounds)||[0,0,0,0];let offsetX=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]),drawnWidth=Math.max(Math.ceil(bounds[2])-offsetX,1),drawnHeight=Math.max(Math.ceil(bounds[3])-offsetY,1),scaleX=1,scaleY=1;drawnWidth>MAX_GROUP_SIZE&&(scaleX=drawnWidth/MAX_GROUP_SIZE,drawnWidth=MAX_GROUP_SIZE),drawnHeight>MAX_GROUP_SIZE&&(scaleY=drawnHeight/MAX_GROUP_SIZE,drawnHeight=MAX_GROUP_SIZE),this.current.startNewPathAndClipBox([0,0,drawnWidth,drawnHeight]);let cacheId=`groupAt`+this.groupLevel;group.smask&&(cacheId+=`_smask_`+ this.smaskCounter++%2);let scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight),groupCtx=scratchCanvas.context;groupCtx.scale(1/scaleX,1/scaleY),groupCtx.translate(-offsetX,-offsetY),groupCtx.transform(...currentTransform),group.smask?this.smaskStack.push({canvas:scratchCanvas.canvas,context:groupCtx,offsetX,offsetY,scaleX,scaleY,subtype:group.smask.subtype,backdrop:group.smask.backdrop,transferMap:group.smask.transferMap||null,startTransformInverse:null}):(currentCtx.setTransform(1,0,0,1,0,0),currentCtx.translate(offsetX,offsetY),currentCtx.scale(scaleX,scaleY),currentCtx.save()),copyCtxState(currentCtx,groupCtx),this.ctx=groupCtx,this.setGState([[`BM`,`source-over`],[`ca`,1],[`CA`,1]]),this.groupStack.push(currentCtx),this.groupLevel++}endGroup(group){if(!this.contentVisible)return;this.groupLevel--;let groupCtx=this.ctx;if(this.ctx=this.groupStack.pop(),this.ctx.imageSmoothingEnabled=!1,group.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let currentMtx=(0,_display_utils.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...currentMtx);let dirtyBox=_util.Util.getAxialAlignedBoundingBox([0,0,groupCtx.canvas.width,groupCtx.canvas.height],currentMtx);this.ctx.drawImage(groupCtx.canvas,0,0),this.ctx.restore(),this.compose(dirtyBox)}}beginAnnotation(id,rect,transform$1,matrix,hasOwnCanvas){if(this.#e(),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(rect)&&rect.length===4){let width=rect[2]-rect[0],height=rect[3]-rect[1];if(hasOwnCanvas&&this.annotationCanvasMap){transform$1=transform$1.slice(),transform$1[4]-=rect[0],transform$1[5]-=rect[1],rect=rect.slice(),rect[0]=rect[1]=0,rect[2]=width,rect[3]=height;let[scaleX,scaleY]=_util.Util.singularValueDecompose2dScale((0,_display_utils.getCurrentTransform)(this.ctx)),{viewportScale}=this,canvasWidth=Math.ceil(width*this.outputScaleX*viewportScale),canvasHeight=Math.ceil(height*this.outputScaleY*viewportScale);this.annotationCanvas=this.canvasFactory.create(canvasWidth,canvasHeight);let{canvas,context}=this.annotationCanvas;this.annotationCanvasMap.set(id,canvas),this.annotationCanvas.savedCtx=this.ctx,this.ctx=context,this.ctx.save(),this.ctx.setTransform(scaleX,0,0,-scaleY,0,height*scaleY),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(rect[0],rect[1],width,height),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...transform$1),this.transform(...matrix)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(img){if(!this.contentVisible)return;let count=img.count;img=this.getObject(img.data,img),img.count=count;let ctx=this.ctx,glyph=this.processingType3;if(glyph&&(glyph.compiled===void 0&&(glyph.compiled=compileType3Glyph(img)),glyph.compiled)){glyph.compiled(ctx);return}let mask=this._createMaskCanvas(img),maskCanvas=mask.canvas;ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.drawImage(maskCanvas,mask.offsetX,mask.offsetY),ctx.restore(),this.compose()}paintImageMaskXObjectRepeat(img,scaleX,skewX=0,skewY=0,scaleY,positions){if(!this.contentVisible)return;img=this.getObject(img.data,img);let ctx=this.ctx;ctx.save();let currentTransform=(0,_display_utils.getCurrentTransform)(ctx);ctx.transform(scaleX,skewX,skewY,scaleY,0,0);let mask=this._createMaskCanvas(img);ctx.setTransform(1,0,0,1,mask.offsetX-currentTransform[4],mask.offsetY-currentTransform[5]);for(let i$1=0,ii=positions.length;i$1<ii;i$1+=2){let trans=_util.Util.transform(currentTransform,[scaleX,skewX,skewY,scaleY,positions[i$1],positions[i$1+1]]),[x$1,y$2]=_util.Util.applyTransform([0,0],trans);ctx.drawImage(mask.canvas,x$1,y$2)}ctx.restore(),this.compose()}paintImageMaskXObjectGroup(images$1){if(!this.contentVisible)return;let ctx=this.ctx,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill;for(let image of images$1){let{data,width,height,transform:transform$1}=image,maskCanvas=this.cachedCanvases.getCanvas(`maskCanvas`,width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,this.getObject(data,image)),maskCtx.globalCompositeOperation=`source-in`,maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),ctx.save(),ctx.transform(...transform$1),ctx.scale(1,-1),drawImageAtIntegerCoords(ctx,maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()}this.compose()}paintImageXObject(objId){if(!this.contentVisible)return;let imgData=this.getObject(objId);if(!imgData){(0,_util.warn)(`Dependent image isn't ready yet`);return}this.paintInlineImageXObject(imgData)}paintImageXObjectRepeat(objId,scaleX,scaleY,positions){if(!this.contentVisible)return;let imgData=this.getObject(objId);if(!imgData){(0,_util.warn)(`Dependent image isn't ready yet`);return}let width=imgData.width,height=imgData.height,map=[];for(let i$1=0,ii=positions.length;i$1<ii;i$1+=2)map.push({transform:[scaleX,0,0,scaleY,positions[i$1],positions[i$1+1]],x:0,y:0,w:width,h:height});this.paintInlineImageXObjectGroup(imgData,map)}applyTransferMapsToCanvas(ctx){return this.current.transferMaps!==`none`&&(ctx.filter=this.current.transferMaps,ctx.drawImage(ctx.canvas,0,0),ctx.filter=`none`),ctx.canvas}applyTransferMapsToBitmap(imgData){if(this.current.transferMaps===`none`)return imgData.bitmap;let{bitmap,width,height}=imgData,tmpCanvas=this.cachedCanvases.getCanvas(`inlineImage`,width,height),tmpCtx=tmpCanvas.context;return tmpCtx.filter=this.current.transferMaps,tmpCtx.drawImage(bitmap,0,0),tmpCtx.filter=`none`,tmpCanvas.canvas}paintInlineImageXObject(imgData){if(!this.contentVisible)return;let width=imgData.width,height=imgData.height,ctx=this.ctx;if(this.save(),!_util.isNodeJS){let{filter}=ctx;filter!==`none`&&filter!==``&&(ctx.filter=`none`)}ctx.scale(1/width,-1/height);let imgToPaint;if(imgData.bitmap)imgToPaint=this.applyTransferMapsToBitmap(imgData);else if(typeof HTMLElement==`function`&&imgData instanceof HTMLElement||!imgData.data)imgToPaint=imgData;else{let tmpCtx=this.cachedCanvases.getCanvas(`inlineImage`,width,height).context;putBinaryImageData(tmpCtx,imgData),imgToPaint=this.applyTransferMapsToCanvas(tmpCtx)}let scaled=this._scaleImage(imgToPaint,(0,_display_utils.getCurrentTransformInverse)(ctx));ctx.imageSmoothingEnabled=getImageSmoothingEnabled((0,_display_utils.getCurrentTransform)(ctx),imgData.interpolate),drawImageAtIntegerCoords(ctx,scaled.img,0,0,scaled.paintWidth,scaled.paintHeight,0,-height,width,height),this.compose(),this.restore()}paintInlineImageXObjectGroup(imgData,map){if(!this.contentVisible)return;let ctx=this.ctx,imgToPaint;if(imgData.bitmap)imgToPaint=imgData.bitmap;else{let w$1=imgData.width,h$2=imgData.height,tmpCtx=this.cachedCanvases.getCanvas(`inlineImage`,w$1,h$2).context;putBinaryImageData(tmpCtx,imgData),imgToPaint=this.applyTransferMapsToCanvas(tmpCtx)}for(let entry of map)ctx.save(),ctx.transform(...entry.transform),ctx.scale(1,-1),drawImageAtIntegerCoords(ctx,imgToPaint,entry.x,entry.y,entry.w,entry.h,0,-1,1,1),ctx.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(tag){}markPointProps(tag,properties){}beginMarkedContent(tag){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(tag,properties){tag===`OC`?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(properties)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(clipBox){let isEmpty=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(clipBox);let ctx=this.ctx;this.pendingClip&&=(isEmpty||(this.pendingClip===EO_CLIP?ctx.clip(`evenodd`):ctx.clip()),null),this.current.startNewPathAndClipBox(this.current.clipBox),ctx.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let m$2=(0,_display_utils.getCurrentTransform)(this.ctx);if(m$2[1]===0&&m$2[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(m$2[0]),Math.abs(m$2[3]));else{let absDet=Math.abs(m$2[0]*m$2[3]-m$2[2]*m$2[1]),normX=Math.hypot(m$2[0],m$2[2]),normY=Math.hypot(m$2[1],m$2[3]);this._cachedGetSinglePixelWidth=Math.max(normX,normY)/absDet}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth}=this.current,{a:a$2,b:b$2,c:c$3,d:d$2}=this.ctx.getTransform(),scaleX,scaleY;if(b$2===0&&c$3===0){let normX=Math.abs(a$2),normY=Math.abs(d$2);if(normX===normY)if(lineWidth===0)scaleX=scaleY=1/normX;else{let scaledLineWidth=normX*lineWidth;scaleX=scaleY=scaledLineWidth<1?1/scaledLineWidth:1}else if(lineWidth===0)scaleX=1/normX,scaleY=1/normY;else{let scaledXLineWidth=normX*lineWidth,scaledYLineWidth=normY*lineWidth;scaleX=scaledXLineWidth<1?1/scaledXLineWidth:1,scaleY=scaledYLineWidth<1?1/scaledYLineWidth:1}}else{let absDet=Math.abs(a$2*d$2-b$2*c$3),normX=Math.hypot(a$2,b$2),normY=Math.hypot(c$3,d$2);if(lineWidth===0)scaleX=normY/absDet,scaleY=normX/absDet;else{let baseArea=lineWidth*absDet;scaleX=normY>baseArea?normY/baseArea:1,scaleY=normX>baseArea?normX/baseArea:1}}this._cachedScaleForStroking[0]=scaleX,this._cachedScaleForStroking[1]=scaleY}return this._cachedScaleForStroking}rescaleAndStroke(saveRestore){let{ctx}=this,{lineWidth}=this.current,[scaleX,scaleY]=this.getScaleForStroking();if(ctx.lineWidth=lineWidth||1,scaleX===1&&scaleY===1){ctx.stroke();return}let dashes=ctx.getLineDash();if(saveRestore&&ctx.save(),ctx.scale(scaleX,scaleY),dashes.length>0){let scale=Math.max(scaleX,scaleY);ctx.setLineDash(dashes.map(x$1=>x$1/scale)),ctx.lineDashOffset/=scale}ctx.stroke(),saveRestore&&ctx.restore()}isContentVisible(){for(let i$1=this.markedContentStack.length-1;i$1>=0;i$1--)if(!this.markedContentStack[i$1].visible)return!1;return!0}}for(let op in exports$1.CanvasGraphics=CanvasGraphics,_util.OPS)CanvasGraphics.prototype[op]!==void 0&&(CanvasGraphics.prototype[_util.OPS[op]]=CanvasGraphics.prototype[op])}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.TilingPattern=exports$1.PathType=void 0,exports$1.getShadingPattern=getShadingPattern;var _util=__w_pdfjs_require__$1(1),_display_utils=__w_pdfjs_require__$1(6);let PathType={FILL:`Fill`,STROKE:`Stroke`,SHADING:`Shading`};exports$1.PathType=PathType;function applyBoundingBox(ctx,bbox){if(!bbox)return;let width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],region=new Path2D;region.rect(bbox[0],bbox[1],width,height),ctx.clip(region)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&(0,_util.unreachable)(`Cannot initialize BaseShadingPattern.`)}getPattern(){(0,_util.unreachable)("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(IR){super(),this._type=IR[1],this._bbox=IR[2],this._colorStops=IR[3],this._p0=IR[4],this._p1=IR[5],this._r0=IR[6],this._r1=IR[7],this.matrix=null}_createGradient(ctx){let grad;this._type===`axial`?grad=ctx.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type===`radial`&&(grad=ctx.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let colorStop of this._colorStops)grad.addColorStop(colorStop[0],colorStop[1]);return grad}getPattern(ctx,owner,inverse,pathType){let pattern;if(pathType===PathType.STROKE||pathType===PathType.FILL){let ownerBBox=owner.current.getClippedPathBoundingBox(pathType,(0,_display_utils.getCurrentTransform)(ctx))||[0,0,0,0],width=Math.ceil(ownerBBox[2]-ownerBBox[0])||1,height=Math.ceil(ownerBBox[3]-ownerBBox[1])||1,tmpCanvas=owner.cachedCanvases.getCanvas(`pattern`,width,height,!0),tmpCtx=tmpCanvas.context;tmpCtx.clearRect(0,0,tmpCtx.canvas.width,tmpCtx.canvas.height),tmpCtx.beginPath(),tmpCtx.rect(0,0,tmpCtx.canvas.width,tmpCtx.canvas.height),tmpCtx.translate(-ownerBBox[0],-ownerBBox[1]),inverse=_util.Util.transform(inverse,[1,0,0,1,ownerBBox[0],ownerBBox[1]]),tmpCtx.transform(...owner.baseTransform),this.matrix&&tmpCtx.transform(...this.matrix),applyBoundingBox(tmpCtx,this._bbox),tmpCtx.fillStyle=this._createGradient(tmpCtx),tmpCtx.fill(),pattern=ctx.createPattern(tmpCanvas.canvas,`no-repeat`);let domMatrix=new DOMMatrix(inverse);pattern.setTransform(domMatrix)}else applyBoundingBox(ctx,this._bbox),pattern=this._createGradient(ctx);return pattern}}function drawTriangle(data,context,p1,p2,p3,c1,c2,c3){let coords=context.coords,colors=context.colors,bytes=data.data,rowSize=data.width*4,tmp;coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp),coords[p2+1]>coords[p3+1]&&(tmp=p2,p2=p3,p3=tmp,tmp=c2,c2=c3,c3=tmp),coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp);let x1=(coords[p1]+context.offsetX)*context.scaleX,y1=(coords[p1+1]+context.offsetY)*context.scaleY,x2=(coords[p2]+context.offsetX)*context.scaleX,y2=(coords[p2+1]+context.offsetY)*context.scaleY,x3=(coords[p3]+context.offsetX)*context.scaleX,y3=(coords[p3+1]+context.offsetY)*context.scaleY;if(y1>=y3)return;let c1r=colors[c1],c1g=colors[c1+1],c1b=colors[c1+2],c2r=colors[c2],c2g=colors[c2+1],c2b=colors[c2+2],c3r=colors[c3],c3g=colors[c3+1],c3b=colors[c3+2],minY=Math.round(y1),maxY=Math.round(y3),xa,car,cag,cab,xb,cbr,cbg,cbb;for(let y$2=minY;y$2<=maxY;y$2++){if(y$2<y2){let k$2=y$2<y1?0:(y1-y$2)/(y1-y2);xa=x1-(x1-x2)*k$2,car=c1r-(c1r-c2r)*k$2,cag=c1g-(c1g-c2g)*k$2,cab=c1b-(c1b-c2b)*k$2}else{let k$2;k$2=y$2>y3?1:y2===y3?0:(y2-y$2)/(y2-y3),xa=x2-(x2-x3)*k$2,car=c2r-(c2r-c3r)*k$2,cag=c2g-(c2g-c3g)*k$2,cab=c2b-(c2b-c3b)*k$2}let k$1;k$1=y$2<y1?0:y$2>y3?1:(y1-y$2)/(y1-y3),xb=x1-(x1-x3)*k$1,cbr=c1r-(c1r-c3r)*k$1,cbg=c1g-(c1g-c3g)*k$1,cbb=c1b-(c1b-c3b)*k$1;let x1_=Math.round(Math.min(xa,xb)),x2_=Math.round(Math.max(xa,xb)),j$1=rowSize*y$2+x1_*4;for(let x$1=x1_;x$1<=x2_;x$1++)k$1=(xa-x$1)/(xa-xb),k$1<0?k$1=0:k$1>1&&(k$1=1),bytes[j$1++]=car-(car-cbr)*k$1|0,bytes[j$1++]=cag-(cag-cbg)*k$1|0,bytes[j$1++]=cab-(cab-cbb)*k$1|0,bytes[j$1++]=255}}function drawFigure(data,figure,context){let ps=figure.coords,cs=figure.colors,i$1,ii;switch(figure.type){case`lattice`:let verticesPerRow=figure.verticesPerRow,rows=Math.floor(ps.length/verticesPerRow)-1,cols=verticesPerRow-1;for(i$1=0;i$1<rows;i$1++){let q$1=i$1*verticesPerRow;for(let j$1=0;j$1<cols;j$1++,q$1++)drawTriangle(data,context,ps[q$1],ps[q$1+1],ps[q$1+verticesPerRow],cs[q$1],cs[q$1+1],cs[q$1+verticesPerRow]),drawTriangle(data,context,ps[q$1+verticesPerRow+1],ps[q$1+1],ps[q$1+verticesPerRow],cs[q$1+verticesPerRow+1],cs[q$1+1],cs[q$1+verticesPerRow])}break;case`triangles`:for(i$1=0,ii=ps.length;i$1<ii;i$1+=3)drawTriangle(data,context,ps[i$1],ps[i$1+1],ps[i$1+2],cs[i$1],cs[i$1+1],cs[i$1+2]);break;default:throw Error(`illegal figure`)}}class MeshShadingPattern extends BaseShadingPattern{constructor(IR){super(),this._coords=IR[2],this._colors=IR[3],this._figures=IR[4],this._bounds=IR[5],this._bbox=IR[7],this._background=IR[8],this.matrix=null}_createMeshCanvas(combinedScale,backgroundColor,cachedCanvases){let EXPECTED_SCALE=1.1,MAX_PATTERN_SIZE=3e3,BORDER_SIZE=2,offsetX=Math.floor(this._bounds[0]),offsetY=Math.floor(this._bounds[1]),boundsWidth=Math.ceil(this._bounds[2])-offsetX,boundsHeight=Math.ceil(this._bounds[3])-offsetY,width=Math.min(Math.ceil(Math.abs(boundsWidth*combinedScale[0]*EXPECTED_SCALE)),MAX_PATTERN_SIZE),height=Math.min(Math.ceil(Math.abs(boundsHeight*combinedScale[1]*EXPECTED_SCALE)),MAX_PATTERN_SIZE),scaleX=boundsWidth/width,scaleY=boundsHeight/height,context={coords:this._coords,colors:this._colors,offsetX:-offsetX,offsetY:-offsetY,scaleX:1/scaleX,scaleY:1/scaleY},paddedWidth=width+4,paddedHeight=height+4,tmpCanvas=cachedCanvases.getCanvas(`mesh`,paddedWidth,paddedHeight,!1),tmpCtx=tmpCanvas.context,data=tmpCtx.createImageData(width,height);if(backgroundColor){let bytes=data.data;for(let i$1=0,ii=bytes.length;i$1<ii;i$1+=4)bytes[i$1]=backgroundColor[0],bytes[i$1+1]=backgroundColor[1],bytes[i$1+2]=backgroundColor[2],bytes[i$1+3]=255}for(let figure of this._figures)drawFigure(data,figure,context);return tmpCtx.putImageData(data,2,2),{canvas:tmpCanvas.canvas,offsetX:offsetX-2*scaleX,offsetY:offsetY-2*scaleY,scaleX,scaleY}}getPattern(ctx,owner,inverse,pathType){applyBoundingBox(ctx,this._bbox);let scale;if(pathType===PathType.SHADING)scale=_util.Util.singularValueDecompose2dScale((0,_display_utils.getCurrentTransform)(ctx));else if(scale=_util.Util.singularValueDecompose2dScale(owner.baseTransform),this.matrix){let matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix);scale=[scale[0]*matrixScale[0],scale[1]*matrixScale[1]]}let temporaryPatternCanvas=this._createMeshCanvas(scale,pathType===PathType.SHADING?null:this._background,owner.cachedCanvases);return pathType!==PathType.SHADING&&(ctx.setTransform(...owner.baseTransform),this.matrix&&ctx.transform(...this.matrix)),ctx.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY),ctx.scale(temporaryPatternCanvas.scaleX,temporaryPatternCanvas.scaleY),ctx.createPattern(temporaryPatternCanvas.canvas,`no-repeat`)}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return`hotpink`}}function getShadingPattern(IR){switch(IR[0]){case`RadialAxial`:return new RadialAxialShadingPattern(IR);case`Mesh`:return new MeshShadingPattern(IR);case`Dummy`:return new DummyShadingPattern}throw Error(`Unknown IR type: ${IR[0]}`)}let PaintType={COLORED:1,UNCOLORED:2};class TilingPattern{static MAX_PATTERN_SIZE=3e3;constructor(IR,color,ctx,canvasGraphicsFactory,baseTransform){this.operatorList=IR[2],this.matrix=IR[3]||[1,0,0,1,0,0],this.bbox=IR[4],this.xstep=IR[5],this.ystep=IR[6],this.paintType=IR[7],this.tilingType=IR[8],this.color=color,this.ctx=ctx,this.canvasGraphicsFactory=canvasGraphicsFactory,this.baseTransform=baseTransform}createPatternCanvas(owner){let operatorList=this.operatorList,bbox=this.bbox,xstep=this.xstep,ystep=this.ystep,paintType=this.paintType,tilingType=this.tilingType,color=this.color,canvasGraphicsFactory=this.canvasGraphicsFactory;(0,_util.info)(`TilingType: `+tilingType);let x0=bbox[0],y0=bbox[1],x1=bbox[2],y1=bbox[3],matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix),curMatrixScale=_util.Util.singularValueDecompose2dScale(this.baseTransform),combinedScale=[matrixScale[0]*curMatrixScale[0],matrixScale[1]*curMatrixScale[1]],dimx=this.getSizeAndScale(xstep,this.ctx.canvas.width,combinedScale[0]),dimy=this.getSizeAndScale(ystep,this.ctx.canvas.height,combinedScale[1]),tmpCanvas=owner.cachedCanvases.getCanvas(`pattern`,dimx.size,dimy.size,!0),tmpCtx=tmpCanvas.context,graphics=canvasGraphicsFactory.createCanvasGraphics(tmpCtx);graphics.groupLevel=owner.groupLevel,this.setFillAndStrokeStyleToContext(graphics,paintType,color);let adjustedX0=x0,adjustedY0=y0,adjustedX1=x1,adjustedY1=y1;return x0<0&&(adjustedX0=0,adjustedX1+=Math.abs(x0)),y0<0&&(adjustedY0=0,adjustedY1+=Math.abs(y0)),tmpCtx.translate(-(dimx.scale*adjustedX0),-(dimy.scale*adjustedY0)),graphics.transform(dimx.scale,0,0,dimy.scale,0,0),tmpCtx.save(),this.clipBbox(graphics,adjustedX0,adjustedY0,adjustedX1,adjustedY1),graphics.baseTransform=(0,_display_utils.getCurrentTransform)(graphics.ctx),graphics.executeOperatorList(operatorList),graphics.endDrawing(),{canvas:tmpCanvas.canvas,scaleX:dimx.scale,scaleY:dimy.scale,offsetX:adjustedX0,offsetY:adjustedY0}}getSizeAndScale(step,realOutputSize,scale){step=Math.abs(step);let maxSize=Math.max(TilingPattern.MAX_PATTERN_SIZE,realOutputSize),size=Math.ceil(step*scale);return size>=maxSize?size=maxSize:scale=size/step,{scale,size}}clipBbox(graphics,x0,y0,x1,y1){let bboxWidth=x1-x0,bboxHeight=y1-y0;graphics.ctx.rect(x0,y0,bboxWidth,bboxHeight),graphics.current.updateRectMinMax((0,_display_utils.getCurrentTransform)(graphics.ctx),[x0,y0,x1,y1]),graphics.clip(),graphics.endPath()}setFillAndStrokeStyleToContext(graphics,paintType,color){let context=graphics.ctx,current=graphics.current;switch(paintType){case PaintType.COLORED:let ctx=this.ctx;context.fillStyle=ctx.fillStyle,context.strokeStyle=ctx.strokeStyle,current.fillColor=ctx.fillStyle,current.strokeColor=ctx.strokeStyle;break;case PaintType.UNCOLORED:let cssColor=_util.Util.makeHexColor(color[0],color[1],color[2]);context.fillStyle=cssColor,context.strokeStyle=cssColor,current.fillColor=cssColor,current.strokeColor=cssColor;break;default:throw new _util.FormatError(`Unsupported paint type: ${paintType}`)}}getPattern(ctx,owner,inverse,pathType){let matrix=inverse;pathType!==PathType.SHADING&&(matrix=_util.Util.transform(matrix,owner.baseTransform),this.matrix&&(matrix=_util.Util.transform(matrix,this.matrix)));let temporaryPatternCanvas=this.createPatternCanvas(owner),domMatrix=new DOMMatrix(matrix);domMatrix=domMatrix.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY),domMatrix=domMatrix.scale(1/temporaryPatternCanvas.scaleX,1/temporaryPatternCanvas.scaleY);let pattern=ctx.createPattern(temporaryPatternCanvas.canvas,`repeat`);return pattern.setTransform(domMatrix),pattern}}exports$1.TilingPattern=TilingPattern}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.convertBlackAndWhiteToRGBA=convertBlackAndWhiteToRGBA,exports$1.convertToRGBA=convertToRGBA,exports$1.grayToRGBA=grayToRGBA;var _util=__w_pdfjs_require__$1(1);function convertToRGBA(params){switch(params.kind){case _util.ImageKind.GRAYSCALE_1BPP:return convertBlackAndWhiteToRGBA(params);case _util.ImageKind.RGB_24BPP:return convertRGBToRGBA(params)}return null}function convertBlackAndWhiteToRGBA({src,srcPos=0,dest,width,height,nonBlackColor=4294967295,inverseDecode=!1}){let black=_util.FeatureTest.isLittleEndian?4278190080:255,[zeroMapping,oneMapping]=inverseDecode?[nonBlackColor,black]:[black,nonBlackColor],widthInSource=width>>3,widthRemainder=width&7,srcLength=src.length;dest=new Uint32Array(dest.buffer);let destPos=0;for(let i$1=0;i$1<height;i$1++){for(let max=srcPos+widthInSource;srcPos<max;srcPos++){let elem$1=srcPos<srcLength?src[srcPos]:255;dest[destPos++]=elem$1&128?oneMapping:zeroMapping,dest[destPos++]=elem$1&64?oneMapping:zeroMapping,dest[destPos++]=elem$1&32?oneMapping:zeroMapping,dest[destPos++]=elem$1&16?oneMapping:zeroMapping,dest[destPos++]=elem$1&8?oneMapping:zeroMapping,dest[destPos++]=elem$1&4?oneMapping:zeroMapping,dest[destPos++]=elem$1&2?oneMapping:zeroMapping,dest[destPos++]=elem$1&1?oneMapping:zeroMapping}if(widthRemainder===0)continue;let elem=srcPos<srcLength?src[srcPos++]:255;for(let j$1=0;j$1<widthRemainder;j$1++)dest[destPos++]=elem&1<<7-j$1?oneMapping:zeroMapping}return{srcPos,destPos}}function convertRGBToRGBA({src,srcPos=0,dest,destPos=0,width,height}){let i$1=0,len32=src.length>>2,src32=new Uint32Array(src.buffer,srcPos,len32);if(_util.FeatureTest.isLittleEndian){for(;i$1<len32-2;i$1+=3,destPos+=4){let s1=src32[i$1],s2=src32[i$1+1],s3=src32[i$1+2];dest[destPos]=s1|4278190080,dest[destPos+1]=s1>>>24|s2<<8|4278190080,dest[destPos+2]=s2>>>16|s3<<16|4278190080,dest[destPos+3]=s3>>>8|4278190080}for(let j$1=i$1*4,jj=src.length;j$1<jj;j$1+=3)dest[destPos++]=src[j$1]|src[j$1+1]<<8|src[j$1+2]<<16|4278190080}else{for(;i$1<len32-2;i$1+=3,destPos+=4){let s1=src32[i$1],s2=src32[i$1+1],s3=src32[i$1+2];dest[destPos]=s1|255,dest[destPos+1]=s1<<24|s2>>>8|255,dest[destPos+2]=s2<<16|s3>>>16|255,dest[destPos+3]=s3<<8|255}for(let j$1=i$1*4,jj=src.length;j$1<jj;j$1+=3)dest[destPos++]=src[j$1]<<24|src[j$1+1]<<16|src[j$1+2]<<8|255}return{srcPos,destPos}}function grayToRGBA(src,dest){if(_util.FeatureTest.isLittleEndian)for(let i$1=0,ii=src.length;i$1<ii;i$1++)dest[i$1]=src[i$1]*65793|4278190080;else for(let i$1=0,ii=src.length;i$1<ii;i$1++)dest[i$1]=src[i$1]*16843008|255}}),((__unused_webpack_module,exports$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.GlobalWorkerOptions=void 0;let GlobalWorkerOptions=Object.create(null);exports$1.GlobalWorkerOptions=GlobalWorkerOptions,GlobalWorkerOptions.workerPort=null,GlobalWorkerOptions.workerSrc=``}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.MessageHandler=void 0;var _util=__w_pdfjs_require__$1(1);let CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(reason){switch(reason instanceof Error||typeof reason==`object`&&reason||(0,_util.unreachable)(`wrapReason: Expected "reason" to be a (possibly cloned) Error.`),reason.name){case`AbortException`:return new _util.AbortException(reason.message);case`MissingPDFException`:return new _util.MissingPDFException(reason.message);case`PasswordException`:return new _util.PasswordException(reason.message,reason.code);case`UnexpectedResponseException`:return new _util.UnexpectedResponseException(reason.message,reason.status);case`UnknownErrorException`:return new _util.UnknownErrorException(reason.message,reason.details);default:return new _util.UnknownErrorException(reason.message,reason.toString())}}class MessageHandler{constructor(sourceName,targetName,comObj){this.sourceName=sourceName,this.targetName=targetName,this.comObj=comObj,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=event=>{let data=event.data;if(data.targetName!==this.sourceName)return;if(data.stream){this.#t(data);return}if(data.callback){let callbackId=data.callbackId,capability=this.callbackCapabilities[callbackId];if(!capability)throw Error(`Cannot resolve callback ${callbackId}`);if(delete this.callbackCapabilities[callbackId],data.callback===CallbackKind.DATA)capability.resolve(data.data);else if(data.callback===CallbackKind.ERROR)capability.reject(wrapReason(data.reason));else throw Error(`Unexpected callback case`);return}let action=this.actionHandler[data.action];if(!action)throw Error(`Unknown action from worker: ${data.action}`);if(data.callbackId){let cbSourceName=this.sourceName,cbTargetName=data.sourceName;new Promise(function(resolve){resolve(action(data.data))}).then(function(result){comObj.postMessage({sourceName:cbSourceName,targetName:cbTargetName,callback:CallbackKind.DATA,callbackId:data.callbackId,data:result})},function(reason){comObj.postMessage({sourceName:cbSourceName,targetName:cbTargetName,callback:CallbackKind.ERROR,callbackId:data.callbackId,reason:wrapReason(reason)})});return}if(data.streamId){this.#e(data);return}action(data.data)},comObj.addEventListener(`message`,this._onComObjOnMessage)}on(actionName,handler){let ah=this.actionHandler;if(ah[actionName])throw Error(`There is already an actionName called "${actionName}"`);ah[actionName]=handler}send(actionName,data,transfers){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,data},transfers)}sendWithPromise(actionName,data,transfers){let callbackId=this.callbackId++,capability=new _util.PromiseCapability;this.callbackCapabilities[callbackId]=capability;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,callbackId,data},transfers)}catch(ex){capability.reject(ex)}return capability.promise}sendWithStream(actionName,data,queueingStrategy,transfers){let streamId=this.streamId++,sourceName=this.sourceName,targetName=this.targetName,comObj=this.comObj;return new ReadableStream({start:controller=>{let startCapability=new _util.PromiseCapability;return this.streamControllers[streamId]={controller,startCall:startCapability,pullCall:null,cancelCall:null,isClosed:!1},comObj.postMessage({sourceName,targetName,action:actionName,streamId,data,desiredSize:controller.desiredSize},transfers),startCapability.promise},pull:controller=>{let pullCapability=new _util.PromiseCapability;return this.streamControllers[streamId].pullCall=pullCapability,comObj.postMessage({sourceName,targetName,stream:StreamKind.PULL,streamId,desiredSize:controller.desiredSize}),pullCapability.promise},cancel:reason=>{(0,_util.assert)(reason instanceof Error,`cancel must have a valid reason`);let cancelCapability=new _util.PromiseCapability;return this.streamControllers[streamId].cancelCall=cancelCapability,this.streamControllers[streamId].isClosed=!0,comObj.postMessage({sourceName,targetName,stream:StreamKind.CANCEL,streamId,reason:wrapReason(reason)}),cancelCapability.promise}},queueingStrategy)}#e(data){let streamId=data.streamId,sourceName=this.sourceName,targetName=data.sourceName,comObj=this.comObj,self$1=this,action=this.actionHandler[data.action],streamSink={enqueue(chunk,size=1,transfers){if(this.isCancelled)return;let lastDesiredSize=this.desiredSize;this.desiredSize-=size,lastDesiredSize>0&&this.desiredSize<=0&&(this.sinkCapability=new _util.PromiseCapability,this.ready=this.sinkCapability.promise),comObj.postMessage({sourceName,targetName,stream:StreamKind.ENQUEUE,streamId,chunk},transfers)},close(){this.isCancelled||(this.isCancelled=!0,comObj.postMessage({sourceName,targetName,stream:StreamKind.CLOSE,streamId}),delete self$1.streamSinks[streamId])},error(reason){(0,_util.assert)(reason instanceof Error,`error must have a valid reason`),!this.isCancelled&&(this.isCancelled=!0,comObj.postMessage({sourceName,targetName,stream:StreamKind.ERROR,streamId,reason:wrapReason(reason)}))},sinkCapability:new _util.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:data.desiredSize,ready:null};streamSink.sinkCapability.resolve(),streamSink.ready=streamSink.sinkCapability.promise,this.streamSinks[streamId]=streamSink,new Promise(function(resolve){resolve(action(data.data,streamSink))}).then(function(){comObj.postMessage({sourceName,targetName,stream:StreamKind.START_COMPLETE,streamId,success:!0})},function(reason){comObj.postMessage({sourceName,targetName,stream:StreamKind.START_COMPLETE,streamId,reason:wrapReason(reason)})})}#t(data){let streamId=data.streamId,sourceName=this.sourceName,targetName=data.sourceName,comObj=this.comObj,streamController=this.streamControllers[streamId],streamSink=this.streamSinks[streamId];switch(data.stream){case StreamKind.START_COMPLETE:data.success?streamController.startCall.resolve():streamController.startCall.reject(wrapReason(data.reason));break;case StreamKind.PULL_COMPLETE:data.success?streamController.pullCall.resolve():streamController.pullCall.reject(wrapReason(data.reason));break;case StreamKind.PULL:if(!streamSink){comObj.postMessage({sourceName,targetName,stream:StreamKind.PULL_COMPLETE,streamId,success:!0});break}streamSink.desiredSize<=0&&data.desiredSize>0&&streamSink.sinkCapability.resolve(),streamSink.desiredSize=data.desiredSize,new Promise(function(resolve){resolve(streamSink.onPull?.())}).then(function(){comObj.postMessage({sourceName,targetName,stream:StreamKind.PULL_COMPLETE,streamId,success:!0})},function(reason){comObj.postMessage({sourceName,targetName,stream:StreamKind.PULL_COMPLETE,streamId,reason:wrapReason(reason)})});break;case StreamKind.ENQUEUE:if((0,_util.assert)(streamController,`enqueue should have stream controller`),streamController.isClosed)break;streamController.controller.enqueue(data.chunk);break;case StreamKind.CLOSE:if((0,_util.assert)(streamController,`close should have stream controller`),streamController.isClosed)break;streamController.isClosed=!0,streamController.controller.close(),this.#n(streamController,streamId);break;case StreamKind.ERROR:(0,_util.assert)(streamController,`error should have stream controller`),streamController.controller.error(wrapReason(data.reason)),this.#n(streamController,streamId);break;case StreamKind.CANCEL_COMPLETE:data.success?streamController.cancelCall.resolve():streamController.cancelCall.reject(wrapReason(data.reason)),this.#n(streamController,streamId);break;case StreamKind.CANCEL:if(!streamSink)break;new Promise(function(resolve){resolve(streamSink.onCancel?.(wrapReason(data.reason)))}).then(function(){comObj.postMessage({sourceName,targetName,stream:StreamKind.CANCEL_COMPLETE,streamId,success:!0})},function(reason){comObj.postMessage({sourceName,targetName,stream:StreamKind.CANCEL_COMPLETE,streamId,reason:wrapReason(reason)})}),streamSink.sinkCapability.reject(wrapReason(data.reason)),streamSink.isCancelled=!0,delete this.streamSinks[streamId];break;default:throw Error(`Unexpected stream case`)}}async#n(streamController,streamId){await Promise.allSettled([streamController.startCall?.promise,streamController.pullCall?.promise,streamController.cancelCall?.promise]),delete this.streamControllers[streamId]}destroy(){this.comObj.removeEventListener(`message`,this._onComObjOnMessage)}}exports$1.MessageHandler=MessageHandler}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.Metadata=void 0;var _util=__w_pdfjs_require__$1(1);class Metadata{#e;#t;constructor({parsedData,rawData}){this.#e=parsedData,this.#t=rawData}getRaw(){return this.#t}get(name){return this.#e.get(name)??null}getAll(){return(0,_util.objectFromMap)(this.#e)}has(name){return this.#e.has(name)}}exports$1.Metadata=Metadata}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.OptionalContentConfig=void 0;var _util=__w_pdfjs_require__$1(1),_murmurhash=__w_pdfjs_require__$1(8);let INTERNAL=Symbol(`INTERNAL`);class OptionalContentGroup{#e=!0;constructor(name,intent){this.name=name,this.intent=intent}get visible(){return this.#e}_setVisible(internal,visible){internal!==INTERNAL&&(0,_util.unreachable)("Internal method `_setVisible` called."),this.#e=visible}}class OptionalContentConfig{#e=null;#t=new Map;#n=null;#r=null;constructor(data){if(this.name=null,this.creator=null,data!==null){this.name=data.name,this.creator=data.creator,this.#r=data.order;for(let group of data.groups)this.#t.set(group.id,new OptionalContentGroup(group.name,group.intent));if(data.baseState===`OFF`)for(let group of this.#t.values())group._setVisible(INTERNAL,!1);for(let on of data.on)this.#t.get(on)._setVisible(INTERNAL,!0);for(let off of data.off)this.#t.get(off)._setVisible(INTERNAL,!1);this.#n=this.getHash()}}#i(array$1){let length=array$1.length;if(length<2)return!0;let operator=array$1[0];for(let i$1=1;i$1<length;i$1++){let element=array$1[i$1],state;if(Array.isArray(element))state=this.#i(element);else if(this.#t.has(element))state=this.#t.get(element).visible;else return(0,_util.warn)(`Optional content group not found: ${element}`),!0;switch(operator){case`And`:if(!state)return!1;break;case`Or`:if(state)return!0;break;case`Not`:return!state;default:return!0}}return operator===`And`}isVisible(group){if(this.#t.size===0)return!0;if(!group)return(0,_util.warn)(`Optional content group not defined.`),!0;if(group.type===`OCG`)return this.#t.has(group.id)?this.#t.get(group.id).visible:((0,_util.warn)(`Optional content group not found: ${group.id}`),!0);if(group.type===`OCMD`){if(group.expression)return this.#i(group.expression);if(!group.policy||group.policy===`AnyOn`){for(let id of group.ids){if(!this.#t.has(id))return(0,_util.warn)(`Optional content group not found: ${id}`),!0;if(this.#t.get(id).visible)return!0}return!1}else if(group.policy===`AllOn`){for(let id of group.ids){if(!this.#t.has(id))return(0,_util.warn)(`Optional content group not found: ${id}`),!0;if(!this.#t.get(id).visible)return!1}return!0}else if(group.policy===`AnyOff`){for(let id of group.ids){if(!this.#t.has(id))return(0,_util.warn)(`Optional content group not found: ${id}`),!0;if(!this.#t.get(id).visible)return!0}return!1}else if(group.policy===`AllOff`){for(let id of group.ids){if(!this.#t.has(id))return(0,_util.warn)(`Optional content group not found: ${id}`),!0;if(this.#t.get(id).visible)return!1}return!0}return(0,_util.warn)(`Unknown optional content policy ${group.policy}.`),!0}return(0,_util.warn)(`Unknown group type ${group.type}.`),!0}setVisibility(id,visible=!0){if(!this.#t.has(id)){(0,_util.warn)(`Optional content group not found: ${id}`);return}this.#t.get(id)._setVisible(INTERNAL,!!visible),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,_util.objectFromMap)(this.#t):null}getGroup(id){return this.#t.get(id)||null}getHash(){if(this.#e!==null)return this.#e;let hash=new _murmurhash.MurmurHash3_64;for(let[id,group]of this.#t)hash.update(`${id}:${group.visible}`);return this.#e=hash.hexdigest()}}exports$1.OptionalContentConfig=OptionalContentConfig}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.PDFDataTransportStream=void 0;var _util=__w_pdfjs_require__$1(1),_display_utils=__w_pdfjs_require__$1(6);class PDFDataTransportStream{constructor({length,initialData,progressiveDone=!1,contentDispositionFilename=null,disableRange=!1,disableStream=!1},pdfDataRangeTransport){if((0,_util.assert)(pdfDataRangeTransport,`PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.`),this._queuedChunks=[],this._progressiveDone=progressiveDone,this._contentDispositionFilename=contentDispositionFilename,initialData?.length>0){let buffer=initialData instanceof Uint8Array&&initialData.byteLength===initialData.buffer.byteLength?initialData.buffer:new Uint8Array(initialData).buffer;this._queuedChunks.push(buffer)}this._pdfDataRangeTransport=pdfDataRangeTransport,this._isStreamingSupported=!disableStream,this._isRangeSupported=!disableRange,this._contentLength=length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((begin,chunk)=>{this._onReceiveData({begin,chunk})}),this._pdfDataRangeTransport.addProgressListener((loaded,total)=>{this._onProgress({loaded,total})}),this._pdfDataRangeTransport.addProgressiveReadListener(chunk=>{this._onReceiveData({chunk})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin,chunk}){let buffer=chunk instanceof Uint8Array&&chunk.byteLength===chunk.buffer.byteLength?chunk.buffer:new Uint8Array(chunk).buffer;if(begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(buffer):this._queuedChunks.push(buffer);else{let found=this._rangeReaders.some(function(rangeReader){return rangeReader._begin===begin?(rangeReader._enqueue(buffer),!0):!1});(0,_util.assert)(found,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(evt){evt.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:evt.loaded}):this._fullRequestReader?.onProgress?.({loaded:evt.loaded,total:evt.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(reader){let i$1=this._rangeReaders.indexOf(reader);i$1>=0&&this._rangeReaders.splice(i$1,1)}getFullReader(){(0,_util.assert)(!this._fullRequestReader,`PDFDataTransportStream.getFullReader can only be called once.`);let queuedChunks=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,queuedChunks,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(begin,end){if(end<=this._progressiveDataLength)return null;let reader=new PDFDataTransportStreamRangeReader(this,begin,end);return this._pdfDataRangeTransport.requestDataRange(begin,end),this._rangeReaders.push(reader),reader}cancelAllRequests(reason){this._fullRequestReader?.cancel(reason);for(let reader of this._rangeReaders.slice(0))reader.cancel(reason);this._pdfDataRangeTransport.abort()}}exports$1.PDFDataTransportStream=PDFDataTransportStream;class PDFDataTransportStreamReader{constructor(stream,queuedChunks,progressiveDone=!1,contentDispositionFilename=null){this._stream=stream,this._done=progressiveDone||!1,this._filename=(0,_display_utils.isPdfFile)(contentDispositionFilename)?contentDispositionFilename:null,this._queuedChunks=queuedChunks||[],this._loaded=0;for(let chunk of this._queuedChunks)this._loaded+=chunk.byteLength;this._requests=[],this._headersReady=Promise.resolve(),stream._fullRequestReader=this,this.onProgress=null}_enqueue(chunk){this._done||(this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunks.push(chunk),this._loaded+=chunk.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let requestCapability=new _util.PromiseCapability;return this._requests.push(requestCapability),requestCapability.promise}cancel(reason){this._done=!0;for(let requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||=!0}}class PDFDataTransportStreamRangeReader{constructor(stream,begin,end){this._stream=stream,this._begin=begin,this._end=end,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(chunk){if(!this._done){if(this._requests.length===0)this._queuedChunk=chunk;else{this._requests.shift().resolve({value:chunk,done:!1});for(let requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let chunk=this._queuedChunk;return this._queuedChunk=null,{value:chunk,done:!1}}if(this._done)return{value:void 0,done:!0};let requestCapability=new _util.PromiseCapability;return this._requests.push(requestCapability),requestCapability.promise}cancel(reason){this._done=!0;for(let requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.PDFFetchStream=void 0;var _util=__w_pdfjs_require__$1(1),_network_utils=__w_pdfjs_require__$1(20);function createFetchOptions(headers,withCredentials,abortController){return{method:`GET`,headers,signal:abortController.signal,mode:`cors`,credentials:withCredentials?`include`:`same-origin`,redirect:`follow`}}function createHeaders(httpHeaders){let headers=new Headers;for(let property in httpHeaders){let value=httpHeaders[property];value!==void 0&&headers.append(property,value)}return headers}function getArrayBuffer(val){return val instanceof Uint8Array?val.buffer:val instanceof ArrayBuffer?val:((0,_util.warn)(`getArrayBuffer - unexpected data format: ${val}`),new Uint8Array(val).buffer)}class PDFFetchStream{constructor(source){this.source=source,this.isHttp=/^https?:/i.test(source.url),this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_util.assert)(!this._fullRequestReader,`PDFFetchStream.getFullReader can only be called once.`),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(begin,end){if(end<=this._progressiveDataLength)return null;let reader=new PDFFetchStreamRangeReader(this,begin,end);return this._rangeRequestReaders.push(reader),reader}cancelAllRequests(reason){this._fullRequestReader?.cancel(reason);for(let reader of this._rangeRequestReaders.slice(0))reader.cancel(reason)}}exports$1.PDFFetchStream=PDFFetchStream;class PDFFetchStreamReader{constructor(stream){this._stream=stream,this._reader=null,this._loaded=0,this._filename=null;let source=stream.source;this._withCredentials=source.withCredentials||!1,this._contentLength=source.length,this._headersCapability=new _util.PromiseCapability,this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._headers=createHeaders(this._stream.httpHeaders);let url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(response=>{if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);this._reader=response.body.getReader(),this._headersCapability.resolve();let getResponseHeader=name=>response.headers.get(name),{allowRangeRequests,suggestedLength}=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=allowRangeRequests,this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _util.AbortException(`Streaming is disabled.`))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value,done}=await this._reader.read();return done?{value,done}:(this._loaded+=value.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(value),done:!1})}cancel(reason){this._reader?.cancel(reason),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(stream,begin,end){this._stream=stream,this._reader=null,this._loaded=0;let source=stream.source;this._withCredentials=source.withCredentials||!1,this._readCapability=new _util.PromiseCapability,this._isStreamingSupported=!source.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append(`Range`,`bytes=${begin}-${end-1}`);let url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(response=>{if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);this._readCapability.resolve(),this._reader=response.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value,done}=await this._reader.read();return done?{value,done}:(this._loaded+=value.byteLength,this.onProgress?.({loaded:this._loaded}),{value:getArrayBuffer(value),done:!1})}cancel(reason){this._reader?.cancel(reason),this._abortController.abort()}}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.createResponseStatusError=createResponseStatusError,exports$1.extractFilenameFromHeader=extractFilenameFromHeader,exports$1.validateRangeRequestCapabilities=validateRangeRequestCapabilities,exports$1.validateResponseStatus=validateResponseStatus;var _util=__w_pdfjs_require__$1(1),_content_disposition=__w_pdfjs_require__$1(21),_display_utils=__w_pdfjs_require__$1(6);function validateRangeRequestCapabilities({getResponseHeader,isHttp,rangeChunkSize,disableRange}){let returnValues={allowRangeRequests:!1,suggestedLength:void 0},length=parseInt(getResponseHeader(`Content-Length`),10);return!Number.isInteger(length)||(returnValues.suggestedLength=length,length<=2*rangeChunkSize)||disableRange||!isHttp||getResponseHeader(`Accept-Ranges`)!==`bytes`||(getResponseHeader(`Content-Encoding`)||`identity`)!==`identity`||(returnValues.allowRangeRequests=!0),returnValues}function extractFilenameFromHeader(getResponseHeader){let contentDisposition=getResponseHeader(`Content-Disposition`);if(contentDisposition){let filename=(0,_content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);if(filename.includes(`%`))try{filename=decodeURIComponent(filename)}catch{}if((0,_display_utils.isPdfFile)(filename))return filename}return null}function createResponseStatusError(status,url){return status===404||status===0&&url.startsWith(`file:`)?new _util.MissingPDFException(`Missing PDF "`+url+`".`):new _util.UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF "${url}".`,status)}function validateResponseStatus(status){return status===200||status===206}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.getFilenameFromContentDispositionHeader=getFilenameFromContentDispositionHeader;var _util=__w_pdfjs_require__$1(1);function getFilenameFromContentDispositionHeader(contentDisposition){let needsEncodingFixup=!0,tmp=toParamRegExp(`filename\\*`,`i`).exec(contentDisposition);if(tmp){tmp=tmp[1];let filename=rfc2616unquote(tmp);return filename=unescape(filename),filename=rfc5987decode(filename),filename=rfc2047decode(filename),fixupEncoding(filename)}if(tmp=rfc2231getparam(contentDisposition),tmp)return fixupEncoding(rfc2047decode(tmp));if(tmp=toParamRegExp(`filename`,`i`).exec(contentDisposition),tmp){tmp=tmp[1];let filename=rfc2616unquote(tmp);return filename=rfc2047decode(filename),fixupEncoding(filename)}function toParamRegExp(attributePattern,flags){return RegExp(`(?:^|;)\\s*`+attributePattern+`\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)`,flags)}function textdecode(encoding,value){if(encoding){if(!/^[\x00-\xFF]+$/.test(value))return value;try{let decoder=new TextDecoder(encoding,{fatal:!0}),buffer=(0,_util.stringToBytes)(value);value=decoder.decode(buffer),needsEncodingFixup=!1}catch{}}return value}function fixupEncoding(value){return needsEncodingFixup&&/[\x80-\xff]/.test(value)&&(value=textdecode(`utf-8`,value),needsEncodingFixup&&(value=textdecode(`iso-8859-1`,value))),value}function rfc2231getparam(contentDispositionStr){let matches=[],match,iter=toParamRegExp(`filename\\*((?!0\\d)\\d+)(\\*?)`,`ig`);for(;(match=iter.exec(contentDispositionStr))!==null;){let[,n$1,quot,part]=match;if(n$1=parseInt(n$1,10),n$1 in matches){if(n$1===0)break;continue}matches[n$1]=[quot,part]}let parts=[];for(let n$1=0;n$1<matches.length&&n$1 in matches;++n$1){let[quot,part]=matches[n$1];part=rfc2616unquote(part),quot&&(part=unescape(part),n$1===0&&(part=rfc5987decode(part))),parts.push(part)}return parts.join(``)}function rfc2616unquote(value){if(value.startsWith(`"`)){let parts=value.slice(1).split(`\\"`);for(let i$1=0;i$1<parts.length;++i$1){let quotindex=parts[i$1].indexOf(`"`);quotindex!==-1&&(parts[i$1]=parts[i$1].slice(0,quotindex),parts.length=i$1+1),parts[i$1]=parts[i$1].replaceAll(/\\(.)/g,`$1`)}value=parts.join(`"`)}return value}function rfc5987decode(extvalue){let encodingend=extvalue.indexOf(`'`);return encodingend===-1?extvalue:textdecode(extvalue.slice(0,encodingend),extvalue.slice(encodingend+1).replace(/^[^']*'/,``))}function rfc2047decode(value){return!value.startsWith(`=?`)||/[\x00-\x19\x80-\xff]/.test(value)?value:value.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(matches,charset,encoding,text){if(encoding===`q`||encoding===`Q`)return text=text.replaceAll(`_`,` `),text=text.replaceAll(/=([0-9a-fA-F]{2})/g,function(match,hex){return String.fromCharCode(parseInt(hex,16))}),textdecode(charset,text);try{text=atob(text)}catch{}return textdecode(charset,text)})}return``}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.PDFNetworkStream=void 0;var _util=__w_pdfjs_require__$1(1),_network_utils=__w_pdfjs_require__$1(20);let OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function getArrayBuffer(xhr){let data=xhr.response;return typeof data==`string`?(0,_util.stringToBytes)(data).buffer:data}class NetworkManager{constructor(url,args={}){this.url=url,this.isHttp=/^https?:/i.test(url),this.httpHeaders=this.isHttp&&args.httpHeaders||Object.create(null),this.withCredentials=args.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(begin,end,listeners){let args={begin,end};for(let prop in listeners)args[prop]=listeners[prop];return this.request(args)}requestFull(listeners){return this.request(listeners)}request(args){let xhr=new XMLHttpRequest,xhrId=this.currXhrId++,pendingRequest=this.pendingRequests[xhrId]={xhr};for(let property in xhr.open(`GET`,this.url),xhr.withCredentials=this.withCredentials,this.httpHeaders){let value=this.httpHeaders[property];value!==void 0&&xhr.setRequestHeader(property,value)}return this.isHttp&&`begin`in args&&`end`in args?(xhr.setRequestHeader(`Range`,`bytes=${args.begin}-${args.end-1}`),pendingRequest.expectedStatus=206):pendingRequest.expectedStatus=200,xhr.responseType=`arraybuffer`,args.onError&&(xhr.onerror=function(evt){args.onError(xhr.status)}),xhr.onreadystatechange=this.onStateChange.bind(this,xhrId),xhr.onprogress=this.onProgress.bind(this,xhrId),pendingRequest.onHeadersReceived=args.onHeadersReceived,pendingRequest.onDone=args.onDone,pendingRequest.onError=args.onError,pendingRequest.onProgress=args.onProgress,xhr.send(null),xhrId}onProgress(xhrId,evt){let pendingRequest=this.pendingRequests[xhrId];pendingRequest&&pendingRequest.onProgress?.(evt)}onStateChange(xhrId,evt){let pendingRequest=this.pendingRequests[xhrId];if(!pendingRequest)return;let xhr=pendingRequest.xhr;if(xhr.readyState>=2&&pendingRequest.onHeadersReceived&&(pendingRequest.onHeadersReceived(),delete pendingRequest.onHeadersReceived),xhr.readyState!==4||!(xhrId in this.pendingRequests))return;if(delete this.pendingRequests[xhrId],xhr.status===0&&this.isHttp){pendingRequest.onError?.(xhr.status);return}let xhrStatus=xhr.status||200;if(!(xhrStatus===200&&pendingRequest.expectedStatus===206)&&xhrStatus!==pendingRequest.expectedStatus){pendingRequest.onError?.(xhr.status);return}let chunk=getArrayBuffer(xhr);if(xhrStatus===206){let rangeHeader=xhr.getResponseHeader(`Content-Range`),matches=/bytes (\d+)-(\d+)\/(\d+)/.exec(rangeHeader);pendingRequest.onDone({begin:parseInt(matches[1],10),chunk})}else chunk?pendingRequest.onDone({begin:0,chunk}):pendingRequest.onError?.(xhr.status)}getRequestXhr(xhrId){return this.pendingRequests[xhrId].xhr}isPendingRequest(xhrId){return xhrId in this.pendingRequests}abortRequest(xhrId){let xhr=this.pendingRequests[xhrId].xhr;delete this.pendingRequests[xhrId],xhr.abort()}}class PDFNetworkStream{constructor(source){this._source=source,this._manager=new NetworkManager(source.url,{httpHeaders:source.httpHeaders,withCredentials:source.withCredentials}),this._rangeChunkSize=source.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(reader){let i$1=this._rangeRequestReaders.indexOf(reader);i$1>=0&&this._rangeRequestReaders.splice(i$1,1)}getFullReader(){return(0,_util.assert)(!this._fullRequestReader,`PDFNetworkStream.getFullReader can only be called once.`),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(begin,end){let reader=new PDFNetworkStreamRangeRequestReader(this._manager,begin,end);return reader.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(reader),reader}cancelAllRequests(reason){this._fullRequestReader?.cancel(reason);for(let reader of this._rangeRequestReaders.slice(0))reader.cancel(reason)}}exports$1.PDFNetworkStream=PDFNetworkStream;class PDFNetworkStreamFullRequestReader{constructor(manager,source){this._manager=manager;let args={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=source.url,this._fullRequestId=manager.requestFull(args),this._headersReceivedCapability=new _util.PromiseCapability,this._disableRange=source.disableRange||!1,this._contentLength=source.length,this._rangeChunkSize=source.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let fullRequestXhrId=this._fullRequestId,fullRequestXhr=this._manager.getRequestXhr(fullRequestXhrId),getResponseHeader=name=>fullRequestXhr.getResponseHeader(name),{allowRangeRequests,suggestedLength}=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),this._isRangeSupported&&this._manager.abortRequest(fullRequestXhrId),this._headersReceivedCapability.resolve()}_onDone(data){if(data&&(this._requests.length>0?this._requests.shift().resolve({value:data.chunk,done:!1}):this._cachedChunks.push(data.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(status){this._storedError=(0,_network_utils.createResponseStatusError)(status,this._url),this._headersReceivedCapability.reject(this._storedError);for(let requestCapability of this._requests)requestCapability.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(evt){this.onProgress?.({loaded:evt.loaded,total:evt.lengthComputable?evt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let requestCapability=new _util.PromiseCapability;return this._requests.push(requestCapability),requestCapability.promise}cancel(reason){this._done=!0,this._headersReceivedCapability.reject(reason);for(let requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(manager,begin,end){this._manager=manager;let args={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=manager.url,this._requestId=manager.requestRange(begin,end,args),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(data){let chunk=data.chunk;this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunk=chunk,this._done=!0;for(let requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(status){this._storedError=(0,_network_utils.createResponseStatusError)(status,this._url);for(let requestCapability of this._requests)requestCapability.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(evt){this.isStreamingSupported||this.onProgress?.({loaded:evt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let chunk=this._queuedChunk;return this._queuedChunk=null,{value:chunk,done:!1}}if(this._done)return{value:void 0,done:!0};let requestCapability=new _util.PromiseCapability;return this._requests.push(requestCapability),requestCapability.promise}cancel(reason){this._done=!0;for(let requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.PDFNodeStream=void 0;var _util=__w_pdfjs_require__$1(1),_network_utils=__w_pdfjs_require__$1(20);let fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(sourceUrl){let url=require___vite_browser_external(),parsedUrl=url.parse(sourceUrl);return parsedUrl.protocol===`file:`||parsedUrl.host?parsedUrl:/^[a-z]:[/\\]/i.test(sourceUrl)?url.parse(`file:///${sourceUrl}`):(parsedUrl.host||(parsedUrl.protocol=`file:`),parsedUrl)}class PDFNodeStream{constructor(source){this.source=source,this.url=parseUrl(source.url),this.isHttp=this.url.protocol===`http:`||this.url.protocol===`https:`,this.isFsUrl=this.url.protocol===`file:`,this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_util.assert)(!this._fullRequestReader,`PDFNodeStream.getFullReader can only be called once.`),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader(start,end){if(end<=this._progressiveDataLength)return null;let rangeReader=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,start,end):new PDFNodeStreamRangeReader(this,start,end);return this._rangeRequestReaders.push(rangeReader),rangeReader}cancelAllRequests(reason){this._fullRequestReader?.cancel(reason);for(let reader of this._rangeRequestReaders.slice(0))reader.cancel(reason)}}exports$1.PDFNodeStream=PDFNodeStream;class BaseFullReader{constructor(stream){this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null;let source=stream.source;this._contentLength=source.length,this._loaded=0,this._filename=null,this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._readableStream=null,this._readCapability=new _util.PromiseCapability,this._headersCapability=new _util.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let chunk=this._readableStream.read();return chunk===null?(this._readCapability=new _util.PromiseCapability,this.read()):(this._loaded+=chunk.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(chunk).buffer,done:!1})}cancel(reason){if(!this._readableStream){this._error(reason);return}this._readableStream.destroy(reason)}_error(reason){this._storedError=reason,this._readCapability.resolve()}_setReadableStream(readableStream){this._readableStream=readableStream,readableStream.on(`readable`,()=>{this._readCapability.resolve()}),readableStream.on(`end`,()=>{readableStream.destroy(),this._done=!0,this._readCapability.resolve()}),readableStream.on(`error`,reason=>{this._error(reason)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _util.AbortException(`streaming is disabled`)),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(stream){this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new _util.PromiseCapability,this._isStreamingSupported=!stream.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let chunk=this._readableStream.read();return chunk===null?(this._readCapability=new _util.PromiseCapability,this.read()):(this._loaded+=chunk.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(chunk).buffer,done:!1})}cancel(reason){if(!this._readableStream){this._error(reason);return}this._readableStream.destroy(reason)}_error(reason){this._storedError=reason,this._readCapability.resolve()}_setReadableStream(readableStream){this._readableStream=readableStream,readableStream.on(`readable`,()=>{this._readCapability.resolve()}),readableStream.on(`end`,()=>{readableStream.destroy(),this._done=!0,this._readCapability.resolve()}),readableStream.on(`error`,reason=>{this._error(reason)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(parsedUrl,headers){return{protocol:parsedUrl.protocol,auth:parsedUrl.auth,host:parsedUrl.hostname,port:parsedUrl.port,path:parsedUrl.path,method:`GET`,headers}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(stream){super(stream),this._request=null,this._url.protocol,this._request=require___vite_browser_external().request(createRequestOptions(this._url,stream.httpHeaders),response=>{if(response.statusCode===404){let error=new _util.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=error,this._headersCapability.reject(error);return}this._headersCapability.resolve(),this._setReadableStream(response);let getResponseHeader=name=>this._readableStream.headers[name.toLowerCase()],{allowRangeRequests,suggestedLength}=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader,isHttp:stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=allowRangeRequests,this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader)}),this._request.on(`error`,reason=>{this._storedError=reason,this._headersCapability.reject(reason)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(stream,start,end){for(let property in super(stream),this._httpHeaders={},stream.httpHeaders){let value=stream.httpHeaders[property];value!==void 0&&(this._httpHeaders[property]=value)}this._httpHeaders.Range=`bytes=${start}-${end-1}`,this._request=null,this._url.protocol,this._request=require___vite_browser_external().request(createRequestOptions(this._url,this._httpHeaders),response=>{if(response.statusCode===404){this._storedError=new _util.MissingPDFException(`Missing PDF "${this._url}".`);return}this._setReadableStream(response)}),this._request.on(`error`,reason=>{this._storedError=reason}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(stream){super(stream);let path=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(path=path.replace(/^\//,``));let fs=require___vite_browser_external();fs.lstat(path,(error,stat)=>{if(error){error.code===`ENOENT`&&(error=new _util.MissingPDFException(`Missing PDF "${path}".`)),this._storedError=error,this._headersCapability.reject(error);return}this._contentLength=stat.size,this._setReadableStream(fs.createReadStream(path)),this._headersCapability.resolve()})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(stream,start,end){super(stream);let path=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(path=path.replace(/^\//,``));let fs=require___vite_browser_external();this._setReadableStream(fs.createReadStream(path,{start,end:end-1}))}}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.SVGGraphics=void 0;var _display_utils=__w_pdfjs_require__$1(6),_util=__w_pdfjs_require__$1(1);let SVG_DEFAULTS={fontStyle:`normal`,fontWeight:`normal`,fillColor:`#000000`},XML_NS=`http://www.w3.org/XML/1998/namespace`,XLINK_NS=`http://www.w3.org/1999/xlink`,LINE_CAP_STYLES=[`butt`,`round`,`square`],LINE_JOIN_STYLES=[`miter`,`round`,`bevel`],createObjectURL=function(data,contentType=``,forceDataSchema=!1){if(URL.createObjectURL&&typeof Blob<`u`&&!forceDataSchema)return URL.createObjectURL(new Blob([data],{type:contentType}));let digits=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=`,buffer=`data:${contentType};base64,`;for(let i$1=0,ii=data.length;i$1<ii;i$1+=3){let b1=data[i$1]&255,b2=data[i$1+1]&255,b3=data[i$1+2]&255,d1=b1>>2,d2=(b1&3)<<4|b2>>4,d3=i$1+1<ii?(b2&15)<<2|b3>>6:64,d4=i$1+2<ii?b3&63:64;buffer+=digits[d1]+digits[d2]+digits[d3]+digits[d4]}return buffer},convertImgDataToPng=function(){let PNG_HEADER=new Uint8Array([137,80,78,71,13,10,26,10]),CHUNK_WRAPPER_SIZE=12,crcTable=new Int32Array(256);for(let i$1=0;i$1<256;i$1++){let c$3=i$1;for(let h$2=0;h$2<8;h$2++)c$3=c$3&1?3988292384^c$3>>1&2147483647:c$3>>1&2147483647;crcTable[i$1]=c$3}function crc32(data,start,end){let crc=-1;for(let i$1=start;i$1<end;i$1++){let b$2=crcTable[(crc^data[i$1])&255];crc=crc>>>8^b$2}return crc^-1}function writePngChunk(type,body,data,offset){let p$2=offset,len=body.length;data[p$2]=len>>24&255,data[p$2+1]=len>>16&255,data[p$2+2]=len>>8&255,data[p$2+3]=len&255,p$2+=4,data[p$2]=type.charCodeAt(0)&255,data[p$2+1]=type.charCodeAt(1)&255,data[p$2+2]=type.charCodeAt(2)&255,data[p$2+3]=type.charCodeAt(3)&255,p$2+=4,data.set(body,p$2),p$2+=body.length;let crc=crc32(data,offset+4,p$2);data[p$2]=crc>>24&255,data[p$2+1]=crc>>16&255,data[p$2+2]=crc>>8&255,data[p$2+3]=crc&255}function adler32(data,start,end){let a$2=1,b$2=0;for(let i$1=start;i$1<end;++i$1)a$2=(a$2+(data[i$1]&255))%65521,b$2=(b$2+a$2)%65521;return b$2<<16|a$2}function deflateSync(literals){if(!_util.isNodeJS)return deflateSyncUncompressed(literals);try{let input=parseInt(process.versions.node)>=8?literals:Buffer.from(literals),output=require___vite_browser_external().deflateSync(input,{level:9});return output instanceof Uint8Array?output:new Uint8Array(output)}catch(e$1){(0,_util.warn)(`Not compressing PNG because zlib.deflateSync is unavailable: `+e$1)}return deflateSyncUncompressed(literals)}function deflateSyncUncompressed(literals){let len=literals.length,maxBlockLength=65535,deflateBlocks=Math.ceil(len/maxBlockLength),idat=new Uint8Array(2+len+deflateBlocks*5+4),pi=0;idat[pi++]=120,idat[pi++]=156;let pos=0;for(;len>maxBlockLength;)idat[pi++]=0,idat[pi++]=255,idat[pi++]=255,idat[pi++]=0,idat[pi++]=0,idat.set(literals.subarray(pos,pos+maxBlockLength),pi),pi+=maxBlockLength,pos+=maxBlockLength,len-=maxBlockLength;idat[pi++]=1,idat[pi++]=len&255,idat[pi++]=len>>8&255,idat[pi++]=~len&255,idat[pi++]=(~len&65535)>>8&255,idat.set(literals.subarray(pos),pi),pi+=literals.length-pos;let adler=adler32(literals,0,literals.length);return idat[pi++]=adler>>24&255,idat[pi++]=adler>>16&255,idat[pi++]=adler>>8&255,idat[pi++]=adler&255,idat}function encode$4(imgData,kind,forceDataSchema,isMask){let width=imgData.width,height=imgData.height,bitDepth,colorType,lineSize,bytes=imgData.data;switch(kind){case _util.ImageKind.GRAYSCALE_1BPP:colorType=0,bitDepth=1,lineSize=width+7>>3;break;case _util.ImageKind.RGB_24BPP:colorType=2,bitDepth=8,lineSize=width*3;break;case _util.ImageKind.RGBA_32BPP:colorType=6,bitDepth=8,lineSize=width*4;break;default:throw Error(`invalid format`)}let literals=new Uint8Array((1+lineSize)*height),offsetLiterals=0,offsetBytes=0;for(let y$2=0;y$2<height;++y$2)literals[offsetLiterals++]=0,literals.set(bytes.subarray(offsetBytes,offsetBytes+lineSize),offsetLiterals),offsetBytes+=lineSize,offsetLiterals+=lineSize;if(kind===_util.ImageKind.GRAYSCALE_1BPP&&isMask){offsetLiterals=0;for(let y$2=0;y$2<height;y$2++){offsetLiterals++;for(let i$1=0;i$1<lineSize;i$1++)literals[offsetLiterals++]^=255}}let ihdr=new Uint8Array([width>>24&255,width>>16&255,width>>8&255,width&255,height>>24&255,height>>16&255,height>>8&255,height&255,bitDepth,colorType,0,0,0]),idat=deflateSync(literals),pngLength=PNG_HEADER.length+36+ihdr.length+idat.length,data=new Uint8Array(pngLength),offset=0;return data.set(PNG_HEADER,offset),offset+=PNG_HEADER.length,writePngChunk(`IHDR`,ihdr,data,offset),offset+=12+ihdr.length,writePngChunk(`IDATA`,idat,data,offset),offset+=12+idat.length,writePngChunk(`IEND`,new Uint8Array,data,offset),createObjectURL(data,`image/png`,forceDataSchema)}return function(imgData,forceDataSchema,isMask){return encode$4(imgData,imgData.kind===void 0?_util.ImageKind.GRAYSCALE_1BPP:imgData.kind,forceDataSchema,isMask)}}();class SVGExtraState{constructor(){this.fontSizeScale=1,this.fontWeight=SVG_DEFAULTS.fontWeight,this.fontSize=0,this.textMatrix=_util.IDENTITY_MATRIX,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=SVG_DEFAULTS.fillColor,this.strokeColor=`#000000`,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin=``,this.lineCap=``,this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=``}clone(){return Object.create(this)}setCurrentPoint(x$1,y$2){this.x=x$1,this.y=y$2}}function opListToTree(opList){let opTree=[],tmp=[];for(let opListElement of opList){if(opListElement.fn===`save`){opTree.push({fnId:92,fn:`group`,items:[]}),tmp.push(opTree),opTree=opTree.at(-1).items;continue}opListElement.fn===`restore`?opTree=tmp.pop():opTree.push(opListElement)}return opTree}function pf(value){if(Number.isInteger(value))return value.toString();let s$1=value.toFixed(10),i$1=s$1.length-1;if(s$1[i$1]!==`0`)return s$1;do i$1--;while(s$1[i$1]===`0`);return s$1.substring(0,s$1[i$1]===`.`?i$1:i$1+1)}function pm(m$2){if(m$2[4]===0&&m$2[5]===0){if(m$2[1]===0&&m$2[2]===0)return m$2[0]===1&&m$2[3]===1?``:`scale(${pf(m$2[0])} ${pf(m$2[3])})`;if(m$2[0]===m$2[3]&&m$2[1]===-m$2[2])return`rotate(${pf(Math.acos(m$2[0])*180/Math.PI)})`}else if(m$2[0]===1&&m$2[1]===0&&m$2[2]===0&&m$2[3]===1)return`translate(${pf(m$2[4])} ${pf(m$2[5])})`;return`matrix(${pf(m$2[0])} ${pf(m$2[1])} ${pf(m$2[2])} ${pf(m$2[3])} ${pf(m$2[4])} ${pf(m$2[5])})`}let clipCount=0,maskCount=0,shadingCount=0;class SVGGraphics{constructor(commonObjs,objs,forceDataSchema=!1){for(let op in(0,_display_utils.deprecated)(`The SVG back-end is no longer maintained and *may* be removed in the future.`),this.svgFactory=new _display_utils.DOMSVGFactory,this.current=new SVGExtraState,this.transformMatrix=_util.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=commonObjs,this.objs=objs,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!forceDataSchema,this._operatorIdMapping=[],_util.OPS)this._operatorIdMapping[_util.OPS[op]]=op}getObject(data,fallback=null){return typeof data==`string`?data.startsWith(`g_`)?this.commonObjs.get(data):this.objs.get(data):fallback}save(){this.transformStack.push(this.transformMatrix);let old=this.current;this.extraStack.push(old),this.current=old.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(items){this.save(),this.executeOpTree(items),this.restore()}loadDependencies(operatorList){let fnArray=operatorList.fnArray,argsArray=operatorList.argsArray;for(let i$1=0,ii=fnArray.length;i$1<ii;i$1++)if(fnArray[i$1]===_util.OPS.dependency)for(let obj of argsArray[i$1]){let objsPool=obj.startsWith(`g_`)?this.commonObjs:this.objs,promise=new Promise(resolve=>{objsPool.get(obj,resolve)});this.current.dependencies.push(promise)}return Promise.all(this.current.dependencies)}transform(a$2,b$2,c$3,d$2,e$1,f$2){let transformMatrix=[a$2,b$2,c$3,d$2,e$1,f$2];this.transformMatrix=_util.Util.transform(this.transformMatrix,transformMatrix),this.tgrp=null}getSVG(operatorList,viewport){this.viewport=viewport;let svgElement=this._initialize(viewport);return this.loadDependencies(operatorList).then(()=>(this.transformMatrix=_util.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(operatorList)),svgElement))}convertOpList(operatorList){let operatorIdMapping=this._operatorIdMapping,argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,opList=[];for(let i$1=0,ii=fnArray.length;i$1<ii;i$1++){let fnId=fnArray[i$1];opList.push({fnId,fn:operatorIdMapping[fnId],args:argsArray[i$1]})}return opListToTree(opList)}executeOpTree(opTree){for(let opTreeElement of opTree){let fn=opTreeElement.fn,fnId=opTreeElement.fnId,args=opTreeElement.args;switch(fnId|0){case _util.OPS.beginText:this.beginText();break;case _util.OPS.dependency:break;case _util.OPS.setLeading:this.setLeading(args);break;case _util.OPS.setLeadingMoveText:this.setLeadingMoveText(args[0],args[1]);break;case _util.OPS.setFont:this.setFont(args);break;case _util.OPS.showText:this.showText(args[0]);break;case _util.OPS.showSpacedText:this.showText(args[0]);break;case _util.OPS.endText:this.endText();break;case _util.OPS.moveText:this.moveText(args[0],args[1]);break;case _util.OPS.setCharSpacing:this.setCharSpacing(args[0]);break;case _util.OPS.setWordSpacing:this.setWordSpacing(args[0]);break;case _util.OPS.setHScale:this.setHScale(args[0]);break;case _util.OPS.setTextMatrix:this.setTextMatrix(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.setTextRise:this.setTextRise(args[0]);break;case _util.OPS.setTextRenderingMode:this.setTextRenderingMode(args[0]);break;case _util.OPS.setLineWidth:this.setLineWidth(args[0]);break;case _util.OPS.setLineJoin:this.setLineJoin(args[0]);break;case _util.OPS.setLineCap:this.setLineCap(args[0]);break;case _util.OPS.setMiterLimit:this.setMiterLimit(args[0]);break;case _util.OPS.setFillRGBColor:this.setFillRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeRGBColor:this.setStrokeRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeColorN:this.setStrokeColorN(args);break;case _util.OPS.setFillColorN:this.setFillColorN(args);break;case _util.OPS.shadingFill:this.shadingFill(args[0]);break;case _util.OPS.setDash:this.setDash(args[0],args[1]);break;case _util.OPS.setRenderingIntent:this.setRenderingIntent(args[0]);break;case _util.OPS.setFlatness:this.setFlatness(args[0]);break;case _util.OPS.setGState:this.setGState(args[0]);break;case _util.OPS.fill:this.fill();break;case _util.OPS.eoFill:this.eoFill();break;case _util.OPS.stroke:this.stroke();break;case _util.OPS.fillStroke:this.fillStroke();break;case _util.OPS.eoFillStroke:this.eoFillStroke();break;case _util.OPS.clip:this.clip(`nonzero`);break;case _util.OPS.eoClip:this.clip(`evenodd`);break;case _util.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _util.OPS.paintImageXObject:this.paintImageXObject(args[0]);break;case _util.OPS.paintInlineImageXObject:this.paintInlineImageXObject(args[0]);break;case _util.OPS.paintImageMaskXObject:this.paintImageMaskXObject(args[0]);break;case _util.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(args[0],args[1]);break;case _util.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _util.OPS.closePath:this.closePath();break;case _util.OPS.closeStroke:this.closeStroke();break;case _util.OPS.closeFillStroke:this.closeFillStroke();break;case _util.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _util.OPS.nextLine:this.nextLine();break;case _util.OPS.transform:this.transform(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.constructPath:this.constructPath(args[0],args[1]);break;case _util.OPS.endPath:this.endPath();break;case 92:this.group(opTreeElement.items);break;default:(0,_util.warn)(`Unimplemented operator ${fn}`);break}}}setWordSpacing(wordSpacing){this.current.wordSpacing=wordSpacing}setCharSpacing(charSpacing){this.current.charSpacing=charSpacing}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(a$2,b$2,c$3,d$2,e$1,f$2){let current=this.current;current.textMatrix=current.lineMatrix=[a$2,b$2,c$3,d$2,e$1,f$2],current.textMatrixScale=Math.hypot(a$2,b$2),current.x=current.lineX=0,current.y=current.lineY=0,current.xcoords=[],current.ycoords=[],current.tspan=this.svgFactory.createElement(`svg:tspan`),current.tspan.setAttributeNS(null,`font-family`,current.fontFamily),current.tspan.setAttributeNS(null,`font-size`,`${pf(current.fontSize)}px`),current.tspan.setAttributeNS(null,`y`,pf(-current.y)),current.txtElement=this.svgFactory.createElement(`svg:text`),current.txtElement.append(current.tspan)}beginText(){let current=this.current;current.x=current.lineX=0,current.y=current.lineY=0,current.textMatrix=_util.IDENTITY_MATRIX,current.lineMatrix=_util.IDENTITY_MATRIX,current.textMatrixScale=1,current.tspan=this.svgFactory.createElement(`svg:tspan`),current.txtElement=this.svgFactory.createElement(`svg:text`),current.txtgrp=this.svgFactory.createElement(`svg:g`),current.xcoords=[],current.ycoords=[]}moveText(x$1,y$2){let current=this.current;current.x=current.lineX+=x$1,current.y=current.lineY+=y$2,current.xcoords=[],current.ycoords=[],current.tspan=this.svgFactory.createElement(`svg:tspan`),current.tspan.setAttributeNS(null,`font-family`,current.fontFamily),current.tspan.setAttributeNS(null,`font-size`,`${pf(current.fontSize)}px`),current.tspan.setAttributeNS(null,`y`,pf(-current.y))}showText(glyphs){let current=this.current,font=current.font,fontSize=current.fontSize;if(fontSize===0)return;let fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0],x$1=0;for(let glyph of glyphs){if(glyph===null){x$1+=fontDirection*wordSpacing;continue}else if(typeof glyph==`number`){x$1+=spacingDir*glyph*fontSize/1e3;continue}let spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar,scaledX,scaledY,width=glyph.width;if(vertical){let vx,vmetric=glyph.vmetric||defaultVMetrics;vx=glyph.vmetric?vmetric[1]:width*.5,vx=-vx*widthAdvanceScale;let vy=vmetric[2]*widthAdvanceScale;width=vmetric?-vmetric[0]:width,scaledX=vx/fontSizeScale,scaledY=(x$1+vy)/fontSizeScale}else scaledX=x$1/fontSizeScale,scaledY=0;(glyph.isInFont||font.missingFile)&&(current.xcoords.push(current.x+scaledX),vertical&&current.ycoords.push(-current.y+scaledY),current.tspan.textContent+=character);let charWidth=vertical?width*widthAdvanceScale-spacing*fontDirection:width*widthAdvanceScale+spacing*fontDirection;x$1+=charWidth}current.tspan.setAttributeNS(null,`x`,current.xcoords.map(pf).join(` `)),vertical?current.tspan.setAttributeNS(null,`y`,current.ycoords.map(pf).join(` `)):current.tspan.setAttributeNS(null,`y`,pf(-current.y)),vertical?current.y-=x$1:current.x+=x$1*textHScale,current.tspan.setAttributeNS(null,`font-family`,current.fontFamily),current.tspan.setAttributeNS(null,`font-size`,`${pf(current.fontSize)}px`),current.fontStyle!==SVG_DEFAULTS.fontStyle&&current.tspan.setAttributeNS(null,`font-style`,current.fontStyle),current.fontWeight!==SVG_DEFAULTS.fontWeight&&current.tspan.setAttributeNS(null,`font-weight`,current.fontWeight);let fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;if(fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE?(current.fillColor!==SVG_DEFAULTS.fillColor&&current.tspan.setAttributeNS(null,`fill`,current.fillColor),current.fillAlpha<1&&current.tspan.setAttributeNS(null,`fill-opacity`,current.fillAlpha)):current.textRenderingMode===_util.TextRenderingMode.ADD_TO_PATH?current.tspan.setAttributeNS(null,`fill`,`transparent`):current.tspan.setAttributeNS(null,`fill`,`none`),fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){let lineWidthScale=1/(current.textMatrixScale||1);this._setStrokeAttributes(current.tspan,lineWidthScale)}let textMatrix=current.textMatrix;current.textRise!==0&&(textMatrix=textMatrix.slice(),textMatrix[5]+=current.textRise),current.txtElement.setAttributeNS(null,`transform`,`${pm(textMatrix)} scale(${pf(textHScale)}, -1)`),current.txtElement.setAttributeNS(`http://www.w3.org/XML/1998/namespace`,`xml:space`,`preserve`),current.txtElement.append(current.tspan),current.txtgrp.append(current.txtElement),this._ensureTransformGroup().append(current.txtElement)}setLeadingMoveText(x$1,y$2){this.setLeading(-y$2),this.moveText(x$1,y$2)}addFontStyle(fontObj){if(!fontObj.data)throw Error(`addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.`);this.cssStyle||(this.cssStyle=this.svgFactory.createElement(`svg:style`),this.cssStyle.setAttributeNS(null,`type`,`text/css`),this.defs.append(this.cssStyle));let url=createObjectURL(fontObj.data,fontObj.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${fontObj.loadedName}"; src: url(${url}); }\n`}setFont(details){let current=this.current,fontObj=this.commonObjs.get(details[0]),size=details[1];current.font=fontObj,this.embedFonts&&!fontObj.missingFile&&!this.embeddedFonts[fontObj.loadedName]&&(this.addFontStyle(fontObj),this.embeddedFonts[fontObj.loadedName]=fontObj),current.fontMatrix=fontObj.fontMatrix||_util.FONT_IDENTITY_MATRIX;let bold=`normal`;fontObj.black?bold=`900`:fontObj.bold&&(bold=`bold`);let italic=fontObj.italic?`italic`:`normal`;size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,current.fontSize=size,current.fontFamily=fontObj.loadedName,current.fontWeight=bold,current.fontStyle=italic,current.tspan=this.svgFactory.createElement(`svg:tspan`),current.tspan.setAttributeNS(null,`y`,pf(-current.y)),current.xcoords=[],current.ycoords=[]}endText(){let current=this.current;current.textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG&&current.txtElement?.hasChildNodes()&&(current.element=current.txtElement,this.clip(`nonzero`),this.endPath())}setLineWidth(width){width>0&&(this.current.lineWidth=width)}setLineCap(style){this.current.lineCap=LINE_CAP_STYLES[style]}setLineJoin(style){this.current.lineJoin=LINE_JOIN_STYLES[style]}setMiterLimit(limit){this.current.miterLimit=limit}setStrokeAlpha(strokeAlpha){this.current.strokeAlpha=strokeAlpha}setStrokeRGBColor(r$1,g$1,b$2){this.current.strokeColor=_util.Util.makeHexColor(r$1,g$1,b$2)}setFillAlpha(fillAlpha){this.current.fillAlpha=fillAlpha}setFillRGBColor(r$1,g$1,b$2){this.current.fillColor=_util.Util.makeHexColor(r$1,g$1,b$2),this.current.tspan=this.svgFactory.createElement(`svg:tspan`),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(args){this.current.strokeColor=this._makeColorN_Pattern(args)}setFillColorN(args){this.current.fillColor=this._makeColorN_Pattern(args)}shadingFill(args){let{width,height}=this.viewport,inv=_util.Util.inverseTransform(this.transformMatrix),[x0,y0,x1,y1]=_util.Util.getAxialAlignedBoundingBox([0,0,width,height],inv),rect=this.svgFactory.createElement(`svg:rect`);rect.setAttributeNS(null,`x`,x0),rect.setAttributeNS(null,`y`,y0),rect.setAttributeNS(null,`width`,x1-x0),rect.setAttributeNS(null,`height`,y1-y0),rect.setAttributeNS(null,`fill`,this._makeShadingPattern(args)),this.current.fillAlpha<1&&rect.setAttributeNS(null,`fill-opacity`,this.current.fillAlpha),this._ensureTransformGroup().append(rect)}_makeColorN_Pattern(args){return args[0]===`TilingPattern`?this._makeTilingPattern(args):this._makeShadingPattern(args)}_makeTilingPattern(args){let color=args[1],operatorList=args[2],matrix=args[3]||_util.IDENTITY_MATRIX,[x0,y0,x1,y1]=args[4],xstep=args[5],ystep=args[6],paintType=args[7],tilingId=`shading${shadingCount++}`,[tx0,ty0,tx1,ty1]=_util.Util.normalizeRect([..._util.Util.applyTransform([x0,y0],matrix),..._util.Util.applyTransform([x1,y1],matrix)]),[xscale,yscale]=_util.Util.singularValueDecompose2dScale(matrix),txstep=xstep*xscale,tystep=ystep*yscale,tiling=this.svgFactory.createElement(`svg:pattern`);tiling.setAttributeNS(null,`id`,tilingId),tiling.setAttributeNS(null,`patternUnits`,`userSpaceOnUse`),tiling.setAttributeNS(null,`width`,txstep),tiling.setAttributeNS(null,`height`,tystep),tiling.setAttributeNS(null,`x`,`${tx0}`),tiling.setAttributeNS(null,`y`,`${ty0}`);let svg=this.svg,transformMatrix=this.transformMatrix,fillColor=this.current.fillColor,strokeColor=this.current.strokeColor,bbox=this.svgFactory.create(tx1-tx0,ty1-ty0);if(this.svg=bbox,this.transformMatrix=matrix,paintType===2){let cssColor=_util.Util.makeHexColor(...color);this.current.fillColor=cssColor,this.current.strokeColor=cssColor}return this.executeOpTree(this.convertOpList(operatorList)),this.svg=svg,this.transformMatrix=transformMatrix,this.current.fillColor=fillColor,this.current.strokeColor=strokeColor,tiling.append(bbox.childNodes[0]),this.defs.append(tiling),`url(#${tilingId})`}_makeShadingPattern(args){switch(typeof args==`string`&&(args=this.objs.get(args)),args[0]){case`RadialAxial`:let shadingId=`shading${shadingCount++}`,colorStops=args[3],gradient;switch(args[1]){case`axial`:let point0=args[4],point1=args[5];gradient=this.svgFactory.createElement(`svg:linearGradient`),gradient.setAttributeNS(null,`id`,shadingId),gradient.setAttributeNS(null,`gradientUnits`,`userSpaceOnUse`),gradient.setAttributeNS(null,`x1`,point0[0]),gradient.setAttributeNS(null,`y1`,point0[1]),gradient.setAttributeNS(null,`x2`,point1[0]),gradient.setAttributeNS(null,`y2`,point1[1]);break;case`radial`:let focalPoint=args[4],circlePoint=args[5],focalRadius=args[6],circleRadius=args[7];gradient=this.svgFactory.createElement(`svg:radialGradient`),gradient.setAttributeNS(null,`id`,shadingId),gradient.setAttributeNS(null,`gradientUnits`,`userSpaceOnUse`),gradient.setAttributeNS(null,`cx`,circlePoint[0]),gradient.setAttributeNS(null,`cy`,circlePoint[1]),gradient.setAttributeNS(null,`r`,circleRadius),gradient.setAttributeNS(null,`fx`,focalPoint[0]),gradient.setAttributeNS(null,`fy`,focalPoint[1]),gradient.setAttributeNS(null,`fr`,focalRadius);break;default:throw Error(`Unknown RadialAxial type: ${args[1]}`)}for(let colorStop of colorStops){let stop=this.svgFactory.createElement(`svg:stop`);stop.setAttributeNS(null,`offset`,colorStop[0]),stop.setAttributeNS(null,`stop-color`,colorStop[1]),gradient.append(stop)}return this.defs.append(gradient),`url(#${shadingId})`;case`Mesh`:return(0,_util.warn)(`Unimplemented pattern Mesh`),null;case`Dummy`:return`hotpink`;default:throw Error(`Unknown IR type: ${args[0]}`)}}setDash(dashArray,dashPhase){this.current.dashArray=dashArray,this.current.dashPhase=dashPhase}constructPath(ops,args){let current=this.current,x$1=current.x,y$2=current.y,d$2=[],j$1=0;for(let op of ops)switch(op|0){case _util.OPS.rectangle:x$1=args[j$1++],y$2=args[j$1++];let width=args[j$1++],height=args[j$1++],xw=x$1+width,yh=y$2+height;d$2.push(`M`,pf(x$1),pf(y$2),`L`,pf(xw),pf(y$2),`L`,pf(xw),pf(yh),`L`,pf(x$1),pf(yh),`Z`);break;case _util.OPS.moveTo:x$1=args[j$1++],y$2=args[j$1++],d$2.push(`M`,pf(x$1),pf(y$2));break;case _util.OPS.lineTo:x$1=args[j$1++],y$2=args[j$1++],d$2.push(`L`,pf(x$1),pf(y$2));break;case _util.OPS.curveTo:x$1=args[j$1+4],y$2=args[j$1+5],d$2.push(`C`,pf(args[j$1]),pf(args[j$1+1]),pf(args[j$1+2]),pf(args[j$1+3]),pf(x$1),pf(y$2)),j$1+=6;break;case _util.OPS.curveTo2:d$2.push(`C`,pf(x$1),pf(y$2),pf(args[j$1]),pf(args[j$1+1]),pf(args[j$1+2]),pf(args[j$1+3])),x$1=args[j$1+2],y$2=args[j$1+3],j$1+=4;break;case _util.OPS.curveTo3:x$1=args[j$1+2],y$2=args[j$1+3],d$2.push(`C`,pf(args[j$1]),pf(args[j$1+1]),pf(x$1),pf(y$2),pf(x$1),pf(y$2)),j$1+=4;break;case _util.OPS.closePath:d$2.push(`Z`);break}d$2=d$2.join(` `),current.path&&ops.length>0&&ops[0]!==_util.OPS.rectangle&&ops[0]!==_util.OPS.moveTo?d$2=current.path.getAttributeNS(null,`d`)+d$2:(current.path=this.svgFactory.createElement(`svg:path`),this._ensureTransformGroup().append(current.path)),current.path.setAttributeNS(null,`d`,d$2),current.path.setAttributeNS(null,`fill`,`none`),current.element=current.path,current.setCurrentPoint(x$1,y$2)}endPath(){let current=this.current;if(current.path=null,!this.pendingClip)return;if(!current.element){this.pendingClip=null;return}let clipId=`clippath${clipCount++}`,clipPath=this.svgFactory.createElement(`svg:clipPath`);clipPath.setAttributeNS(null,`id`,clipId),clipPath.setAttributeNS(null,`transform`,pm(this.transformMatrix));let clipElement=current.element.cloneNode(!0);if(this.pendingClip===`evenodd`?clipElement.setAttributeNS(null,`clip-rule`,`evenodd`):clipElement.setAttributeNS(null,`clip-rule`,`nonzero`),this.pendingClip=null,clipPath.append(clipElement),this.defs.append(clipPath),current.activeClipUrl){current.clipGroup=null;for(let prev of this.extraStack)prev.clipGroup=null;clipPath.setAttributeNS(null,`clip-path`,current.activeClipUrl)}current.activeClipUrl=`url(#${clipId})`,this.tgrp=null}clip(type){this.pendingClip=type}closePath(){let current=this.current;if(current.path){let d$2=`${current.path.getAttributeNS(null,`d`)}Z`;current.path.setAttributeNS(null,`d`,d$2)}}setLeading(leading){this.current.leading=-leading}setTextRise(textRise){this.current.textRise=textRise}setTextRenderingMode(textRenderingMode){this.current.textRenderingMode=textRenderingMode}setHScale(scale){this.current.textHScale=scale/100}setRenderingIntent(intent){}setFlatness(flatness){}setGState(states){for(let[key,value]of states)switch(key){case`LW`:this.setLineWidth(value);break;case`LC`:this.setLineCap(value);break;case`LJ`:this.setLineJoin(value);break;case`ML`:this.setMiterLimit(value);break;case`D`:this.setDash(value[0],value[1]);break;case`RI`:this.setRenderingIntent(value);break;case`FL`:this.setFlatness(value);break;case`Font`:this.setFont(value);break;case`CA`:this.setStrokeAlpha(value);break;case`ca`:this.setFillAlpha(value);break;default:(0,_util.warn)(`Unimplemented graphic state operator ${key}`);break}}fill(){let current=this.current;current.element&&(current.element.setAttributeNS(null,`fill`,current.fillColor),current.element.setAttributeNS(null,`fill-opacity`,current.fillAlpha),this.endPath())}stroke(){let current=this.current;current.element&&(this._setStrokeAttributes(current.element),current.element.setAttributeNS(null,`fill`,`none`),this.endPath())}_setStrokeAttributes(element,lineWidthScale=1){let current=this.current,dashArray=current.dashArray;lineWidthScale!==1&&dashArray.length>0&&(dashArray=dashArray.map(function(value){return lineWidthScale*value})),element.setAttributeNS(null,`stroke`,current.strokeColor),element.setAttributeNS(null,`stroke-opacity`,current.strokeAlpha),element.setAttributeNS(null,`stroke-miterlimit`,pf(current.miterLimit)),element.setAttributeNS(null,`stroke-linecap`,current.lineCap),element.setAttributeNS(null,`stroke-linejoin`,current.lineJoin),element.setAttributeNS(null,`stroke-width`,pf(lineWidthScale*current.lineWidth)+`px`),element.setAttributeNS(null,`stroke-dasharray`,dashArray.map(pf).join(` `)),element.setAttributeNS(null,`stroke-dashoffset`,pf(lineWidthScale*current.dashPhase)+`px`)}eoFill(){this.current.element?.setAttributeNS(null,`fill-rule`,`evenodd`),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,`fill-rule`,`evenodd`),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let rect=this.svgFactory.createElement(`svg:rect`);rect.setAttributeNS(null,`x`,`0`),rect.setAttributeNS(null,`y`,`0`),rect.setAttributeNS(null,`width`,`1px`),rect.setAttributeNS(null,`height`,`1px`),rect.setAttributeNS(null,`fill`,this.current.fillColor),this._ensureTransformGroup().append(rect)}paintImageXObject(objId){let imgData=this.getObject(objId);if(!imgData){(0,_util.warn)(`Dependent image with object ID ${objId} is not ready yet`);return}this.paintInlineImageXObject(imgData)}paintInlineImageXObject(imgData,mask){let width=imgData.width,height=imgData.height,imgSrc=convertImgDataToPng(imgData,this.forceDataSchema,!!mask),cliprect=this.svgFactory.createElement(`svg:rect`);cliprect.setAttributeNS(null,`x`,`0`),cliprect.setAttributeNS(null,`y`,`0`),cliprect.setAttributeNS(null,`width`,pf(width)),cliprect.setAttributeNS(null,`height`,pf(height)),this.current.element=cliprect,this.clip(`nonzero`);let imgEl=this.svgFactory.createElement(`svg:image`);imgEl.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,imgSrc),imgEl.setAttributeNS(null,`x`,`0`),imgEl.setAttributeNS(null,`y`,pf(-height)),imgEl.setAttributeNS(null,`width`,pf(width)+`px`),imgEl.setAttributeNS(null,`height`,pf(height)+`px`),imgEl.setAttributeNS(null,`transform`,`scale(${pf(1/width)} ${pf(-1/height)})`),mask?mask.append(imgEl):this._ensureTransformGroup().append(imgEl)}paintImageMaskXObject(img){let imgData=this.getObject(img.data,img);if(imgData.bitmap){(0,_util.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let current=this.current,width=imgData.width,height=imgData.height,fillColor=current.fillColor;current.maskId=`mask${maskCount++}`;let mask=this.svgFactory.createElement(`svg:mask`);mask.setAttributeNS(null,`id`,current.maskId);let rect=this.svgFactory.createElement(`svg:rect`);rect.setAttributeNS(null,`x`,`0`),rect.setAttributeNS(null,`y`,`0`),rect.setAttributeNS(null,`width`,pf(width)),rect.setAttributeNS(null,`height`,pf(height)),rect.setAttributeNS(null,`fill`,fillColor),rect.setAttributeNS(null,`mask`,`url(#${current.maskId})`),this.defs.append(mask),this._ensureTransformGroup().append(rect),this.paintInlineImageXObject(imgData,mask)}paintFormXObjectBegin(matrix,bbox){if(Array.isArray(matrix)&&matrix.length===6&&this.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]),bbox){let width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],cliprect=this.svgFactory.createElement(`svg:rect`);cliprect.setAttributeNS(null,`x`,bbox[0]),cliprect.setAttributeNS(null,`y`,bbox[1]),cliprect.setAttributeNS(null,`width`,pf(width)),cliprect.setAttributeNS(null,`height`,pf(height)),this.current.element=cliprect,this.clip(`nonzero`),this.endPath()}}paintFormXObjectEnd(){}_initialize(viewport){let svg=this.svgFactory.create(viewport.width,viewport.height),definitions=this.svgFactory.createElement(`svg:defs`);svg.append(definitions),this.defs=definitions;let rootGroup=this.svgFactory.createElement(`svg:g`);return rootGroup.setAttributeNS(null,`transform`,pm(viewport.transform)),svg.append(rootGroup),this.svg=rootGroup,svg}_ensureClipGroup(){if(!this.current.clipGroup){let clipGroup=this.svgFactory.createElement(`svg:g`);clipGroup.setAttributeNS(null,`clip-path`,this.current.activeClipUrl),this.svg.append(clipGroup),this.current.clipGroup=clipGroup}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement(`svg:g`),this.tgrp.setAttributeNS(null,`transform`,pm(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}exports$1.SVGGraphics=SVGGraphics}),((__unused_webpack_module,exports$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.XfaText=void 0;class XfaText{static textContent(xfa){let items=[],output={items,styles:Object.create(null)};function walk(node){if(!node)return;let str=null,name=node.name;if(name===`#text`)str=node.value;else if(XfaText.shouldBuildText(name))node?.attributes?.textContent?str=node.attributes.textContent:node.value&&(str=node.value);else return;if(str!==null&&items.push({str}),node.children)for(let child of node.children)walk(child)}return walk(xfa),output}static shouldBuildText(name){return!(name===`textarea`||name===`input`||name===`option`||name===`select`)}}exports$1.XfaText=XfaText}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.TextLayerRenderTask=void 0,exports$1.renderTextLayer=renderTextLayer,exports$1.updateTextLayer=updateTextLayer;var _util=__w_pdfjs_require__$1(1),_display_utils=__w_pdfjs_require__$1(6);let MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8,ascentCache=new Map;function getCtx(size,isOffscreenCanvasSupported){let ctx;if(isOffscreenCanvasSupported&&_util.FeatureTest.isOffscreenCanvasSupported)ctx=new OffscreenCanvas(size,size).getContext(`2d`,{alpha:!1});else{let canvas=document.createElement(`canvas`);canvas.width=canvas.height=size,ctx=canvas.getContext(`2d`,{alpha:!1})}return ctx}function getAscent(fontFamily,isOffscreenCanvasSupported){let cachedAscent=ascentCache.get(fontFamily);if(cachedAscent)return cachedAscent;let ctx=getCtx(30,isOffscreenCanvasSupported);ctx.font=`30px ${fontFamily}`;let metrics=ctx.measureText(``),ascent=metrics.fontBoundingBoxAscent,descent=Math.abs(metrics.fontBoundingBoxDescent);if(ascent){let ratio=ascent/(ascent+descent);return ascentCache.set(fontFamily,ratio),ctx.canvas.width=ctx.canvas.height=0,ratio}ctx.strokeStyle=`red`,ctx.clearRect(0,0,30,30),ctx.strokeText(`g`,0,0);let pixels=ctx.getImageData(0,0,30,30).data;descent=0;for(let i$1=pixels.length-1-3;i$1>=0;i$1-=4)if(pixels[i$1]>0){descent=Math.ceil(i$1/4/30);break}ctx.clearRect(0,0,30,30),ctx.strokeText(`A`,0,30),pixels=ctx.getImageData(0,0,30,30).data,ascent=0;for(let i$1=0,ii=pixels.length;i$1<ii;i$1+=4)if(pixels[i$1]>0){ascent=30-Math.floor(i$1/4/30);break}if(ctx.canvas.width=ctx.canvas.height=0,ascent){let ratio=ascent/(ascent+descent);return ascentCache.set(fontFamily,ratio),ratio}return ascentCache.set(fontFamily,DEFAULT_FONT_ASCENT),DEFAULT_FONT_ASCENT}function appendText(task,geom,styles){let textDiv=document.createElement(`span`),textDivProperties={angle:0,canvasWidth:0,hasText:geom.str!==``,hasEOL:geom.hasEOL,fontSize:0};task._textDivs.push(textDiv);let tx=_util.Util.transform(task._transform,geom.transform),angle=Math.atan2(tx[1],tx[0]),style=styles[geom.fontName];style.vertical&&(angle+=Math.PI/2);let fontHeight=Math.hypot(tx[2],tx[3]),fontAscent=fontHeight*getAscent(style.fontFamily,task._isOffscreenCanvasSupported),left,top;angle===0?(left=tx[4],top=tx[5]-fontAscent):(left=tx[4]+fontAscent*Math.sin(angle),top=tx[5]-fontAscent*Math.cos(angle));let scaleFactorStr=`calc(var(--scale-factor)*`,divStyle=textDiv.style;task._container===task._rootContainer?(divStyle.left=`${(100*left/task._pageWidth).toFixed(2)}%`,divStyle.top=`${(100*top/task._pageHeight).toFixed(2)}%`):(divStyle.left=`${scaleFactorStr}${left.toFixed(2)}px)`,divStyle.top=`${scaleFactorStr}${top.toFixed(2)}px)`),divStyle.fontSize=`${scaleFactorStr}${fontHeight.toFixed(2)}px)`,divStyle.fontFamily=style.fontFamily,textDivProperties.fontSize=fontHeight,textDiv.setAttribute(`role`,`presentation`),textDiv.textContent=geom.str,textDiv.dir=geom.dir,task._fontInspectorEnabled&&(textDiv.dataset.fontName=geom.fontName),angle!==0&&(textDivProperties.angle=angle*(180/Math.PI));let shouldScaleText=!1;if(geom.str.length>1)shouldScaleText=!0;else if(geom.str!==` `&&geom.transform[0]!==geom.transform[3]){let absScaleX=Math.abs(geom.transform[0]),absScaleY=Math.abs(geom.transform[3]);absScaleX!==absScaleY&&Math.max(absScaleX,absScaleY)/Math.min(absScaleX,absScaleY)>1.5&&(shouldScaleText=!0)}shouldScaleText&&(textDivProperties.canvasWidth=style.vertical?geom.height:geom.width),task._textDivProperties.set(textDiv,textDivProperties),task._isReadableStream&&task._layoutText(textDiv)}function layout(params){let{div,scale,properties,ctx,prevFontSize,prevFontFamily}=params,{style}=div,transform$1=``;if(properties.canvasWidth!==0&&properties.hasText){let{fontFamily}=style,{canvasWidth,fontSize}=properties;(prevFontSize!==fontSize||prevFontFamily!==fontFamily)&&(ctx.font=`${fontSize*scale}px ${fontFamily}`,params.prevFontSize=fontSize,params.prevFontFamily=fontFamily);let{width}=ctx.measureText(div.textContent);width>0&&(transform$1=`scaleX(${canvasWidth*scale/width})`)}properties.angle!==0&&(transform$1=`rotate(${properties.angle}deg) ${transform$1}`),transform$1.length>0&&(style.transform=transform$1)}function render(task){if(task._canceled)return;let textDivs=task._textDivs,capability=task._capability;if(textDivs.length>1e5){capability.resolve();return}if(!task._isReadableStream)for(let textDiv of textDivs)task._layoutText(textDiv);capability.resolve()}class TextLayerRenderTask{constructor({textContentSource,container,viewport,textDivs,textDivProperties,textContentItemsStr,isOffscreenCanvasSupported}){this._textContentSource=textContentSource,this._isReadableStream=textContentSource instanceof ReadableStream,this._container=this._rootContainer=container,this._textDivs=textDivs||[],this._textContentItemsStr=textContentItemsStr||[],this._isOffscreenCanvasSupported=isOffscreenCanvasSupported,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=textDivProperties||new WeakMap,this._canceled=!1,this._capability=new _util.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:viewport.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:getCtx(0,isOffscreenCanvasSupported)};let{pageWidth,pageHeight,pageX,pageY}=viewport.rawDims;this._transform=[1,0,0,-1,-pageX,pageY+pageHeight],this._pageWidth=pageWidth,this._pageHeight=pageHeight,(0,_display_utils.setLayerDimensions)(container,viewport),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&=(this._reader.cancel(new _util.AbortException(`TextLayer task cancelled.`)).catch(()=>{}),null),this._capability.reject(new _util.AbortException(`TextLayer task cancelled.`))}_processItems(items,styleCache){for(let item of items){if(item.str===void 0){if(item.type===`beginMarkedContentProps`||item.type===`beginMarkedContent`){let parent=this._container;this._container=document.createElement(`span`),this._container.classList.add(`markedContent`),item.id!==null&&this._container.setAttribute(`id`,`${item.id}`),parent.append(this._container)}else item.type===`endMarkedContent`&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(item.str),appendText(this,item,styleCache)}}_layoutText(textDiv){let textDivProperties=this._layoutTextParams.properties=this._textDivProperties.get(textDiv);if(this._layoutTextParams.div=textDiv,layout(this._layoutTextParams),textDivProperties.hasText&&this._container.append(textDiv),textDivProperties.hasEOL){let br=document.createElement(`br`);br.setAttribute(`role`,`presentation`),this._container.append(br)}}_render(){let capability=new _util.PromiseCapability,styleCache=Object.create(null);if(this._isReadableStream){let pump=()=>{this._reader.read().then(({value,done})=>{if(done){capability.resolve();return}Object.assign(styleCache,value.styles),this._processItems(value.items,styleCache),pump()},capability.reject)};this._reader=this._textContentSource.getReader(),pump()}else if(this._textContentSource){let{items,styles}=this._textContentSource;this._processItems(items,styles),capability.resolve()}else throw Error(`No "textContentSource" parameter specified.`);capability.promise.then(()=>{styleCache=null,render(this)},this._capability.reject)}}exports$1.TextLayerRenderTask=TextLayerRenderTask;function renderTextLayer(params){!params.textContentSource&&(params.textContent||params.textContentStream)&&((0,_display_utils.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),params.textContentSource=params.textContent||params.textContentStream);let{container,viewport}=params,style=getComputedStyle(container),visibility=style.getPropertyValue(`visibility`),scaleFactor=parseFloat(style.getPropertyValue(`--scale-factor`));visibility===`visible`&&(!scaleFactor||Math.abs(scaleFactor-viewport.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let task=new TextLayerRenderTask(params);return task._render(),task}function updateTextLayer({container,viewport,textDivs,textDivProperties,isOffscreenCanvasSupported,mustRotate=!0,mustRescale=!0}){if(mustRotate&&(0,_display_utils.setLayerDimensions)(container,{rotation:viewport.rotation}),mustRescale){let ctx=getCtx(0,isOffscreenCanvasSupported),params={prevFontSize:null,prevFontFamily:null,div:null,scale:viewport.scale*(globalThis.devicePixelRatio||1),properties:null,ctx};for(let div of textDivs)params.properties=textDivProperties.get(div),params.div=div,layout(params)}}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.AnnotationEditorLayer=void 0;var _util=__w_pdfjs_require__$1(1),_editor=__w_pdfjs_require__$1(4),_freetext=__w_pdfjs_require__$1(28),_ink=__w_pdfjs_require__$1(33),_display_utils=__w_pdfjs_require__$1(6),_stamp=__w_pdfjs_require__$1(34);class AnnotationEditorLayer{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#i=this.pointerdown.bind(this);#a=new Map;#o=!1;#s=!1;#c=!1;#l;static _initialized=!1;constructor({uiManager,pageIndex,div,accessibilityManager,annotationLayer,viewport,l10n}){let editorTypes=[_freetext.FreeTextEditor,_ink.InkEditor,_stamp.StampEditor];if(!AnnotationEditorLayer._initialized){AnnotationEditorLayer._initialized=!0;for(let editorType of editorTypes)editorType.initialize(l10n)}uiManager.registerEditorTypes(editorTypes),this.#l=uiManager,this.pageIndex=pageIndex,this.div=div,this.#e=accessibilityManager,this.#n=annotationLayer,this.viewport=viewport,this.#l.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(mode){this.#l.updateToolbar(mode)}updateMode(mode=this.#l.getMode()){this.#p(),mode===_util.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),mode!==_util.AnnotationEditorType.NONE&&(this.div.classList.toggle(`freeTextEditing`,mode===_util.AnnotationEditorType.FREETEXT),this.div.classList.toggle(`inkEditing`,mode===_util.AnnotationEditorType.INK),this.div.classList.toggle(`stampEditing`,mode===_util.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(isCommitting){if(!(!isCommitting&&this.#l.getMode()!==_util.AnnotationEditorType.INK)){if(!isCommitting){for(let editor of this.#a.values())if(editor.isEmpty()){editor.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(isEditing){this.#l.setEditingState(isEditing)}addCommands(params){this.#l.addCommands(params)}enable(){this.div.style.pointerEvents=`auto`;let annotationElementIds=new Set;for(let editor of this.#a.values())editor.enableEditing(),editor.annotationElementId&&annotationElementIds.add(editor.annotationElementId);if(!this.#n)return;let editables=this.#n.getEditableAnnotations();for(let editable of editables){if(editable.hide(),this.#l.isDeletedAnnotationElement(editable.data.id)||annotationElementIds.has(editable.data.id))continue;let editor=this.deserialize(editable);editor&&(this.addOrRebuild(editor),editor.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents=`none`;let hiddenAnnotationIds=new Set;for(let editor of this.#a.values()){if(editor.disableEditing(),!editor.annotationElementId||editor.serialize()!==null){hiddenAnnotationIds.add(editor.annotationElementId);continue}this.getEditableAnnotation(editor.annotationElementId)?.show(),editor.remove()}if(this.#n){let editables=this.#n.getEditableAnnotations();for(let editable of editables){let{id}=editable.data;hiddenAnnotationIds.has(id)||this.#l.isDeletedAnnotationElement(id)||editable.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(id){return this.#n?.getEditableAnnotation(id)||null}setActiveEditor(editor){this.#l.getActive()!==editor&&this.#l.setActiveEditor(editor)}enableClick(){this.div.addEventListener(`pointerdown`,this.#i),this.div.addEventListener(`pointerup`,this.#r)}disableClick(){this.div.removeEventListener(`pointerdown`,this.#i),this.div.removeEventListener(`pointerup`,this.#r)}attach(editor){this.#a.set(editor.id,editor);let{annotationElementId}=editor;annotationElementId&&this.#l.isDeletedAnnotationElement(annotationElementId)&&this.#l.removeDeletedAnnotationElement(editor)}detach(editor){this.#a.delete(editor.id),this.#e?.removePointerInTextLayer(editor.contentDiv),!this.#c&&editor.annotationElementId&&this.#l.addDeletedAnnotationElement(editor)}remove(editor){this.detach(editor),this.#l.removeEditor(editor),editor.div.contains(document.activeElement)&&setTimeout(()=>{this.#l.focusMainContainer()},0),editor.div.remove(),editor.isAttachedToDOM=!1,this.#s||this.addInkEditorIfNeeded(!1)}changeParent(editor){editor.parent!==this&&(editor.annotationElementId&&=(this.#l.addDeletedAnnotationElement(editor.annotationElementId),_editor.AnnotationEditor.deleteAnnotationElement(editor),null),this.attach(editor),editor.parent?.detach(editor),editor.setParent(this),editor.div&&editor.isAttachedToDOM&&(editor.div.remove(),this.div.append(editor.div)))}add(editor){if(this.changeParent(editor),this.#l.addEditor(editor),this.attach(editor),!editor.isAttachedToDOM){let div=editor.render();this.div.append(div),editor.isAttachedToDOM=!0}editor.fixAndSetPosition(),editor.onceAdded(),this.#l.addToAnnotationStorage(editor)}moveEditorInDOM(editor){if(!editor.isAttachedToDOM)return;let{activeElement}=document;editor.div.contains(activeElement)&&(editor._focusEventsAllowed=!1,setTimeout(()=>{editor.div.contains(document.activeElement)?editor._focusEventsAllowed=!0:(editor.div.addEventListener(`focusin`,()=>{editor._focusEventsAllowed=!0},{once:!0}),activeElement.focus())},0)),editor._structTreeParentId=this.#e?.moveElementInDOM(this.div,editor.div,editor.contentDiv,!0)}addOrRebuild(editor){editor.needsToBeRebuilt()?editor.rebuild():this.add(editor)}addUndoableEditor(editor){this.addCommands({cmd:()=>editor._uiManager.rebuild(editor),undo:()=>{editor.remove()},mustExec:!1})}getNextId(){return this.#l.getId()}#u(params){switch(this.#l.getMode()){case _util.AnnotationEditorType.FREETEXT:return new _freetext.FreeTextEditor(params);case _util.AnnotationEditorType.INK:return new _ink.InkEditor(params);case _util.AnnotationEditorType.STAMP:return new _stamp.StampEditor(params)}return null}pasteEditor(mode,params){this.#l.updateToolbar(mode),this.#l.updateMode(mode);let{offsetX,offsetY}=this.#f(),id=this.getNextId(),editor=this.#u({parent:this,id,x:offsetX,y:offsetY,uiManager:this.#l,isCentered:!0,...params});editor&&this.add(editor)}deserialize(data){switch(data.annotationType??data.annotationEditorType){case _util.AnnotationEditorType.FREETEXT:return _freetext.FreeTextEditor.deserialize(data,this,this.#l);case _util.AnnotationEditorType.INK:return _ink.InkEditor.deserialize(data,this,this.#l);case _util.AnnotationEditorType.STAMP:return _stamp.StampEditor.deserialize(data,this,this.#l)}return null}#d(event,isCentered){let id=this.getNextId(),editor=this.#u({parent:this,id,x:event.offsetX,y:event.offsetY,uiManager:this.#l,isCentered});return editor&&this.add(editor),editor}#f(){let{x:x$1,y:y$2,width,height}=this.div.getBoundingClientRect(),tlX=Math.max(0,x$1),tlY=Math.max(0,y$2),brX=Math.min(window.innerWidth,x$1+width),brY=Math.min(window.innerHeight,y$2+height),centerX=(tlX+brX)/2-x$1,centerY=(tlY+brY)/2-y$2,[offsetX,offsetY]=this.viewport.rotation%180==0?[centerX,centerY]:[centerY,centerX];return{offsetX,offsetY}}addNewEditor(){this.#d(this.#f(),!0)}setSelected(editor){this.#l.setSelected(editor)}toggleSelected(editor){this.#l.toggleSelected(editor)}isSelected(editor){return this.#l.isSelected(editor)}unselect(editor){this.#l.unselect(editor)}pointerup(event){let{isMac}=_util.FeatureTest.platform;if(!(event.button!==0||event.ctrlKey&&isMac)&&event.target===this.div&&this.#o){if(this.#o=!1,!this.#t){this.#t=!0;return}if(this.#l.getMode()===_util.AnnotationEditorType.STAMP){this.#l.unselectAll();return}this.#d(event,!1)}}pointerdown(event){if(this.#o){this.#o=!1;return}let{isMac}=_util.FeatureTest.platform;if(event.button!==0||event.ctrlKey&&isMac||event.target!==this.div)return;this.#o=!0;let editor=this.#l.getActive();this.#t=!editor||editor.isEmpty()}findNewParent(editor,x$1,y$2){let layer=this.#l.findParent(x$1,y$2);return layer===null||layer===this?!1:(layer.changeParent(editor),!0)}destroy(){this.#l.getActive()?.parent===this&&(this.#l.commitOrRemove(),this.#l.setActiveEditor(null));for(let editor of this.#a.values())this.#e?.removePointerInTextLayer(editor.contentDiv),editor.setParent(null),editor.isAttachedToDOM=!1,editor.div.remove();this.div=null,this.#a.clear(),this.#l.removeLayer(this)}#p(){this.#s=!0;for(let editor of this.#a.values())editor.isEmpty()&&editor.remove();this.#s=!1}render({viewport}){this.viewport=viewport,(0,_display_utils.setLayerDimensions)(this.div,viewport);for(let editor of this.#l.getEditors(this.pageIndex))this.add(editor);this.updateMode()}update({viewport}){this.#l.commitOrRemove(),this.viewport=viewport,(0,_display_utils.setLayerDimensions)(this.div,{rotation:viewport.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth,pageHeight}=this.viewport.rawDims;return[pageWidth,pageHeight]}}exports$1.AnnotationEditorLayer=AnnotationEditorLayer}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.FreeTextEditor=void 0;var _util=__w_pdfjs_require__$1(1),_tools=__w_pdfjs_require__$1(5),_editor=__w_pdfjs_require__$1(4),_annotation_layer=__w_pdfjs_require__$1(29);class FreeTextEditor extends _editor.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#i;#a=``;#o=`${this.id}-editor`;#s;#c=null;static _freeTextDefaultContent=``;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let proto=FreeTextEditor.prototype,arrowChecker=self$1=>self$1.isEmpty(),small=_tools.AnnotationEditorUIManager.TRANSLATE_SMALL,big=_tools.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,_util.shadow)(this,`_keyboardManager`,new _tools.KeyboardManager([[[`ctrl+s`,`mac+meta+s`,`ctrl+p`,`mac+meta+p`],proto.commitOrRemove,{bubbles:!0}],[[`ctrl+Enter`,`mac+meta+Enter`,`Escape`,`mac+Escape`],proto.commitOrRemove],[[`ArrowLeft`,`mac+ArrowLeft`],proto._translateEmpty,{args:[-small,0],checker:arrowChecker}],[[`ctrl+ArrowLeft`,`mac+shift+ArrowLeft`],proto._translateEmpty,{args:[-big,0],checker:arrowChecker}],[[`ArrowRight`,`mac+ArrowRight`],proto._translateEmpty,{args:[small,0],checker:arrowChecker}],[[`ctrl+ArrowRight`,`mac+shift+ArrowRight`],proto._translateEmpty,{args:[big,0],checker:arrowChecker}],[[`ArrowUp`,`mac+ArrowUp`],proto._translateEmpty,{args:[0,-small],checker:arrowChecker}],[[`ctrl+ArrowUp`,`mac+shift+ArrowUp`],proto._translateEmpty,{args:[0,-big],checker:arrowChecker}],[[`ArrowDown`,`mac+ArrowDown`],proto._translateEmpty,{args:[0,small],checker:arrowChecker}],[[`ctrl+ArrowDown`,`mac+shift+ArrowDown`],proto._translateEmpty,{args:[0,big],checker:arrowChecker}]]))}static _type=`freetext`;constructor(params){super({...params,name:`freeTextEditor`}),this.#i=params.color||FreeTextEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor,this.#s=params.fontSize||FreeTextEditor._defaultFontSize}static initialize(l10n){_editor.AnnotationEditor.initialize(l10n,{strings:[`free_text2_default_content`,`editor_free_text2_aria_label`]});let style=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(style.getPropertyValue(`--freetext-padding`))}static updateDefaultParams(type,value){switch(type){case _util.AnnotationEditorParamsType.FREETEXT_SIZE:FreeTextEditor._defaultFontSize=value;break;case _util.AnnotationEditorParamsType.FREETEXT_COLOR:FreeTextEditor._defaultColor=value;break}}updateParams(type,value){switch(type){case _util.AnnotationEditorParamsType.FREETEXT_SIZE:this.#l(value);break;case _util.AnnotationEditorParamsType.FREETEXT_COLOR:this.#u(value);break}}static get defaultPropertiesToUpdate(){return[[_util.AnnotationEditorParamsType.FREETEXT_SIZE,FreeTextEditor._defaultFontSize],[_util.AnnotationEditorParamsType.FREETEXT_COLOR,FreeTextEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_util.AnnotationEditorParamsType.FREETEXT_SIZE,this.#s],[_util.AnnotationEditorParamsType.FREETEXT_COLOR,this.#i]]}#l(fontSize){let setFontsize=size=>{this.editorDiv.style.fontSize=`calc(${size}px * var(--scale-factor))`,this.translate(0,-(size-this.#s)*this.parentScale),this.#s=size,this.#f()},savedFontsize=this.#s;this.addCommands({cmd:()=>{setFontsize(fontSize)},undo:()=>{setFontsize(savedFontsize)},mustExec:!0,type:_util.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#u(color){let savedColor=this.#i;this.addCommands({cmd:()=>{this.#i=this.editorDiv.style.color=color},undo:()=>{this.#i=this.editorDiv.style.color=savedColor},mustExec:!0,type:_util.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(x$1,y$2){this._uiManager.translateSelectedEditors(x$1,y$2,!0)}getInitialTranslation(){let scale=this.parentScale;return[-FreeTextEditor._internalPadding*scale,-(FreeTextEditor._internalPadding+this.#s)*scale]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_util.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove(`enabled`),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute(`aria-activedescendant`),this.editorDiv.addEventListener(`keydown`,this.#r),this.editorDiv.addEventListener(`focus`,this.#t),this.editorDiv.addEventListener(`blur`,this.#e),this.editorDiv.addEventListener(`input`,this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add(`enabled`),this.editorDiv.contentEditable=!1,this.div.setAttribute(`aria-activedescendant`,this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener(`keydown`,this.#r),this.editorDiv.removeEventListener(`focus`,this.#t),this.editorDiv.removeEventListener(`blur`,this.#e),this.editorDiv.removeEventListener(`input`,this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add(`freeTextEditing`))}focusin(event){this._focusEventsAllowed&&(super.focusin(event),event.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#h();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===``}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add(`freeTextEditing`)),super.remove()}#d(){let divs=this.editorDiv.getElementsByTagName(`div`);if(divs.length===0)return this.editorDiv.innerText;let buffer=[];for(let div of divs)buffer.push(div.innerText.replace(/\r\n?|\n/,``));return buffer.join(`
`)}#f(){let[parentWidth,parentHeight]=this.parentDimensions,rect;if(this.isAttachedToDOM)rect=this.div.getBoundingClientRect();else{let{currentLayer,div}=this,savedDisplay=div.style.display;div.style.display=`hidden`,currentLayer.div.append(this.div),rect=div.getBoundingClientRect(),div.remove(),div.style.display=savedDisplay}this.rotation%180==this.parentRotation%180?(this.width=rect.width/parentWidth,this.height=rect.height/parentHeight):(this.width=rect.height/parentWidth,this.height=rect.width/parentHeight),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let savedText=this.#a,newText=this.#a=this.#d().trimEnd();if(savedText===newText)return;let setText=text=>{if(this.#a=text,!text){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#f()};this.addCommands({cmd:()=>{setText(newText)},undo:()=>{setText(savedText)},mustExec:!1}),this.#f()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(event){this.enterInEditMode()}keydown(event){event.target===this.div&&event.key===`Enter`&&(this.enterInEditMode(),event.preventDefault())}editorDivKeydown(event){FreeTextEditor._keyboardManager.exec(this,event)}editorDivFocus(event){this.isEditing=!0}editorDivBlur(event){this.isEditing=!1}editorDivInput(event){this.parent.div.classList.toggle(`freeTextEditing`,this.isEmpty())}disableEditing(){this.editorDiv.setAttribute(`role`,`comment`),this.editorDiv.removeAttribute(`aria-multiline`)}enableEditing(){this.editorDiv.setAttribute(`role`,`textbox`),this.editorDiv.setAttribute(`aria-multiline`,!0)}render(){if(this.div)return this.div;let baseX,baseY;this.width&&(baseX=this.x,baseY=this.y),super.render(),this.editorDiv=document.createElement(`div`),this.editorDiv.className=`internal`,this.editorDiv.setAttribute(`id`,this.#o),this.enableEditing(),_editor.AnnotationEditor._l10nPromise.get(`editor_free_text2_aria_label`).then(msg=>this.editorDiv?.setAttribute(`aria-label`,msg)),_editor.AnnotationEditor._l10nPromise.get(`free_text2_default_content`).then(msg=>this.editorDiv?.setAttribute(`default-content`,msg)),this.editorDiv.contentEditable=!0;let{style}=this.editorDiv;if(style.fontSize=`calc(${this.#s}px * var(--scale-factor))`,style.color=this.#i,this.div.append(this.editorDiv),this.overlayDiv=document.createElement(`div`),this.overlayDiv.classList.add(`overlay`,`enabled`),this.div.append(this.overlayDiv),(0,_tools.bindEvents)(this,this.div,[`dblclick`,`keydown`]),this.width){let[parentWidth,parentHeight]=this.parentDimensions;if(this.annotationElementId){let{position}=this.#c,[tx,ty]=this.getInitialTranslation();[tx,ty]=this.pageTranslationToScreen(tx,ty);let[pageWidth,pageHeight]=this.pageDimensions,[pageX,pageY]=this.pageTranslation,posX,posY;switch(this.rotation){case 0:posX=baseX+(position[0]-pageX)/pageWidth,posY=baseY+this.height-(position[1]-pageY)/pageHeight;break;case 90:posX=baseX+(position[0]-pageX)/pageWidth,posY=baseY-(position[1]-pageY)/pageHeight,[tx,ty]=[ty,-tx];break;case 180:posX=baseX-this.width+(position[0]-pageX)/pageWidth,posY=baseY-(position[1]-pageY)/pageHeight,[tx,ty]=[-tx,-ty];break;case 270:posX=baseX+(position[0]-pageX-this.height*pageHeight)/pageWidth,posY=baseY+(position[1]-pageY-this.width*pageWidth)/pageHeight,[tx,ty]=[-ty,tx];break}this.setAt(posX*parentWidth,posY*parentHeight,tx,ty)}else this.setAt(baseX*parentWidth,baseY*parentHeight,this.width*parentWidth,this.height*parentHeight);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),this.#a)for(let line of this.#a.split(`
`)){let div=document.createElement(`div`);div.append(line?document.createTextNode(line):document.createElement(`br`)),this.editorDiv.append(div)}}get contentDiv(){return this.editorDiv}static deserialize(data,parent,uiManager){let initialData=null;if(data instanceof _annotation_layer.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize,fontColor},rect,rotation,id},textContent,textPosition,parent:{page:{pageNumber}}}=data;if(!textContent||textContent.length===0)return null;initialData=data={annotationType:_util.AnnotationEditorType.FREETEXT,color:Array.from(fontColor),fontSize,value:textContent.join(`
`),position:textPosition,pageIndex:pageNumber-1,rect,rotation,id,deleted:!1}}let editor=super.deserialize(data,parent,uiManager);return editor.#s=data.fontSize,editor.#i=_util.Util.makeHexColor(...data.color),editor.#a=data.value,editor.annotationElementId=data.id||null,editor.#c=initialData,editor}serialize(isForCopying=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let padding=FreeTextEditor._internalPadding*this.parentScale,rect=this.getRect(padding,padding),color=_editor.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#i),serialized={annotationType:_util.AnnotationEditorType.FREETEXT,color,fontSize:this.#s,value:this.#a,pageIndex:this.pageIndex,rect,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return isForCopying?serialized:this.annotationElementId&&!this.#m(serialized)?null:(serialized.id=this.annotationElementId,serialized)}#m(serialized){let{value,fontSize,color,rect,pageIndex}=this.#c;return serialized.value!==value||serialized.fontSize!==fontSize||serialized.rect.some((x$1,i$1)=>Math.abs(x$1-rect[i$1])>=1)||serialized.color.some((c$3,i$1)=>c$3!==color[i$1])||serialized.pageIndex!==pageIndex}#h(delayed=!1){if(!this.annotationElementId)return;if(this.#f(),!delayed&&(this.width===0||this.height===0)){setTimeout(()=>this.#h(!0),0);return}let padding=FreeTextEditor._internalPadding*this.parentScale;this.#c.rect=this.getRect(padding,padding)}}exports$1.FreeTextEditor=FreeTextEditor}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.StampAnnotationElement=exports$1.InkAnnotationElement=exports$1.FreeTextAnnotationElement=exports$1.AnnotationLayer=void 0;var _util=__w_pdfjs_require__$1(1),_display_utils=__w_pdfjs_require__$1(6),_annotation_storage=__w_pdfjs_require__$1(3),_scripting_utils=__w_pdfjs_require__$1(30),_displayL10n_utils=__w_pdfjs_require__$1(31),_xfa_layer=__w_pdfjs_require__$1(32);let DEFAULT_TAB_INDEX=1e3,DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(rect){return{width:rect[2]-rect[0],height:rect[3]-rect[1]}}class AnnotationElementFactory{static create(parameters){switch(parameters.data.annotationType){case _util.AnnotationType.LINK:return new LinkAnnotationElement(parameters);case _util.AnnotationType.TEXT:return new TextAnnotationElement(parameters);case _util.AnnotationType.WIDGET:switch(parameters.data.fieldType){case`Tx`:return new TextWidgetAnnotationElement(parameters);case`Btn`:return parameters.data.radioButton?new RadioButtonWidgetAnnotationElement(parameters):parameters.data.checkBox?new CheckboxWidgetAnnotationElement(parameters):new PushButtonWidgetAnnotationElement(parameters);case`Ch`:return new ChoiceWidgetAnnotationElement(parameters);case`Sig`:return new SignatureWidgetAnnotationElement(parameters)}return new WidgetAnnotationElement(parameters);case _util.AnnotationType.POPUP:return new PopupAnnotationElement(parameters);case _util.AnnotationType.FREETEXT:return new FreeTextAnnotationElement(parameters);case _util.AnnotationType.LINE:return new LineAnnotationElement(parameters);case _util.AnnotationType.SQUARE:return new SquareAnnotationElement(parameters);case _util.AnnotationType.CIRCLE:return new CircleAnnotationElement(parameters);case _util.AnnotationType.POLYLINE:return new PolylineAnnotationElement(parameters);case _util.AnnotationType.CARET:return new CaretAnnotationElement(parameters);case _util.AnnotationType.INK:return new InkAnnotationElement(parameters);case _util.AnnotationType.POLYGON:return new PolygonAnnotationElement(parameters);case _util.AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(parameters);case _util.AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(parameters);case _util.AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(parameters);case _util.AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(parameters);case _util.AnnotationType.STAMP:return new StampAnnotationElement(parameters);case _util.AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(parameters);default:return new AnnotationElement(parameters)}}}class AnnotationElement{#e=!1;constructor(parameters,{isRenderable=!1,ignoreBorder=!1,createQuadrilaterals=!1}={}){this.isRenderable=isRenderable,this.data=parameters.data,this.layer=parameters.layer,this.linkService=parameters.linkService,this.downloadManager=parameters.downloadManager,this.imageResourcesPath=parameters.imageResourcesPath,this.renderForms=parameters.renderForms,this.svgFactory=parameters.svgFactory,this.annotationStorage=parameters.annotationStorage,this.enableScripting=parameters.enableScripting,this.hasJSActions=parameters.hasJSActions,this._fieldObjects=parameters.fieldObjects,this.parent=parameters.parent,isRenderable&&(this.container=this._createContainer(ignoreBorder)),createQuadrilaterals&&this._createQuadrilaterals()}static _hasPopupData({titleObj,contentsObj,richText}){return!!(titleObj?.str||contentsObj?.str||richText?.str)}get hasPopupData(){return AnnotationElement._hasPopupData(this.data)}_createContainer(ignoreBorder){let{data,parent:{page,viewport}}=this,container=document.createElement(`section`);container.setAttribute(`data-annotation-id`,data.id),this instanceof WidgetAnnotationElement||(container.tabIndex=DEFAULT_TAB_INDEX),container.style.zIndex=this.parent.zIndex++,this.data.popupRef&&container.setAttribute(`aria-haspopup`,`dialog`),data.noRotate&&container.classList.add(`norotate`);let{pageWidth,pageHeight,pageX,pageY}=viewport.rawDims;if(!data.rect||this instanceof PopupAnnotationElement){let{rotation:rotation$1}=data;return!data.hasOwnCanvas&&rotation$1!==0&&this.setRotation(rotation$1,container),container}let{width,height}=getRectDims(data.rect),rect=_util.Util.normalizeRect([data.rect[0],page.view[3]-data.rect[1]+page.view[1],data.rect[2],page.view[3]-data.rect[3]+page.view[1]]);if(!ignoreBorder&&data.borderStyle.width>0){container.style.borderWidth=`${data.borderStyle.width}px`;let horizontalRadius=data.borderStyle.horizontalCornerRadius,verticalRadius=data.borderStyle.verticalCornerRadius;if(horizontalRadius>0||verticalRadius>0){let radius=`calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;container.style.borderRadius=radius}else if(this instanceof RadioButtonWidgetAnnotationElement){let radius=`calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;container.style.borderRadius=radius}switch(data.borderStyle.style){case _util.AnnotationBorderStyleType.SOLID:container.style.borderStyle=`solid`;break;case _util.AnnotationBorderStyleType.DASHED:container.style.borderStyle=`dashed`;break;case _util.AnnotationBorderStyleType.BEVELED:(0,_util.warn)(`Unimplemented border style: beveled`);break;case _util.AnnotationBorderStyleType.INSET:(0,_util.warn)(`Unimplemented border style: inset`);break;case _util.AnnotationBorderStyleType.UNDERLINE:container.style.borderBottomStyle=`solid`;break;default:break}let borderColor=data.borderColor||null;borderColor?(this.#e=!0,container.style.borderColor=_util.Util.makeHexColor(borderColor[0]|0,borderColor[1]|0,borderColor[2]|0)):container.style.borderWidth=0}container.style.left=`${100*(rect[0]-pageX)/pageWidth}%`,container.style.top=`${100*(rect[1]-pageY)/pageHeight}%`;let{rotation}=data;return data.hasOwnCanvas||rotation===0?(container.style.width=`${100*width/pageWidth}%`,container.style.height=`${100*height/pageHeight}%`):this.setRotation(rotation,container),container}setRotation(angle,container=this.container){if(!this.data.rect)return;let{pageWidth,pageHeight}=this.parent.viewport.rawDims,{width,height}=getRectDims(this.data.rect),elementWidth,elementHeight;angle%180==0?(elementWidth=100*width/pageWidth,elementHeight=100*height/pageHeight):(elementWidth=100*height/pageWidth,elementHeight=100*width/pageHeight),container.style.width=`${elementWidth}%`,container.style.height=`${elementHeight}%`,container.setAttribute(`data-main-rotation`,(360-angle)%360)}get _commonActions(){let setColor=(jsName,styleName,event)=>{let color=event.detail[jsName],colorType=color[0],colorArray=color.slice(1);event.target.style[styleName]=_scripting_utils.ColorConverters[`${colorType}_HTML`](colorArray),this.annotationStorage.setValue(this.data.id,{[styleName]:_scripting_utils.ColorConverters[`${colorType}_rgb`](colorArray)})};return(0,_util.shadow)(this,`_commonActions`,{display:event=>{let{display}=event.detail,hidden=display%2==1;this.container.style.visibility=hidden?`hidden`:`visible`,this.annotationStorage.setValue(this.data.id,{noView:hidden,noPrint:display===1||display===2})},print:event=>{this.annotationStorage.setValue(this.data.id,{noPrint:!event.detail.print})},hidden:event=>{let{hidden}=event.detail;this.container.style.visibility=hidden?`hidden`:`visible`,this.annotationStorage.setValue(this.data.id,{noPrint:hidden,noView:hidden})},focus:event=>{setTimeout(()=>event.target.focus({preventScroll:!1}),0)},userName:event=>{event.target.title=event.detail.userName},readonly:event=>{event.target.disabled=event.detail.readonly},required:event=>{this._setRequired(event.target,event.detail.required)},bgColor:event=>{setColor(`bgColor`,`backgroundColor`,event)},fillColor:event=>{setColor(`fillColor`,`backgroundColor`,event)},fgColor:event=>{setColor(`fgColor`,`color`,event)},textColor:event=>{setColor(`textColor`,`color`,event)},borderColor:event=>{setColor(`borderColor`,`borderColor`,event)},strokeColor:event=>{setColor(`strokeColor`,`borderColor`,event)},rotation:event=>{let angle=event.detail.rotation;this.setRotation(angle),this.annotationStorage.setValue(this.data.id,{rotation:angle})}})}_dispatchEventFromSandbox(actions,jsEvent){let commonActions=this._commonActions;for(let name of Object.keys(jsEvent.detail))(actions[name]||commonActions[name])?.(jsEvent)}_setDefaultPropertiesFromJS(element){if(!this.enableScripting)return;let storedData=this.annotationStorage.getRawValue(this.data.id);if(!storedData)return;let commonActions=this._commonActions;for(let[actionName,detail]of Object.entries(storedData)){let action=commonActions[actionName];action&&(action({detail:{[actionName]:detail},target:element}),delete storedData[actionName])}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints}=this.data;if(!quadPoints)return;let[rectBlX,rectBlY,rectTrX,rectTrY]=this.data.rect;if(quadPoints.length===1){let[,{x:trX,y:trY},{x:blX,y:blY}]=quadPoints[0];if(rectTrX===trX&&rectTrY===trY&&rectBlX===blX&&rectBlY===blY)return}let{style}=this.container,svgBuffer;if(this.#e){let{borderColor,borderWidth}=style;style.borderWidth=0,svgBuffer=[`url('data:image/svg+xml;utf8,`,`<svg xmlns="http://www.w3.org/2000/svg"`,` preserveAspectRatio="none" viewBox="0 0 1 1">`,`<g fill="transparent" stroke="${borderColor}" stroke-width="${borderWidth}">`],this.container.classList.add(`hasBorder`)}let width=rectTrX-rectBlX,height=rectTrY-rectBlY,{svgFactory}=this,svg=svgFactory.createElement(`svg`);svg.classList.add(`quadrilateralsContainer`),svg.setAttribute(`width`,0),svg.setAttribute(`height`,0);let defs=svgFactory.createElement(`defs`);svg.append(defs);let clipPath=svgFactory.createElement(`clipPath`),id=`clippath_${this.data.id}`;clipPath.setAttribute(`id`,id),clipPath.setAttribute(`clipPathUnits`,`objectBoundingBox`),defs.append(clipPath);for(let[,{x:trX,y:trY},{x:blX,y:blY}]of quadPoints){let rect=svgFactory.createElement(`rect`),x$1=(blX-rectBlX)/width,y$2=(rectTrY-trY)/height,rectWidth=(trX-blX)/width,rectHeight=(trY-blY)/height;rect.setAttribute(`x`,x$1),rect.setAttribute(`y`,y$2),rect.setAttribute(`width`,rectWidth),rect.setAttribute(`height`,rectHeight),clipPath.append(rect),svgBuffer?.push(`<rect vector-effect="non-scaling-stroke" x="${x$1}" y="${y$2}" width="${rectWidth}" height="${rectHeight}"/>`)}this.#e&&(svgBuffer.push(`</g></svg>')`),style.backgroundImage=svgBuffer.join(``)),this.container.append(svg),this.container.style.clipPath=`url(#${id})`}_createPopup(){let{container,data}=this;container.setAttribute(`aria-haspopup`,`dialog`);let popup=new PopupAnnotationElement({data:{color:data.color,titleObj:data.titleObj,modificationDate:data.modificationDate,contentsObj:data.contentsObj,richText:data.richText,parentRect:data.rect,borderStyle:0,id:`popup_${data.id}`,rotation:data.rotation},parent:this.parent,elements:[this]});this.parent.div.append(popup.render())}render(){(0,_util.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(name,skipId=null){let fields=[];if(this._fieldObjects){let fieldObj=this._fieldObjects[name];if(fieldObj)for(let{page,id,exportValues}of fieldObj){if(page===-1||id===skipId)continue;let exportValue=typeof exportValues==`string`?exportValues:null,domElement=document.querySelector(`[data-element-id="${id}"]`);if(domElement&&!GetElementsByNameSet.has(domElement)){(0,_util.warn)(`_getElementsByName - element not allowed: ${id}`);continue}fields.push({id,exportValue,domElement})}return fields}for(let domElement of document.getElementsByName(name)){let{exportValue}=domElement,id=domElement.getAttribute(`data-element-id`);id!==skipId&&GetElementsByNameSet.has(domElement)&&fields.push({id,exportValue,domElement})}return fields}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let triggers=this.getElementsToTriggerPopup();if(Array.isArray(triggers))for(let element of triggers)element.classList.add(`highlightArea`);else triggers.classList.add(`highlightArea`)}_editOnDoubleClick(){let{annotationEditorType:mode,data:{id:editId}}=this;this.container.addEventListener(`dblclick`,()=>{this.linkService.eventBus?.dispatch(`switchannotationeditormode`,{source:this,mode,editId})})}}class LinkAnnotationElement extends AnnotationElement{constructor(parameters,options=null){super(parameters,{isRenderable:!0,ignoreBorder:!!options?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=parameters.data.isTooltipOnly}render(){let{data,linkService}=this,link=document.createElement(`a`);link.setAttribute(`data-element-id`,data.id);let isBound=!1;return data.url?(linkService.addLinkAttributes(link,data.url,data.newWindow),isBound=!0):data.action?(this._bindNamedAction(link,data.action),isBound=!0):data.attachment?(this._bindAttachment(link,data.attachment),isBound=!0):data.setOCGState?(this.#t(link,data.setOCGState),isBound=!0):data.dest?(this._bindLink(link,data.dest),isBound=!0):(data.actions&&(data.actions.Action||data.actions[`Mouse Up`]||data.actions[`Mouse Down`])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(link,data),isBound=!0),data.resetForm?(this._bindResetFormAction(link,data.resetForm),isBound=!0):this.isTooltipOnly&&!isBound&&(this._bindLink(link,``),isBound=!0)),this.container.classList.add(`linkAnnotation`),isBound&&this.container.append(link),this.container}#e(){this.container.setAttribute(`data-internal-link`,``)}_bindLink(link,destination){link.href=this.linkService.getDestinationHash(destination),link.onclick=()=>(destination&&this.linkService.goToDestination(destination),!1),(destination||destination===``)&&this.#e()}_bindNamedAction(link,action){link.href=this.linkService.getAnchorUrl(``),link.onclick=()=>(this.linkService.executeNamedAction(action),!1),this.#e()}_bindAttachment(link,attachment){link.href=this.linkService.getAnchorUrl(``),link.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,attachment.content,attachment.filename),!1),this.#e()}#t(link,action){link.href=this.linkService.getAnchorUrl(``),link.onclick=()=>(this.linkService.executeSetOCGState(action),!1),this.#e()}_bindJSAction(link,data){link.href=this.linkService.getAnchorUrl(``);let map=new Map([[`Action`,`onclick`],[`Mouse Up`,`onmouseup`],[`Mouse Down`,`onmousedown`]]);for(let name of Object.keys(data.actions)){let jsName=map.get(name);jsName&&(link[jsName]=()=>(this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id:data.id,name}}),!1))}link.onclick||=()=>!1,this.#e()}_bindResetFormAction(link,resetForm){let otherClickAction=link.onclick;if(otherClickAction||(link.href=this.linkService.getAnchorUrl(``)),this.#e(),!this._fieldObjects){(0,_util.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),otherClickAction||(link.onclick=()=>!1);return}link.onclick=()=>{otherClickAction?.();let{fields:resetFormFields,refs:resetFormRefs,include}=resetForm,allFields=[];if(resetFormFields.length!==0||resetFormRefs.length!==0){let fieldIds=new Set(resetFormRefs);for(let fieldName of resetFormFields){let fields=this._fieldObjects[fieldName]||[];for(let{id}of fields)fieldIds.add(id)}for(let fields of Object.values(this._fieldObjects))for(let field of fields)fieldIds.has(field.id)===include&&allFields.push(field)}else for(let fields of Object.values(this._fieldObjects))allFields.push(...fields);let storage=this.annotationStorage,allIds=[];for(let field of allFields){let{id}=field;switch(allIds.push(id),field.type){case`text`:{let value=field.defaultValue||``;storage.setValue(id,{value});break}case`checkbox`:case`radiobutton`:{let value=field.defaultValue===field.exportValues;storage.setValue(id,{value});break}case`combobox`:case`listbox`:{let value=field.defaultValue||``;storage.setValue(id,{value});break}default:continue}let domElement=document.querySelector(`[data-element-id="${id}"]`);if(domElement){if(!GetElementsByNameSet.has(domElement)){(0,_util.warn)(`_bindResetFormAction - element not allowed: ${id}`);continue}}else continue;domElement.dispatchEvent(new Event(`resetform`))}return this.enableScripting&&this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id:`app`,ids:allIds,name:`ResetForm`}}),!1}}}class TextAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0})}render(){this.container.classList.add(`textAnnotation`);let image=document.createElement(`img`);return image.src=this.imageResourcesPath+`annotation-`+this.data.name.toLowerCase()+`.svg`,image.alt=`[{{type}} Annotation]`,image.dataset.l10nId=`text_annotation_type`,image.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(image),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(element){this.data.hasOwnCanvas&&(element.previousSibling?.nodeName===`CANVAS`&&(element.previousSibling.hidden=!0),element.hidden=!1)}_getKeyModifier(event){let{isWin,isMac}=_util.FeatureTest.platform;return isWin&&event.ctrlKey||isMac&&event.metaKey}_setEventListener(element,elementData,baseName,eventName,valueGetter){baseName.includes(`mouse`)?element.addEventListener(baseName,event=>{this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id:this.data.id,name:eventName,value:valueGetter(event),shift:event.shiftKey,modifier:this._getKeyModifier(event)}})}):element.addEventListener(baseName,event=>{if(baseName===`blur`){if(!elementData.focused||!event.relatedTarget)return;elementData.focused=!1}else if(baseName===`focus`){if(elementData.focused)return;elementData.focused=!0}valueGetter&&this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id:this.data.id,name:eventName,value:valueGetter(event)}})})}_setEventListeners(element,elementData,names,getter){for(let[baseName,eventName]of names)(eventName===`Action`||this.data.actions?.[eventName])&&((eventName===`Focus`||eventName===`Blur`)&&(elementData||={focused:!1}),this._setEventListener(element,elementData,baseName,eventName,getter),eventName===`Focus`&&!this.data.actions?.Blur?this._setEventListener(element,elementData,`blur`,`Blur`,null):eventName===`Blur`&&!this.data.actions?.Focus&&this._setEventListener(element,elementData,`focus`,`Focus`,null))}_setBackgroundColor(element){let color=this.data.backgroundColor||null;element.style.backgroundColor=color===null?`transparent`:_util.Util.makeHexColor(color[0],color[1],color[2])}_setTextStyle(element){let TEXT_ALIGNMENT=[`left`,`center`,`right`],{fontColor}=this.data.defaultAppearanceData,fontSize=this.data.defaultAppearanceData.fontSize||9,style=element.style,computedFontSize,BORDER_SIZE=2,roundToOneDecimal=x$1=>Math.round(10*x$1)/10;if(this.data.multiLine){let height=Math.abs(this.data.rect[3]-this.data.rect[1]-2),lineHeight=height/(Math.round(height/(_util.LINE_FACTOR*fontSize))||1);computedFontSize=Math.min(fontSize,roundToOneDecimal(lineHeight/_util.LINE_FACTOR))}else{let height=Math.abs(this.data.rect[3]-this.data.rect[1]-2);computedFontSize=Math.min(fontSize,roundToOneDecimal(height/_util.LINE_FACTOR))}style.fontSize=`calc(${computedFontSize}px * var(--scale-factor))`,style.color=_util.Util.makeHexColor(fontColor[0],fontColor[1],fontColor[2]),this.data.textAlignment!==null&&(style.textAlign=TEXT_ALIGNMENT[this.data.textAlignment])}_setRequired(element,isRequired){isRequired?element.setAttribute(`required`,!0):element.removeAttribute(`required`),element.setAttribute(`aria-required`,isRequired)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){let isRenderable=parameters.renderForms||!parameters.data.hasAppearance&&!!parameters.data.fieldValue;super(parameters,{isRenderable})}setPropertyOnSiblings(base,key,value,keyInStorage){let storage=this.annotationStorage;for(let element of this._getElementsByName(base.name,base.id))element.domElement&&(element.domElement[key]=value),storage.setValue(element.id,{[keyInStorage]:value})}render(){let storage=this.annotationStorage,id=this.data.id;this.container.classList.add(`textWidgetAnnotation`);let element=null;if(this.renderForms){let storedData=storage.getValue(id,{value:this.data.fieldValue}),textContent=storedData.value||``,maxLen=storage.getValue(id,{charLimit:this.data.maxLen}).charLimit;maxLen&&textContent.length>maxLen&&(textContent=textContent.slice(0,maxLen));let fieldFormattedValues=storedData.formattedValue||this.data.textContent?.join(`
`)||null;fieldFormattedValues&&this.data.comb&&(fieldFormattedValues=fieldFormattedValues.replaceAll(/\s+/g,``));let elementData={userValue:textContent,formattedValue:fieldFormattedValues,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(element=document.createElement(`textarea`),element.textContent=fieldFormattedValues??textContent,this.data.doNotScroll&&(element.style.overflowY=`hidden`)):(element=document.createElement(`input`),element.type=`text`,element.setAttribute(`value`,fieldFormattedValues??textContent),this.data.doNotScroll&&(element.style.overflowX=`hidden`)),this.data.hasOwnCanvas&&(element.hidden=!0),GetElementsByNameSet.add(element),element.setAttribute(`data-element-id`,id),element.disabled=this.data.readOnly,element.name=this.data.fieldName,element.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(element,this.data.required),maxLen&&(element.maxLength=maxLen),element.addEventListener(`input`,event=>{storage.setValue(id,{value:event.target.value}),this.setPropertyOnSiblings(element,`value`,event.target.value,`value`),elementData.formattedValue=null}),element.addEventListener(`resetform`,event=>{element.value=elementData.userValue=this.data.defaultFieldValue??``,elementData.formattedValue=null});let blurListener=event=>{let{formattedValue}=elementData;formattedValue!=null&&(event.target.value=formattedValue),event.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){element.addEventListener(`focus`,event=>{if(elementData.focused)return;let{target}=event;elementData.userValue&&(target.value=elementData.userValue),elementData.lastCommittedValue=target.value,elementData.commitKey=1,elementData.focused=!0}),element.addEventListener(`updatefromsandbox`,jsEvent=>{this.showElementAndHideCanvas(jsEvent.target),this._dispatchEventFromSandbox({value(event){elementData.userValue=event.detail.value??``,storage.setValue(id,{value:elementData.userValue.toString()}),event.target.value=elementData.userValue},formattedValue(event){let{formattedValue}=event.detail;elementData.formattedValue=formattedValue,formattedValue!=null&&event.target!==document.activeElement&&(event.target.value=formattedValue),storage.setValue(id,{formattedValue})},selRange(event){event.target.setSelectionRange(...event.detail.selRange)},charLimit:event=>{let{charLimit}=event.detail,{target}=event;if(charLimit===0){target.removeAttribute(`maxLength`);return}target.setAttribute(`maxLength`,charLimit);let value=elementData.userValue;!value||value.length<=charLimit||(value=value.slice(0,charLimit),target.value=elementData.userValue=value,storage.setValue(id,{value}),this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id,name:`Keystroke`,value,willCommit:!0,commitKey:1,selStart:target.selectionStart,selEnd:target.selectionEnd}}))}},jsEvent)}),element.addEventListener(`keydown`,event=>{elementData.commitKey=1;let commitKey=-1;if(event.key===`Escape`?commitKey=0:event.key===`Enter`&&!this.data.multiLine?commitKey=2:event.key===`Tab`&&(elementData.commitKey=3),commitKey===-1)return;let{value}=event.target;elementData.lastCommittedValue!==value&&(elementData.lastCommittedValue=value,elementData.userValue=value,this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id,name:`Keystroke`,value,willCommit:!0,commitKey,selStart:event.target.selectionStart,selEnd:event.target.selectionEnd}}))});let _blurListener=blurListener;blurListener=null,element.addEventListener(`blur`,event=>{if(!elementData.focused||!event.relatedTarget)return;elementData.focused=!1;let{value}=event.target;elementData.userValue=value,elementData.lastCommittedValue!==value&&this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id,name:`Keystroke`,value,willCommit:!0,commitKey:elementData.commitKey,selStart:event.target.selectionStart,selEnd:event.target.selectionEnd}}),_blurListener(event)}),this.data.actions?.Keystroke&&element.addEventListener(`beforeinput`,event=>{elementData.lastCommittedValue=null;let{data,target}=event,{value,selectionStart,selectionEnd}=target,selStart=selectionStart,selEnd=selectionEnd;switch(event.inputType){case`deleteWordBackward`:{let match=value.substring(0,selectionStart).match(/\w*[^\w]*$/);match&&(selStart-=match[0].length);break}case`deleteWordForward`:{let match=value.substring(selectionStart).match(/^[^\w]*\w*/);match&&(selEnd+=match[0].length);break}case`deleteContentBackward`:selectionStart===selectionEnd&&--selStart;break;case`deleteContentForward`:selectionStart===selectionEnd&&(selEnd+=1);break}event.preventDefault(),this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id,name:`Keystroke`,value,change:data||``,willCommit:!1,selStart,selEnd}})}),this._setEventListeners(element,elementData,[[`focus`,`Focus`],[`blur`,`Blur`],[`mousedown`,`Mouse Down`],[`mouseenter`,`Mouse Enter`],[`mouseleave`,`Mouse Exit`],[`mouseup`,`Mouse Up`]],event=>event.target.value)}if(blurListener&&element.addEventListener(`blur`,blurListener),this.data.comb){let combWidth=(this.data.rect[2]-this.data.rect[0])/maxLen;element.classList.add(`comb`),element.style.letterSpacing=`calc(${combWidth}px * var(--scale-factor) - 1ch)`}}else element=document.createElement(`div`),element.textContent=this.data.fieldValue,element.style.verticalAlign=`middle`,element.style.display=`table-cell`;return this._setTextStyle(element),this._setBackgroundColor(element),this._setDefaultPropertiesFromJS(element),this.container.append(element),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!parameters.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){super(parameters,{isRenderable:parameters.renderForms})}render(){let storage=this.annotationStorage,data=this.data,id=data.id,value=storage.getValue(id,{value:data.exportValue===data.fieldValue}).value;typeof value==`string`&&(value=value!==`Off`,storage.setValue(id,{value})),this.container.classList.add(`buttonWidgetAnnotation`,`checkBox`);let element=document.createElement(`input`);return GetElementsByNameSet.add(element),element.setAttribute(`data-element-id`,id),element.disabled=data.readOnly,this._setRequired(element,this.data.required),element.type=`checkbox`,element.name=data.fieldName,value&&element.setAttribute(`checked`,!0),element.setAttribute(`exportValue`,data.exportValue),element.tabIndex=DEFAULT_TAB_INDEX,element.addEventListener(`change`,event=>{let{name,checked}=event.target;for(let checkbox of this._getElementsByName(name,id)){let curChecked=checked&&checkbox.exportValue===data.exportValue;checkbox.domElement&&(checkbox.domElement.checked=curChecked),storage.setValue(checkbox.id,{value:curChecked})}storage.setValue(id,{value:checked})}),element.addEventListener(`resetform`,event=>{let defaultValue=data.defaultFieldValue||`Off`;event.target.checked=defaultValue===data.exportValue}),this.enableScripting&&this.hasJSActions&&(element.addEventListener(`updatefromsandbox`,jsEvent=>{this._dispatchEventFromSandbox({value(event){event.target.checked=event.detail.value!==`Off`,storage.setValue(id,{value:event.target.checked})}},jsEvent)}),this._setEventListeners(element,null,[[`change`,`Validate`],[`change`,`Action`],[`focus`,`Focus`],[`blur`,`Blur`],[`mousedown`,`Mouse Down`],[`mouseenter`,`Mouse Enter`],[`mouseleave`,`Mouse Exit`],[`mouseup`,`Mouse Up`]],event=>event.target.checked)),this._setBackgroundColor(element),this._setDefaultPropertiesFromJS(element),this.container.append(element),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){super(parameters,{isRenderable:parameters.renderForms})}render(){this.container.classList.add(`buttonWidgetAnnotation`,`radioButton`);let storage=this.annotationStorage,data=this.data,id=data.id,value=storage.getValue(id,{value:data.fieldValue===data.buttonValue}).value;typeof value==`string`&&(value=value!==data.buttonValue,storage.setValue(id,{value}));let element=document.createElement(`input`);if(GetElementsByNameSet.add(element),element.setAttribute(`data-element-id`,id),element.disabled=data.readOnly,this._setRequired(element,this.data.required),element.type=`radio`,element.name=data.fieldName,value&&element.setAttribute(`checked`,!0),element.tabIndex=DEFAULT_TAB_INDEX,element.addEventListener(`change`,event=>{let{name,checked}=event.target;for(let radio of this._getElementsByName(name,id))storage.setValue(radio.id,{value:!1});storage.setValue(id,{value:checked})}),element.addEventListener(`resetform`,event=>{let defaultValue=data.defaultFieldValue;event.target.checked=defaultValue!=null&&defaultValue===data.buttonValue}),this.enableScripting&&this.hasJSActions){let pdfButtonValue=data.buttonValue;element.addEventListener(`updatefromsandbox`,jsEvent=>{this._dispatchEventFromSandbox({value:event=>{let checked=pdfButtonValue===event.detail.value;for(let radio of this._getElementsByName(event.target.name)){let curChecked=checked&&radio.id===id;radio.domElement&&(radio.domElement.checked=curChecked),storage.setValue(radio.id,{value:curChecked})}}},jsEvent)}),this._setEventListeners(element,null,[[`change`,`Validate`],[`change`,`Action`],[`focus`,`Focus`],[`blur`,`Blur`],[`mousedown`,`Mouse Down`],[`mouseenter`,`Mouse Enter`],[`mouseleave`,`Mouse Exit`],[`mouseup`,`Mouse Up`]],event=>event.target.checked)}return this._setBackgroundColor(element),this._setDefaultPropertiesFromJS(element),this.container.append(element),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(parameters){super(parameters,{ignoreBorder:parameters.data.hasAppearance})}render(){let container=super.render();container.classList.add(`buttonWidgetAnnotation`,`pushButton`),this.data.alternativeText&&(container.title=this.data.alternativeText);let linkElement=container.lastChild;return this.enableScripting&&this.hasJSActions&&linkElement&&(this._setDefaultPropertiesFromJS(linkElement),linkElement.addEventListener(`updatefromsandbox`,jsEvent=>{this._dispatchEventFromSandbox({},jsEvent)})),container}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){super(parameters,{isRenderable:parameters.renderForms})}render(){this.container.classList.add(`choiceWidgetAnnotation`);let storage=this.annotationStorage,id=this.data.id,storedData=storage.getValue(id,{value:this.data.fieldValue}),selectElement=document.createElement(`select`);GetElementsByNameSet.add(selectElement),selectElement.setAttribute(`data-element-id`,id),selectElement.disabled=this.data.readOnly,this._setRequired(selectElement,this.data.required),selectElement.name=this.data.fieldName,selectElement.tabIndex=DEFAULT_TAB_INDEX;let addAnEmptyEntry=this.data.combo&&this.data.options.length>0;this.data.combo||(selectElement.size=this.data.options.length,this.data.multiSelect&&(selectElement.multiple=!0)),selectElement.addEventListener(`resetform`,event=>{let defaultValue=this.data.defaultFieldValue;for(let option of selectElement.options)option.selected=option.value===defaultValue});for(let option of this.data.options){let optionElement=document.createElement(`option`);optionElement.textContent=option.displayValue,optionElement.value=option.exportValue,storedData.value.includes(option.exportValue)&&(optionElement.setAttribute(`selected`,!0),addAnEmptyEntry=!1),selectElement.append(optionElement)}let removeEmptyEntry=null;if(addAnEmptyEntry){let noneOptionElement=document.createElement(`option`);noneOptionElement.value=` `,noneOptionElement.setAttribute(`hidden`,!0),noneOptionElement.setAttribute(`selected`,!0),selectElement.prepend(noneOptionElement),removeEmptyEntry=()=>{noneOptionElement.remove(),selectElement.removeEventListener(`input`,removeEmptyEntry),removeEmptyEntry=null},selectElement.addEventListener(`input`,removeEmptyEntry)}let getValue=isExport=>{let name=isExport?`value`:`textContent`,{options,multiple}=selectElement;return multiple?Array.prototype.filter.call(options,option=>option.selected).map(option=>option[name]):options.selectedIndex===-1?null:options[options.selectedIndex][name]},selectedValues=getValue(!1),getItems=event=>{let options=event.target.options;return Array.prototype.map.call(options,option=>({displayValue:option.textContent,exportValue:option.value}))};return this.enableScripting&&this.hasJSActions?(selectElement.addEventListener(`updatefromsandbox`,jsEvent=>{this._dispatchEventFromSandbox({value(event){removeEmptyEntry?.();let value=event.detail.value,values=new Set(Array.isArray(value)?value:[value]);for(let option of selectElement.options)option.selected=values.has(option.value);storage.setValue(id,{value:getValue(!0)}),selectedValues=getValue(!1)},multipleSelection(event){selectElement.multiple=!0},remove(event){let options=selectElement.options,index=event.detail.remove;options[index].selected=!1,selectElement.remove(index),options.length>0&&Array.prototype.findIndex.call(options,option=>option.selected)===-1&&(options[0].selected=!0),storage.setValue(id,{value:getValue(!0),items:getItems(event)}),selectedValues=getValue(!1)},clear(event){for(;selectElement.length!==0;)selectElement.remove(0);storage.setValue(id,{value:null,items:[]}),selectedValues=getValue(!1)},insert(event){let{index,displayValue,exportValue}=event.detail.insert,selectChild=selectElement.children[index],optionElement=document.createElement(`option`);optionElement.textContent=displayValue,optionElement.value=exportValue,selectChild?selectChild.before(optionElement):selectElement.append(optionElement),storage.setValue(id,{value:getValue(!0),items:getItems(event)}),selectedValues=getValue(!1)},items(event){let{items}=event.detail;for(;selectElement.length!==0;)selectElement.remove(0);for(let item of items){let{displayValue,exportValue}=item,optionElement=document.createElement(`option`);optionElement.textContent=displayValue,optionElement.value=exportValue,selectElement.append(optionElement)}selectElement.options.length>0&&(selectElement.options[0].selected=!0),storage.setValue(id,{value:getValue(!0),items:getItems(event)}),selectedValues=getValue(!1)},indices(event){let indices=new Set(event.detail.indices);for(let option of event.target.options)option.selected=indices.has(option.index);storage.setValue(id,{value:getValue(!0)}),selectedValues=getValue(!1)},editable(event){event.target.disabled=!event.detail.editable}},jsEvent)}),selectElement.addEventListener(`input`,event=>{let exportValue=getValue(!0);storage.setValue(id,{value:exportValue}),event.preventDefault(),this.linkService.eventBus?.dispatch(`dispatcheventinsandbox`,{source:this,detail:{id,name:`Keystroke`,value:selectedValues,changeEx:exportValue,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(selectElement,null,[[`focus`,`Focus`],[`blur`,`Blur`],[`mousedown`,`Mouse Down`],[`mouseenter`,`Mouse Enter`],[`mouseleave`,`Mouse Exit`],[`mouseup`,`Mouse Up`],[`input`,`Action`],[`input`,`Validate`]],event=>event.target.value)):selectElement.addEventListener(`input`,function(event){storage.setValue(id,{value:getValue(!0)})}),this.data.combo&&this._setTextStyle(selectElement),this._setBackgroundColor(selectElement),this._setDefaultPropertiesFromJS(selectElement),this.container.append(selectElement),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(parameters){let{data,elements}=parameters;super(parameters,{isRenderable:AnnotationElement._hasPopupData(data)}),this.elements=elements}render(){this.container.classList.add(`popupAnnotation`);let popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),elementIds=[];for(let element of this.elements)element.popup=popup,elementIds.push(element.data.id),element.addHighlightArea();return this.container.setAttribute(`aria-controls`,elementIds.map(id=>`${_util.AnnotationPrefix}${id}`).join(`,`)),this.container}}class PopupElement{#e=null;#t=this.#_.bind(this);#n=this.#b.bind(this);#r=this.#y.bind(this);#i=this.#v.bind(this);#a=null;#o=null;#s=null;#c=null;#l=null;#u=null;#d=!1;#f=null;#p=null;#m=null;#h=null;#g=!1;constructor({container,color,elements,titleObj,modificationDate,contentsObj,richText,parent,rect,parentRect,open}){this.#o=container,this.#h=titleObj,this.#s=contentsObj,this.#m=richText,this.#l=parent,this.#a=color,this.#p=rect,this.#u=parentRect,this.#c=elements;let dateObject=_display_utils.PDFDateString.toDateObject(modificationDate);dateObject&&(this.#e=parent.l10n.get(`annotation_date_string`,{date:dateObject.toLocaleDateString(),time:dateObject.toLocaleTimeString()})),this.trigger=elements.flatMap(e$1=>e$1.getElementsToTriggerPopup());for(let element of this.trigger)element.addEventListener(`click`,this.#i),element.addEventListener(`mouseenter`,this.#r),element.addEventListener(`mouseleave`,this.#n),element.classList.add(`popupTriggerArea`);for(let element of elements)element.container?.addEventListener(`keydown`,this.#t);this.#o.hidden=!0,open&&this.#v()}render(){if(this.#f)return;let{page:{view},viewport:{rawDims:{pageWidth,pageHeight,pageX,pageY}}}=this.#l,popup=this.#f=document.createElement(`div`);if(popup.className=`popup`,this.#a){let baseColor=popup.style.outlineColor=_util.Util.makeHexColor(...this.#a);if(CSS.supports(`background-color`,`color-mix(in srgb, red 30%, white)`))popup.style.backgroundColor=`color-mix(in srgb, ${baseColor} 30%, white)`;else{let BACKGROUND_ENLIGHT=.7;popup.style.backgroundColor=_util.Util.makeHexColor(...this.#a.map(c$3=>Math.floor(.7*(255-c$3)+c$3)))}}let header=document.createElement(`span`);header.className=`header`;let title=document.createElement(`h1`);if(header.append(title),{dir:title.dir,str:title.textContent}=this.#h,popup.append(header),this.#e){let modificationDate=document.createElement(`span`);modificationDate.classList.add(`popupDate`),this.#e.then(localized=>{modificationDate.textContent=localized}),header.append(modificationDate)}let contentsObj=this.#s,richText=this.#m;if(richText?.str&&(!contentsObj?.str||contentsObj.str===richText.str))_xfa_layer.XfaLayer.render({xfaHtml:richText.html,intent:`richText`,div:popup}),popup.lastChild.classList.add(`richText`,`popupContent`);else{let contents=this._formatContents(contentsObj);popup.append(contents)}let useParentRect=!!this.#u,rect=useParentRect?this.#u:this.#p;for(let element of this.#c)if(!rect||_util.Util.intersect(element.data.rect,rect)!==null){rect=element.data.rect,useParentRect=!0;break}let normalizedRect=_util.Util.normalizeRect([rect[0],view[3]-rect[1]+view[1],rect[2],view[3]-rect[3]+view[1]]),parentWidth=useParentRect?rect[2]-rect[0]+5:0,popupLeft=normalizedRect[0]+parentWidth,popupTop=normalizedRect[1],{style}=this.#o;style.left=`${100*(popupLeft-pageX)/pageWidth}%`,style.top=`${100*(popupTop-pageY)/pageHeight}%`,this.#o.append(popup)}_formatContents({str,dir}){let p$2=document.createElement(`p`);p$2.classList.add(`popupContent`),p$2.dir=dir;let lines=str.split(/(?:\r\n?|\n)/);for(let i$1=0,ii=lines.length;i$1<ii;++i$1){let line=lines[i$1];p$2.append(document.createTextNode(line)),i$1<ii-1&&p$2.append(document.createElement(`br`))}return p$2}#_(event){event.altKey||event.shiftKey||event.ctrlKey||event.metaKey||(event.key===`Enter`||event.key===`Escape`&&this.#d)&&this.#v()}#v(){this.#d=!this.#d,this.#d?(this.#y(),this.#o.addEventListener(`click`,this.#i),this.#o.addEventListener(`keydown`,this.#t)):(this.#b(),this.#o.removeEventListener(`click`,this.#i),this.#o.removeEventListener(`keydown`,this.#t))}#y(){this.#f||this.render(),this.isVisible?this.#d&&this.#o.classList.add(`focused`):(this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#b(){this.#o.classList.remove(`focused`),!(this.#d||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#o.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}}class FreeTextAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0}),this.textContent=parameters.data.textContent,this.textPosition=parameters.data.textPosition,this.annotationEditorType=_util.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add(`freeTextAnnotation`),this.textContent){let content=document.createElement(`div`);content.classList.add(`annotationTextContent`),content.setAttribute(`role`,`comment`);for(let line of this.textContent){let lineSpan=document.createElement(`span`);lineSpan.textContent=line,content.append(lineSpan)}this.container.append(content)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}exports$1.FreeTextAnnotationElement=FreeTextAnnotationElement;class LineAnnotationElement extends AnnotationElement{#e=null;constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add(`lineAnnotation`);let data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0),line=this.#e=this.svgFactory.createElement(`svg:line`);return line.setAttribute(`x1`,data.rect[2]-data.lineCoordinates[0]),line.setAttribute(`y1`,data.rect[3]-data.lineCoordinates[1]),line.setAttribute(`x2`,data.rect[2]-data.lineCoordinates[2]),line.setAttribute(`y2`,data.rect[3]-data.lineCoordinates[3]),line.setAttribute(`stroke-width`,data.borderStyle.width||1),line.setAttribute(`stroke`,`transparent`),line.setAttribute(`fill`,`transparent`),svg.append(line),this.container.append(svg),!data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add(`highlightArea`)}}class SquareAnnotationElement extends AnnotationElement{#e=null;constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add(`squareAnnotation`);let data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0),borderWidth=data.borderStyle.width,square=this.#e=this.svgFactory.createElement(`svg:rect`);return square.setAttribute(`x`,borderWidth/2),square.setAttribute(`y`,borderWidth/2),square.setAttribute(`width`,width-borderWidth),square.setAttribute(`height`,height-borderWidth),square.setAttribute(`stroke-width`,borderWidth||1),square.setAttribute(`stroke`,`transparent`),square.setAttribute(`fill`,`transparent`),svg.append(square),this.container.append(svg),!data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add(`highlightArea`)}}class CircleAnnotationElement extends AnnotationElement{#e=null;constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add(`circleAnnotation`);let data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0),borderWidth=data.borderStyle.width,circle=this.#e=this.svgFactory.createElement(`svg:ellipse`);return circle.setAttribute(`cx`,width/2),circle.setAttribute(`cy`,height/2),circle.setAttribute(`rx`,width/2-borderWidth/2),circle.setAttribute(`ry`,height/2-borderWidth/2),circle.setAttribute(`stroke-width`,borderWidth||1),circle.setAttribute(`stroke`,`transparent`),circle.setAttribute(`fill`,`transparent`),svg.append(circle),this.container.append(svg),!data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add(`highlightArea`)}}class PolylineAnnotationElement extends AnnotationElement{#e=null;constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName=`polylineAnnotation`,this.svgElementName=`svg:polyline`}render(){this.container.classList.add(this.containerClassName);let data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0),points=[];for(let coordinate of data.vertices){let x$1=coordinate.x-data.rect[0],y$2=data.rect[3]-coordinate.y;points.push(x$1+`,`+y$2)}points=points.join(` `);let polyline=this.#e=this.svgFactory.createElement(this.svgElementName);return polyline.setAttribute(`points`,points),polyline.setAttribute(`stroke-width`,data.borderStyle.width||1),polyline.setAttribute(`stroke`,`transparent`),polyline.setAttribute(`fill`,`transparent`),svg.append(polyline),this.container.append(svg),!data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add(`highlightArea`)}}class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(parameters){super(parameters),this.containerClassName=`polygonAnnotation`,this.svgElementName=`svg:polygon`}}class CaretAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add(`caretAnnotation`),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class InkAnnotationElement extends AnnotationElement{#e=[];constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName=`inkAnnotation`,this.svgElementName=`svg:polyline`,this.annotationEditorType=_util.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0);for(let inkList of data.inkLists){let points=[];for(let coordinate of inkList){let x$1=coordinate.x-data.rect[0],y$2=data.rect[3]-coordinate.y;points.push(`${x$1},${y$2}`)}points=points.join(` `);let polyline=this.svgFactory.createElement(this.svgElementName);this.#e.push(polyline),polyline.setAttribute(`points`,points),polyline.setAttribute(`stroke-width`,data.borderStyle.width||1),polyline.setAttribute(`stroke`,`transparent`),polyline.setAttribute(`fill`,`transparent`),!data.popupRef&&this.hasPopupData&&this._createPopup(),svg.append(polyline)}return this.container.append(svg),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add(`highlightArea`)}}exports$1.InkAnnotationElement=InkAnnotationElement;class HighlightAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add(`highlightAnnotation`),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add(`underlineAnnotation`),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add(`squigglyAnnotation`),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add(`strikeoutAnnotation`),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add(`stampAnnotation`),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}exports$1.StampAnnotationElement=StampAnnotationElement;class FileAttachmentAnnotationElement extends AnnotationElement{#e=null;constructor(parameters){super(parameters,{isRenderable:!0});let{filename,content}=this.data.file;this.filename=(0,_display_utils.getFilenameFromUrl)(filename,!0),this.content=content,this.linkService.eventBus?.dispatch(`fileattachmentannotation`,{source:this,filename,content})}render(){this.container.classList.add(`fileAttachmentAnnotation`);let{container,data}=this,trigger;data.hasAppearance||data.fillAlpha===0?trigger=document.createElement(`div`):(trigger=document.createElement(`img`),trigger.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name)?`paperclip`:`pushpin`}.svg`,data.fillAlpha&&data.fillAlpha<1&&(trigger.style=`filter: opacity(${Math.round(data.fillAlpha*100)}%);`)),trigger.addEventListener(`dblclick`,this.#t.bind(this)),this.#e=trigger;let{isMac}=_util.FeatureTest.platform;return container.addEventListener(`keydown`,evt=>{evt.key===`Enter`&&(isMac?evt.metaKey:evt.ctrlKey)&&this.#t()}),!data.popupRef&&this.hasPopupData?this._createPopup():trigger.classList.add(`popupTriggerArea`),container.append(trigger),container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add(`highlightArea`)}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class AnnotationLayer{#e=null;#t=null;#n=new Map;constructor({div,accessibilityManager,annotationCanvasMap,l10n,page,viewport}){this.div=div,this.#e=accessibilityManager,this.#t=annotationCanvasMap,this.l10n=l10n,this.page=page,this.viewport=viewport,this.zIndex=0,this.l10n||=_displayL10n_utils.NullL10n}#r(element,id){let contentElement=element.firstChild||element;contentElement.id=`${_util.AnnotationPrefix}${id}`,this.div.append(element),this.#e?.moveElementInDOM(this.div,element,contentElement,!1)}async render(params){let{annotations}=params,layer=this.div;(0,_display_utils.setLayerDimensions)(layer,this.viewport);let popupToElements=new Map,elementParams={data:null,layer,linkService:params.linkService,downloadManager:params.downloadManager,imageResourcesPath:params.imageResourcesPath||``,renderForms:params.renderForms!==!1,svgFactory:new _display_utils.DOMSVGFactory,annotationStorage:params.annotationStorage||new _annotation_storage.AnnotationStorage,enableScripting:params.enableScripting===!0,hasJSActions:params.hasJSActions,fieldObjects:params.fieldObjects,parent:this,elements:null};for(let data of annotations){if(data.noHTML)continue;let isPopupAnnotation=data.annotationType===_util.AnnotationType.POPUP;if(isPopupAnnotation){let elements=popupToElements.get(data.id);if(!elements)continue;elementParams.elements=elements}else{let{width,height}=getRectDims(data.rect);if(width<=0||height<=0)continue}elementParams.data=data;let element=AnnotationElementFactory.create(elementParams);if(!element.isRenderable)continue;if(!isPopupAnnotation&&data.popupRef){let elements=popupToElements.get(data.popupRef);elements?elements.push(element):popupToElements.set(data.popupRef,[element])}element.annotationEditorType>0&&this.#n.set(element.data.id,element);let rendered=element.render();data.hidden&&(rendered.style.visibility=`hidden`),this.#r(rendered,data.id)}this.#i(),await this.l10n.translate(layer)}update({viewport}){let layer=this.div;this.viewport=viewport,(0,_display_utils.setLayerDimensions)(layer,{rotation:viewport.rotation}),this.#i(),layer.hidden=!1}#i(){if(!this.#t)return;let layer=this.div;for(let[id,canvas]of this.#t){let element=layer.querySelector(`[data-annotation-id="${id}"]`);if(!element)continue;let{firstChild}=element;firstChild?firstChild.nodeName===`CANVAS`?firstChild.replaceWith(canvas):firstChild.before(canvas):element.append(canvas)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(id){return this.#n.get(id)}}exports$1.AnnotationLayer=AnnotationLayer}),((__unused_webpack_module,exports$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.ColorConverters=void 0;function makeColorComp(n$1){return Math.floor(Math.max(0,Math.min(1,n$1))*255).toString(16).padStart(2,`0`)}function scaleAndClamp(x$1){return Math.max(0,Math.min(255,255*x$1))}class ColorConverters{static CMYK_G([c$3,y$2,m$2,k$1]){return[`G`,1-Math.min(1,.3*c$3+.59*m$2+.11*y$2+k$1)]}static G_CMYK([g$1]){return[`CMYK`,0,0,0,1-g$1]}static G_RGB([g$1]){return[`RGB`,g$1,g$1,g$1]}static G_rgb([g$1]){return g$1=scaleAndClamp(g$1),[g$1,g$1,g$1]}static G_HTML([g$1]){let G$1=makeColorComp(g$1);return`#${G$1}${G$1}${G$1}`}static RGB_G([r$1,g$1,b$2]){return[`G`,.3*r$1+.59*g$1+.11*b$2]}static RGB_rgb(color){return color.map(scaleAndClamp)}static RGB_HTML(color){return`#${color.map(makeColorComp).join(``)}`}static T_HTML(){return`#00000000`}static T_rgb(){return[null]}static CMYK_RGB([c$3,y$2,m$2,k$1]){return[`RGB`,1-Math.min(1,c$3+k$1),1-Math.min(1,m$2+k$1),1-Math.min(1,y$2+k$1)]}static CMYK_rgb([c$3,y$2,m$2,k$1]){return[scaleAndClamp(1-Math.min(1,c$3+k$1)),scaleAndClamp(1-Math.min(1,m$2+k$1)),scaleAndClamp(1-Math.min(1,y$2+k$1))]}static CMYK_HTML(components){let rgb=this.CMYK_RGB(components).slice(1);return this.RGB_HTML(rgb)}static RGB_CMYK([r$1,g$1,b$2]){let c$3=1-r$1,m$2=1-g$1,y$2=1-b$2;return[`CMYK`,c$3,m$2,y$2,Math.min(c$3,m$2,y$2)]}}exports$1.ColorConverters=ColorConverters}),((__unused_webpack_module,exports$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.NullL10n=void 0,exports$1.getL10nFallback=getL10nFallback;let DEFAULT_L10N_STRINGS={of_pages:`of {{pagesCount}}`,page_of_pages:`({{pageNumber}} of {{pagesCount}})`,document_properties_kb:`{{size_kb}} KB ({{size_b}} bytes)`,document_properties_mb:`{{size_mb}} MB ({{size_b}} bytes)`,document_properties_date_string:`{{date}}, {{time}}`,document_properties_page_size_unit_inches:`in`,document_properties_page_size_unit_millimeters:`mm`,document_properties_page_size_orientation_portrait:`portrait`,document_properties_page_size_orientation_landscape:`landscape`,document_properties_page_size_name_a3:`A3`,document_properties_page_size_name_a4:`A4`,document_properties_page_size_name_letter:`Letter`,document_properties_page_size_name_legal:`Legal`,document_properties_page_size_dimension_string:`{{width}}  {{height}} {{unit}} ({{orientation}})`,document_properties_page_size_dimension_name_string:`{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})`,document_properties_linearized_yes:`Yes`,document_properties_linearized_no:`No`,additional_layers:`Additional Layers`,page_landmark:`Page {{page}}`,thumb_page_title:`Page {{page}}`,thumb_page_canvas:`Thumbnail of Page {{page}}`,find_reached_top:`Reached top of document, continued from bottom`,find_reached_bottom:`Reached end of document, continued from top`,"find_match_count[one]":`{{current}} of {{total}} match`,"find_match_count[other]":`{{current}} of {{total}} matches`,"find_match_count_limit[one]":`More than {{limit}} match`,"find_match_count_limit[other]":`More than {{limit}} matches`,find_not_found:`Phrase not found`,page_scale_width:`Page Width`,page_scale_fit:`Page Fit`,page_scale_auto:`Automatic Zoom`,page_scale_actual:`Actual Size`,page_scale_percent:`{{scale}}%`,loading_error:`An error occurred while loading the PDF.`,invalid_file_error:`Invalid or corrupted PDF file.`,missing_file_error:`Missing PDF file.`,unexpected_response_error:`Unexpected server response.`,rendering_error:`An error occurred while rendering the page.`,annotation_date_string:`{{date}}, {{time}}`,printing_not_supported:`Warning: Printing is not fully supported by this browser.`,printing_not_ready:`Warning: The PDF is not fully loaded for printing.`,web_fonts_disabled:`Web fonts are disabled: unable to use embedded PDF fonts.`,free_text2_default_content:`Start typing`,editor_free_text2_aria_label:`Text Editor`,editor_ink2_aria_label:`Draw Editor`,editor_ink_canvas_aria_label:`User-created image`,editor_alt_text_button_label:`Alt text`,editor_alt_text_edit_button_label:`Edit alt text`,editor_alt_text_decorative_tooltip:`Marked as decorative`};DEFAULT_L10N_STRINGS.print_progress_percent=`{{progress}}%`;function getL10nFallback(key,args){switch(key){case`find_match_count`:key=`find_match_count[${args.total===1?`one`:`other`}]`;break;case`find_match_count_limit`:key=`find_match_count_limit[${args.limit===1?`one`:`other`}]`;break}return DEFAULT_L10N_STRINGS[key]||``}function formatL10nValue(text,args){return args?text.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(all,name)=>name in args?args[name]:`{{`+name+`}}`):text}exports$1.NullL10n={async getLanguage(){return`en-us`},async getDirection(){return`ltr`},async get(key,args=null,fallback=getL10nFallback(key,args)){return formatL10nValue(fallback,args)},async translate(element){}}}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.XfaLayer=void 0;var _xfa_text=__w_pdfjs_require__$1(25);class XfaLayer{static setupStorage(html,id,element,storage,intent){let storedData=storage.getValue(id,{value:null});switch(element.name){case`textarea`:if(storedData.value!==null&&(html.textContent=storedData.value),intent===`print`)break;html.addEventListener(`input`,event=>{storage.setValue(id,{value:event.target.value})});break;case`input`:if(element.attributes.type===`radio`||element.attributes.type===`checkbox`){if(storedData.value===element.attributes.xfaOn?html.setAttribute(`checked`,!0):storedData.value===element.attributes.xfaOff&&html.removeAttribute(`checked`),intent===`print`)break;html.addEventListener(`change`,event=>{storage.setValue(id,{value:event.target.checked?event.target.getAttribute(`xfaOn`):event.target.getAttribute(`xfaOff`)})})}else{if(storedData.value!==null&&html.setAttribute(`value`,storedData.value),intent===`print`)break;html.addEventListener(`input`,event=>{storage.setValue(id,{value:event.target.value})})}break;case`select`:if(storedData.value!==null){html.setAttribute(`value`,storedData.value);for(let option of element.children)option.attributes.value===storedData.value?option.attributes.selected=!0:option.attributes.hasOwnProperty(`selected`)&&delete option.attributes.selected}html.addEventListener(`input`,event=>{let options=event.target.options,value=options.selectedIndex===-1?``:options[options.selectedIndex].value;storage.setValue(id,{value})});break}}static setAttributes({html,element,storage=null,intent,linkService}){let{attributes}=element,isHTMLAnchorElement=html instanceof HTMLAnchorElement;attributes.type===`radio`&&(attributes.name=`${attributes.name}-${intent}`);for(let[key,value]of Object.entries(attributes))if(value!=null)switch(key){case`class`:value.length&&html.setAttribute(key,value.join(` `));break;case`dataId`:break;case`id`:html.setAttribute(`data-element-id`,value);break;case`style`:Object.assign(html.style,value);break;case`textContent`:html.textContent=value;break;default:(!isHTMLAnchorElement||key!==`href`&&key!==`newWindow`)&&html.setAttribute(key,value)}isHTMLAnchorElement&&linkService.addLinkAttributes(html,attributes.href,attributes.newWindow),storage&&attributes.dataId&&this.setupStorage(html,attributes.dataId,element,storage)}static render(parameters){let storage=parameters.annotationStorage,linkService=parameters.linkService,root=parameters.xfaHtml,intent=parameters.intent||`display`,rootHtml=document.createElement(root.name);root.attributes&&this.setAttributes({html:rootHtml,element:root,intent,linkService});let stack=[[root,-1,rootHtml]],rootDiv=parameters.div;if(rootDiv.append(rootHtml),parameters.viewport){let transform$1=`matrix(${parameters.viewport.transform.join(`,`)})`;rootDiv.style.transform=transform$1}intent!==`richText`&&rootDiv.setAttribute(`class`,`xfaLayer xfaFont`);let textDivs=[];for(;stack.length>0;){let[parent,i$1,html]=stack.at(-1);if(i$1+1===parent.children.length){stack.pop();continue}let child=parent.children[++stack.at(-1)[1]];if(child===null)continue;let{name}=child;if(name===`#text`){let node=document.createTextNode(child.value);textDivs.push(node),html.append(node);continue}let childHtml=child?.attributes?.xmlns?document.createElementNS(child.attributes.xmlns,name):document.createElement(name);if(html.append(childHtml),child.attributes&&this.setAttributes({html:childHtml,element:child,storage,intent,linkService}),child.children&&child.children.length>0)stack.push([child,-1,childHtml]);else if(child.value){let node=document.createTextNode(child.value);_xfa_text.XfaText.shouldBuildText(name)&&textDivs.push(node),childHtml.append(node)}}for(let el of rootDiv.querySelectorAll(`.xfaNonInteractive input, .xfaNonInteractive textarea`))el.setAttribute(`readOnly`,!0);return{textDivs}}static update(parameters){let transform$1=`matrix(${parameters.viewport.transform.join(`,`)})`;parameters.div.style.transform=transform$1,parameters.div.hidden=!1}}exports$1.XfaLayer=XfaLayer}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.InkEditor=void 0;var _util=__w_pdfjs_require__$1(1),_editor=__w_pdfjs_require__$1(4),_annotation_layer=__w_pdfjs_require__$1(29),_display_utils=__w_pdfjs_require__$1(6),_tools=__w_pdfjs_require__$1(5);class InkEditor extends _editor.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#i=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#o=new Path2D;#s=!1;#c=!1;#l=!1;#u=null;#d=0;#f=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type=`ink`;constructor(params){super({...params,name:`inkEditor`}),this.color=params.color||null,this.thickness=params.thickness||null,this.opacity=params.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(l10n){_editor.AnnotationEditor.initialize(l10n,{strings:[`editor_ink_canvas_aria_label`,`editor_ink2_aria_label`]})}static updateDefaultParams(type,value){switch(type){case _util.AnnotationEditorParamsType.INK_THICKNESS:InkEditor._defaultThickness=value;break;case _util.AnnotationEditorParamsType.INK_COLOR:InkEditor._defaultColor=value;break;case _util.AnnotationEditorParamsType.INK_OPACITY:InkEditor._defaultOpacity=value/100;break}}updateParams(type,value){switch(type){case _util.AnnotationEditorParamsType.INK_THICKNESS:this.#m(value);break;case _util.AnnotationEditorParamsType.INK_COLOR:this.#h(value);break;case _util.AnnotationEditorParamsType.INK_OPACITY:this.#g(value);break}}static get defaultPropertiesToUpdate(){return[[_util.AnnotationEditorParamsType.INK_THICKNESS,InkEditor._defaultThickness],[_util.AnnotationEditorParamsType.INK_COLOR,InkEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor],[_util.AnnotationEditorParamsType.INK_OPACITY,Math.round(InkEditor._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_util.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||InkEditor._defaultThickness],[_util.AnnotationEditorParamsType.INK_COLOR,this.color||InkEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor],[_util.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??InkEditor._defaultOpacity))]]}#m(thickness){let savedThickness=this.thickness;this.addCommands({cmd:()=>{this.thickness=thickness,this.#z()},undo:()=>{this.thickness=savedThickness,this.#z()},mustExec:!0,type:_util.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#h(color){let savedColor=this.color;this.addCommands({cmd:()=>{this.color=color,this.#E()},undo:()=>{this.color=savedColor,this.#E()},mustExec:!0,type:_util.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(opacity){opacity/=100;let savedOpacity=this.opacity;this.addCommands({cmd:()=>{this.opacity=opacity,this.#E()},undo:()=>{this.opacity=savedOpacity,this.#E()},mustExec:!0,type:_util.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#O(),this.#k()),this.isAttachedToDOM||(this.parent.add(this),this.#A()),this.#z()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#u.disconnect(),this.#u=null,super.remove())}setParent(parent){!this.parent&&parent?this._uiManager.removeShouldRescale(this):this.parent&&parent===null&&this._uiManager.addShouldRescale(this),super.setParent(parent)}onScaleChanging(){let[parentWidth,parentHeight]=this.parentDimensions,width=this.width*parentWidth,height=this.height*parentHeight;this.setDimensions(width,height)}enableEditMode(){this.#s||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener(`pointerdown`,this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove(`editing`),this.canvas.removeEventListener(`pointerdown`,this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#_(){let{parentRotation,parentDimensions:[width,height]}=this;switch(parentRotation){case 90:return[0,height,height,width];case 180:return[width,height,width,height];case 270:return[width,0,height,width];default:return[0,0,width,height]}}#v(){let{ctx,color,opacity,thickness,parentScale,scaleFactor}=this;ctx.lineWidth=thickness*parentScale/scaleFactor,ctx.lineCap=`round`,ctx.lineJoin=`round`,ctx.miterLimit=10,ctx.strokeStyle=`${color}${(0,_tools.opacityToHex)(opacity)}`}#y(x$1,y$2){this.canvas.addEventListener(`contextmenu`,_display_utils.noContextMenu),this.canvas.addEventListener(`pointerleave`,this.#r),this.canvas.addEventListener(`pointermove`,this.#n),this.canvas.addEventListener(`pointerup`,this.#i),this.canvas.removeEventListener(`pointerdown`,this.#a),this.isEditing=!0,this.#l||(this.#l=!0,this.#A(),this.thickness||=InkEditor._defaultThickness,this.color||=InkEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor,this.opacity??=InkEditor._defaultOpacity),this.currentPath.push([x$1,y$2]),this.#c=!1,this.#v(),this.#p=()=>{this.#C(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#b(x$1,y$2){let[lastX,lastY]=this.currentPath.at(-1);if(this.currentPath.length>1&&x$1===lastX&&y$2===lastY)return;let currentPath=this.currentPath,path2D=this.#o;if(currentPath.push([x$1,y$2]),this.#c=!0,currentPath.length<=2){path2D.moveTo(...currentPath[0]),path2D.lineTo(x$1,y$2);return}currentPath.length===3&&(this.#o=path2D=new Path2D,path2D.moveTo(...currentPath[0])),this.#w(path2D,...currentPath.at(-3),...currentPath.at(-2),x$1,y$2)}#x(){if(this.currentPath.length===0)return;let lastPoint=this.currentPath.at(-1);this.#o.lineTo(...lastPoint)}#S(x$1,y$2){this.#p=null,x$1=Math.min(Math.max(x$1,0),this.canvas.width),y$2=Math.min(Math.max(y$2,0),this.canvas.height),this.#b(x$1,y$2),this.#x();let bezier;if(this.currentPath.length!==1)bezier=this.#T();else{let xy=[x$1,y$2];bezier=[[xy,xy.slice(),xy.slice(),xy]]}let path2D=this.#o,currentPath=this.currentPath;this.currentPath=[],this.#o=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(currentPath),this.paths.push(bezier),this.bezierPath2D.push(path2D),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#O(),this.#k()),this.#z())},mustExec:!0})}#C(){if(!this.#c)return;this.#c=!1;let thickness=Math.ceil(this.thickness*this.parentScale),lastPoints=this.currentPath.slice(-3),x$1=lastPoints.map(xy=>xy[0]),y$2=lastPoints.map(xy=>xy[1]),xMin=Math.min(...x$1)-thickness,xMax=Math.max(...x$1)+thickness,yMin=Math.min(...y$2)-thickness,yMax=Math.max(...y$2)+thickness,{ctx}=this;ctx.save(),ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let path of this.bezierPath2D)ctx.stroke(path);ctx.stroke(this.#o),ctx.restore()}#w(path2D,x0,y0,x1,y1,x2,y2){let prevX=(x0+x1)/2,prevY=(y0+y1)/2,x3=(x1+x2)/2,y3=(y1+y2)/2;path2D.bezierCurveTo(prevX+2*(x1-prevX)/3,prevY+2*(y1-prevY)/3,x3+2*(x1-x3)/3,y3+2*(y1-y3)/3,x3,y3)}#T(){let path=this.currentPath;if(path.length<=2)return[[path[0],path[0],path.at(-1),path.at(-1)]];let bezierPoints=[],i$1,[x0,y0]=path[0];for(i$1=1;i$1<path.length-2;i$1++){let[x1$1,y1$1]=path[i$1],[x2$1,y2$1]=path[i$1+1],x3=(x1$1+x2$1)/2,y3=(y1$1+y2$1)/2,control1$1=[x0+2*(x1$1-x0)/3,y0+2*(y1$1-y0)/3],control2$1=[x3+2*(x1$1-x3)/3,y3+2*(y1$1-y3)/3];bezierPoints.push([[x0,y0],control1$1,control2$1,[x3,y3]]),[x0,y0]=[x3,y3]}let[x1,y1]=path[i$1],[x2,y2]=path[i$1+1],control1=[x0+2*(x1-x0)/3,y0+2*(y1-y0)/3],control2=[x2+2*(x1-x2)/3,y2+2*(y1-y2)/3];return bezierPoints.push([[x0,y0],control1,control2,[x2,y2]]),bezierPoints}#E(){if(this.isEmpty()){this.#M();return}this.#v();let{canvas,ctx}=this;ctx.setTransform(1,0,0,1,0,0),ctx.clearRect(0,0,canvas.width,canvas.height),this.#M();for(let path of this.bezierPath2D)ctx.stroke(path)}commit(){this.#s||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#s=!0,this.div.classList.add(`disabled`),this.#z(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(event){this._focusEventsAllowed&&(super.focusin(event),this.enableEditMode())}canvasPointerdown(event){event.button!==0||!this.isInEditMode()||this.#s||(this.setInForeground(),event.preventDefault(),event.type!==`mouse`&&this.div.focus(),this.#y(event.offsetX,event.offsetY))}canvasPointermove(event){event.preventDefault(),this.#b(event.offsetX,event.offsetY)}canvasPointerup(event){event.preventDefault(),this.#D(event)}canvasPointerleave(event){this.#D(event)}#D(event){this.canvas.removeEventListener(`pointerleave`,this.#r),this.canvas.removeEventListener(`pointermove`,this.#n),this.canvas.removeEventListener(`pointerup`,this.#i),this.canvas.addEventListener(`pointerdown`,this.#a),setTimeout(()=>{this.canvas.removeEventListener(`contextmenu`,_display_utils.noContextMenu)},10),this.#S(event.offsetX,event.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#O(){this.canvas=document.createElement(`canvas`),this.canvas.width=this.canvas.height=0,this.canvas.className=`inkEditorCanvas`,_editor.AnnotationEditor._l10nPromise.get(`editor_ink_canvas_aria_label`).then(msg=>this.canvas?.setAttribute(`aria-label`,msg)),this.div.append(this.canvas),this.ctx=this.canvas.getContext(`2d`)}#k(){this.#u=new ResizeObserver(entries=>{let rect=entries[0].contentRect;rect.width&&rect.height&&this.setDimensions(rect.width,rect.height)}),this.#u.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#s}render(){if(this.div)return this.div;let baseX,baseY;this.width&&(baseX=this.x,baseY=this.y),super.render(),_editor.AnnotationEditor._l10nPromise.get(`editor_ink2_aria_label`).then(msg=>this.div?.setAttribute(`aria-label`,msg));let[x$1,y$2,w$1,h$2]=this.#_();if(this.setAt(x$1,y$2,0,0),this.setDims(w$1,h$2),this.#O(),this.width){let[parentWidth,parentHeight]=this.parentDimensions;this.setAspectRatio(this.width*parentWidth,this.height*parentHeight),this.setAt(baseX*parentWidth,baseY*parentHeight,this.width*parentWidth,this.height*parentHeight),this.#l=!0,this.#A(),this.setDims(this.width*parentWidth,this.height*parentHeight),this.#E(),this.div.classList.add(`disabled`)}else this.div.classList.add(`editing`),this.enableEditMode();return this.#k(),this.div}#A(){if(!this.#l)return;let[parentWidth,parentHeight]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*parentWidth),this.canvas.height=Math.ceil(this.height*parentHeight),this.#M()}setDimensions(width,height){let roundedWidth=Math.round(width),roundedHeight=Math.round(height);if(this.#d===roundedWidth&&this.#f===roundedHeight)return;this.#d=roundedWidth,this.#f=roundedHeight,this.canvas.style.visibility=`hidden`;let[parentWidth,parentHeight]=this.parentDimensions;this.width=width/parentWidth,this.height=height/parentHeight,this.fixAndSetPosition(),this.#s&&this.#j(width,height),this.#A(),this.#E(),this.canvas.style.visibility=`visible`,this.fixDims()}#j(width,height){let padding=this.#R(),scaleFactorW=(width-padding)/this.#t,scaleFactorH=(height-padding)/this.#e;this.scaleFactor=Math.min(scaleFactorW,scaleFactorH)}#M(){let padding=this.#R()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+padding,this.translationY*this.scaleFactor+padding)}static#N(bezier){let path2D=new Path2D;for(let i$1=0,ii=bezier.length;i$1<ii;i$1++){let[first,control1,control2,second]=bezier[i$1];i$1===0&&path2D.moveTo(...first),path2D.bezierCurveTo(control1[0],control1[1],control2[0],control2[1],second[0],second[1])}return path2D}static#P(points,rect,rotation){let[blX,blY,trX,trY]=rect;switch(rotation){case 0:for(let i$1=0,ii=points.length;i$1<ii;i$1+=2)points[i$1]+=blX,points[i$1+1]=trY-points[i$1+1];break;case 90:for(let i$1=0,ii=points.length;i$1<ii;i$1+=2){let x$1=points[i$1];points[i$1]=points[i$1+1]+blX,points[i$1+1]=x$1+blY}break;case 180:for(let i$1=0,ii=points.length;i$1<ii;i$1+=2)points[i$1]=trX-points[i$1],points[i$1+1]+=blY;break;case 270:for(let i$1=0,ii=points.length;i$1<ii;i$1+=2){let x$1=points[i$1];points[i$1]=trX-points[i$1+1],points[i$1+1]=trY-x$1}break;default:throw Error(`Invalid rotation`)}return points}static#F(points,rect,rotation){let[blX,blY,trX,trY]=rect;switch(rotation){case 0:for(let i$1=0,ii=points.length;i$1<ii;i$1+=2)points[i$1]-=blX,points[i$1+1]=trY-points[i$1+1];break;case 90:for(let i$1=0,ii=points.length;i$1<ii;i$1+=2){let x$1=points[i$1];points[i$1]=points[i$1+1]-blY,points[i$1+1]=x$1-blX}break;case 180:for(let i$1=0,ii=points.length;i$1<ii;i$1+=2)points[i$1]=trX-points[i$1],points[i$1+1]-=blY;break;case 270:for(let i$1=0,ii=points.length;i$1<ii;i$1+=2){let x$1=points[i$1];points[i$1]=trY-points[i$1+1],points[i$1+1]=trX-x$1}break;default:throw Error(`Invalid rotation`)}return points}#I(s$1,tx,ty,rect){let paths=[],padding=this.thickness/2,shiftX=s$1*tx+padding,shiftY=s$1*ty+padding;for(let bezier of this.paths){let buffer=[],points=[];for(let j$1=0,jj=bezier.length;j$1<jj;j$1++){let[first,control1,control2,second]=bezier[j$1],p10=s$1*first[0]+shiftX,p11=s$1*first[1]+shiftY,p20=s$1*control1[0]+shiftX,p21=s$1*control1[1]+shiftY,p30=s$1*control2[0]+shiftX,p31=s$1*control2[1]+shiftY,p40=s$1*second[0]+shiftX,p41=s$1*second[1]+shiftY;j$1===0&&(buffer.push(p10,p11),points.push(p10,p11)),buffer.push(p20,p21,p30,p31,p40,p41),points.push(p20,p21),j$1===jj-1&&points.push(p40,p41)}paths.push({bezier:InkEditor.#P(buffer,rect,this.rotation),points:InkEditor.#P(points,rect,this.rotation)})}return paths}#L(){let xMin=1/0,xMax=-1/0,yMin=1/0,yMax=-1/0;for(let path of this.paths)for(let[first,control1,control2,second]of path){let bbox=_util.Util.bezierBoundingBox(...first,...control1,...control2,...second);xMin=Math.min(xMin,bbox[0]),yMin=Math.min(yMin,bbox[1]),xMax=Math.max(xMax,bbox[2]),yMax=Math.max(yMax,bbox[3])}return[xMin,yMin,xMax,yMax]}#R(){return this.#s?Math.ceil(this.thickness*this.parentScale):0}#z(firstTime=!1){if(this.isEmpty())return;if(!this.#s){this.#E();return}let bbox=this.#L(),padding=this.#R();this.#t=Math.max(_editor.AnnotationEditor.MIN_SIZE,bbox[2]-bbox[0]),this.#e=Math.max(_editor.AnnotationEditor.MIN_SIZE,bbox[3]-bbox[1]);let width=Math.ceil(padding+this.#t*this.scaleFactor),height=Math.ceil(padding+this.#e*this.scaleFactor),[parentWidth,parentHeight]=this.parentDimensions;this.width=width/parentWidth,this.height=height/parentHeight,this.setAspectRatio(width,height);let prevTranslationX=this.translationX,prevTranslationY=this.translationY;this.translationX=-bbox[0],this.translationY=-bbox[1],this.#A(),this.#E(),this.#d=width,this.#f=height,this.setDims(width,height);let unscaledPadding=firstTime?padding/this.scaleFactor/2:0;this.translate(prevTranslationX-this.translationX-unscaledPadding,prevTranslationY-this.translationY-unscaledPadding)}static deserialize(data,parent,uiManager){if(data instanceof _annotation_layer.InkAnnotationElement)return null;let editor=super.deserialize(data,parent,uiManager);editor.thickness=data.thickness,editor.color=_util.Util.makeHexColor(...data.color),editor.opacity=data.opacity;let[pageWidth,pageHeight]=editor.pageDimensions,width=editor.width*pageWidth,height=editor.height*pageHeight,scaleFactor=editor.parentScale,padding=data.thickness/2;editor.#s=!0,editor.#d=Math.round(width),editor.#f=Math.round(height);let{paths,rect,rotation}=data;for(let{bezier}of paths){bezier=InkEditor.#F(bezier,rect,rotation);let path=[];editor.paths.push(path);let p0=scaleFactor*(bezier[0]-padding),p1=scaleFactor*(bezier[1]-padding);for(let i$1=2,ii=bezier.length;i$1<ii;i$1+=6){let p10=scaleFactor*(bezier[i$1]-padding),p11=scaleFactor*(bezier[i$1+1]-padding),p20=scaleFactor*(bezier[i$1+2]-padding),p21=scaleFactor*(bezier[i$1+3]-padding),p30=scaleFactor*(bezier[i$1+4]-padding),p31=scaleFactor*(bezier[i$1+5]-padding);path.push([[p0,p1],[p10,p11],[p20,p21],[p30,p31]]),p0=p30,p1=p31}let path2D=this.#N(path);editor.bezierPath2D.push(path2D)}let bbox=editor.#L();return editor.#t=Math.max(_editor.AnnotationEditor.MIN_SIZE,bbox[2]-bbox[0]),editor.#e=Math.max(_editor.AnnotationEditor.MIN_SIZE,bbox[3]-bbox[1]),editor.#j(width,height),editor}serialize(){if(this.isEmpty())return null;let rect=this.getRect(0,0),color=_editor.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_util.AnnotationEditorType.INK,color,thickness:this.thickness,opacity:this.opacity,paths:this.#I(this.scaleFactor/this.parentScale,this.translationX,this.translationY,rect),pageIndex:this.pageIndex,rect,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}exports$1.InkEditor=InkEditor}),((__unused_webpack_module,exports$1,__w_pdfjs_require__$1)=>{Object.defineProperty(exports$1,`__esModule`,{value:!0}),exports$1.StampEditor=void 0;var _util=__w_pdfjs_require__$1(1),_editor=__w_pdfjs_require__$1(4),_display_utils=__w_pdfjs_require__$1(6),_annotation_layer=__w_pdfjs_require__$1(29);class StampEditor extends _editor.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#i=null;#a=null;#o=null;#s=null;#c=!1;#l=!1;static _type=`stamp`;constructor(params){super({...params,name:`stampEditor`}),this.#r=params.bitmapUrl,this.#i=params.bitmapFile}static initialize(l10n){_editor.AnnotationEditor.initialize(l10n)}static get supportedTypes(){return(0,_util.shadow)(this,`supportedTypes`,[`apng`,`avif`,`bmp`,`gif`,`jpeg`,`png`,`svg+xml`,`webp`,`x-icon`].map(type=>`image/${type}`))}static get supportedTypesStr(){return(0,_util.shadow)(this,`supportedTypesStr`,this.supportedTypes.join(`,`))}static isHandlingMimeForPasting(mime){return this.supportedTypes.includes(mime)}static paste(item,parent){parent.pasteEditor(_util.AnnotationEditorType.STAMP,{bitmapFile:item.getAsFile()})}#u(data,fromId=!1){if(!data){this.remove();return}this.#e=data.bitmap,fromId||(this.#t=data.id,this.#c=data.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(data=>this.#u(data,!0)).finally(()=>this.#d());return}if(this.#r){let url=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(url).then(data=>this.#u(data)).finally(()=>this.#d());return}if(this.#i){let file=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(file).then(data=>this.#u(data)).finally(()=>this.#d());return}let input=document.createElement(`input`);input.type=`file`,input.accept=StampEditor.supportedTypesStr,this.#n=new Promise(resolve=>{input.addEventListener(`change`,async()=>{if(!input.files||input.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let data=await this._uiManager.imageManager.getFromFile(input.files[0]);this.#u(data)}resolve()}),input.addEventListener(`cancel`,()=>{this.remove(),resolve()})}).finally(()=>this.#d()),input.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#o?.disconnect(),this.#o=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#i)}get isResizable(){return!0}render(){if(this.div)return this.div;let baseX,baseY;if(this.width&&(baseX=this.x,baseY=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#f(),this.width){let[parentWidth,parentHeight]=this.parentDimensions;this.setAt(baseX*parentWidth,baseY*parentHeight,this.width*parentWidth,this.height*parentHeight)}return this.div}#p(){let{div}=this,{width,height}=this.#e,[pageWidth,pageHeight]=this.pageDimensions,MAX_RATIO=.75;if(this.width)width=this.width*pageWidth,height=this.height*pageHeight;else if(width>MAX_RATIO*pageWidth||height>MAX_RATIO*pageHeight){let factor=Math.min(MAX_RATIO*pageWidth/width,MAX_RATIO*pageHeight/height);width*=factor,height*=factor}let[parentWidth,parentHeight]=this.parentDimensions;this.setDims(width*parentWidth/pageWidth,height*parentHeight/pageHeight),this._uiManager.enableWaiting(!1);let canvas=this.#a=document.createElement(`canvas`);div.append(canvas),div.hidden=!1,this.#g(width,height),this.#v(),this.#l||=(this.parent.addUndoableEditor(this),!0),this._uiManager._eventBus.dispatch(`reporttelemetry`,{source:this,details:{type:`editing`,subtype:this.editorType,data:{action:`inserted_image`}}}),this.addAltTextButton()}#m(width,height){let[parentWidth,parentHeight]=this.parentDimensions;this.width=width/parentWidth,this.height=height/parentHeight,this.setDims(width,height),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#s!==null&&clearTimeout(this.#s),this.#s=setTimeout(()=>{this.#s=null,this.#g(width,height)},200)}#h(width,height){let{width:bitmapWidth,height:bitmapHeight}=this.#e,newWidth=bitmapWidth,newHeight=bitmapHeight,bitmap=this.#e;for(;newWidth>2*width||newHeight>2*height;){let prevWidth=newWidth,prevHeight=newHeight;newWidth>2*width&&(newWidth=newWidth>=16384?Math.floor(newWidth/2)-1:Math.ceil(newWidth/2)),newHeight>2*height&&(newHeight=newHeight>=16384?Math.floor(newHeight/2)-1:Math.ceil(newHeight/2));let offscreen=new OffscreenCanvas(newWidth,newHeight);offscreen.getContext(`2d`).drawImage(bitmap,0,0,prevWidth,prevHeight,0,0,newWidth,newHeight),bitmap=offscreen.transferToImageBitmap()}return bitmap}#g(width,height){width=Math.ceil(width),height=Math.ceil(height);let canvas=this.#a;if(!canvas||canvas.width===width&&canvas.height===height)return;canvas.width=width,canvas.height=height;let bitmap=this.#c?this.#e:this.#h(width,height),ctx=canvas.getContext(`2d`);ctx.filter=this._uiManager.hcmFilter,ctx.drawImage(bitmap,0,0,bitmap.width,bitmap.height,0,0,width,height)}#_(toUrl){if(toUrl){if(this.#c){let url=this._uiManager.imageManager.getSvgUrl(this.#t);if(url)return url}let canvas=document.createElement(`canvas`);return{width:canvas.width,height:canvas.height}=this.#e,canvas.getContext(`2d`).drawImage(this.#e,0,0),canvas.toDataURL()}if(this.#c){let[pageWidth,pageHeight]=this.pageDimensions,width=Math.round(this.width*pageWidth*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS),height=Math.round(this.height*pageHeight*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS),offscreen=new OffscreenCanvas(width,height);return offscreen.getContext(`2d`).drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,width,height),offscreen.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#o=new ResizeObserver(entries=>{let rect=entries[0].contentRect;rect.width&&rect.height&&this.#m(rect.width,rect.height)}),this.#o.observe(this.div)}static deserialize(data,parent,uiManager){if(data instanceof _annotation_layer.StampAnnotationElement)return null;let editor=super.deserialize(data,parent,uiManager),{rect,bitmapUrl,bitmapId,isSvg,accessibilityData}=data;bitmapId&&uiManager.imageManager.isValidId(bitmapId)?editor.#t=bitmapId:editor.#r=bitmapUrl,editor.#c=isSvg;let[parentWidth,parentHeight]=editor.pageDimensions;return editor.width=(rect[2]-rect[0])/parentWidth,editor.height=(rect[3]-rect[1])/parentHeight,accessibilityData&&(editor.altTextData=accessibilityData),editor}serialize(isForCopying=!1,context=null){if(this.isEmpty())return null;let serialized={annotationType:_util.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(isForCopying)return serialized.bitmapUrl=this.#_(!0),serialized.accessibilityData=this.altTextData,serialized;let{decorative,altText}=this.altTextData;if(!decorative&&altText&&(serialized.accessibilityData={type:`Figure`,alt:altText}),context===null)return serialized;context.stamps||=new Map;let area=this.#c?(serialized.rect[2]-serialized.rect[0])*(serialized.rect[3]-serialized.rect[1]):null;if(!context.stamps.has(this.#t))context.stamps.set(this.#t,{area,serialized}),serialized.bitmap=this.#_(!1);else if(this.#c){let prevData=context.stamps.get(this.#t);area>prevData.area&&(prevData.area=area,prevData.serialized.bitmap.close(),prevData.serialized.bitmap=this.#_(!1))}return serialized}}exports$1.StampEditor=StampEditor})],__webpack_module_cache__={};function __w_pdfjs_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==void 0)return cachedModule.exports;var module$1=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module$1,module$1.exports,__w_pdfjs_require__),module$1.exports}var __webpack_exports__={};return(()=>{var exports$1=__webpack_exports__;Object.defineProperty(exports$1,`__esModule`,{value:!0}),Object.defineProperty(exports$1,`AbortException`,{enumerable:!0,get:function(){return _util.AbortException}}),Object.defineProperty(exports$1,`AnnotationEditorLayer`,{enumerable:!0,get:function(){return _annotation_editor_layer.AnnotationEditorLayer}}),Object.defineProperty(exports$1,`AnnotationEditorParamsType`,{enumerable:!0,get:function(){return _util.AnnotationEditorParamsType}}),Object.defineProperty(exports$1,`AnnotationEditorType`,{enumerable:!0,get:function(){return _util.AnnotationEditorType}}),Object.defineProperty(exports$1,`AnnotationEditorUIManager`,{enumerable:!0,get:function(){return _tools.AnnotationEditorUIManager}}),Object.defineProperty(exports$1,`AnnotationLayer`,{enumerable:!0,get:function(){return _annotation_layer.AnnotationLayer}}),Object.defineProperty(exports$1,`AnnotationMode`,{enumerable:!0,get:function(){return _util.AnnotationMode}}),Object.defineProperty(exports$1,`CMapCompressionType`,{enumerable:!0,get:function(){return _util.CMapCompressionType}}),Object.defineProperty(exports$1,`DOMSVGFactory`,{enumerable:!0,get:function(){return _display_utils.DOMSVGFactory}}),Object.defineProperty(exports$1,`FeatureTest`,{enumerable:!0,get:function(){return _util.FeatureTest}}),Object.defineProperty(exports$1,`GlobalWorkerOptions`,{enumerable:!0,get:function(){return _worker_options.GlobalWorkerOptions}}),Object.defineProperty(exports$1,`ImageKind`,{enumerable:!0,get:function(){return _util.ImageKind}}),Object.defineProperty(exports$1,`InvalidPDFException`,{enumerable:!0,get:function(){return _util.InvalidPDFException}}),Object.defineProperty(exports$1,`MissingPDFException`,{enumerable:!0,get:function(){return _util.MissingPDFException}}),Object.defineProperty(exports$1,`OPS`,{enumerable:!0,get:function(){return _util.OPS}}),Object.defineProperty(exports$1,`PDFDataRangeTransport`,{enumerable:!0,get:function(){return _api.PDFDataRangeTransport}}),Object.defineProperty(exports$1,`PDFDateString`,{enumerable:!0,get:function(){return _display_utils.PDFDateString}}),Object.defineProperty(exports$1,`PDFWorker`,{enumerable:!0,get:function(){return _api.PDFWorker}}),Object.defineProperty(exports$1,`PasswordResponses`,{enumerable:!0,get:function(){return _util.PasswordResponses}}),Object.defineProperty(exports$1,`PermissionFlag`,{enumerable:!0,get:function(){return _util.PermissionFlag}}),Object.defineProperty(exports$1,`PixelsPerInch`,{enumerable:!0,get:function(){return _display_utils.PixelsPerInch}}),Object.defineProperty(exports$1,`PromiseCapability`,{enumerable:!0,get:function(){return _util.PromiseCapability}}),Object.defineProperty(exports$1,`RenderingCancelledException`,{enumerable:!0,get:function(){return _display_utils.RenderingCancelledException}}),Object.defineProperty(exports$1,`SVGGraphics`,{enumerable:!0,get:function(){return _api.SVGGraphics}}),Object.defineProperty(exports$1,`UnexpectedResponseException`,{enumerable:!0,get:function(){return _util.UnexpectedResponseException}}),Object.defineProperty(exports$1,`Util`,{enumerable:!0,get:function(){return _util.Util}}),Object.defineProperty(exports$1,`VerbosityLevel`,{enumerable:!0,get:function(){return _util.VerbosityLevel}}),Object.defineProperty(exports$1,`XfaLayer`,{enumerable:!0,get:function(){return _xfa_layer.XfaLayer}}),Object.defineProperty(exports$1,`build`,{enumerable:!0,get:function(){return _api.build}}),Object.defineProperty(exports$1,`createValidAbsoluteUrl`,{enumerable:!0,get:function(){return _util.createValidAbsoluteUrl}}),Object.defineProperty(exports$1,`getDocument`,{enumerable:!0,get:function(){return _api.getDocument}}),Object.defineProperty(exports$1,`getFilenameFromUrl`,{enumerable:!0,get:function(){return _display_utils.getFilenameFromUrl}}),Object.defineProperty(exports$1,`getPdfFilenameFromUrl`,{enumerable:!0,get:function(){return _display_utils.getPdfFilenameFromUrl}}),Object.defineProperty(exports$1,`getXfaPageViewport`,{enumerable:!0,get:function(){return _display_utils.getXfaPageViewport}}),Object.defineProperty(exports$1,`isDataScheme`,{enumerable:!0,get:function(){return _display_utils.isDataScheme}}),Object.defineProperty(exports$1,`isPdfFile`,{enumerable:!0,get:function(){return _display_utils.isPdfFile}}),Object.defineProperty(exports$1,`loadScript`,{enumerable:!0,get:function(){return _display_utils.loadScript}}),Object.defineProperty(exports$1,`noContextMenu`,{enumerable:!0,get:function(){return _display_utils.noContextMenu}}),Object.defineProperty(exports$1,`normalizeUnicode`,{enumerable:!0,get:function(){return _util.normalizeUnicode}}),Object.defineProperty(exports$1,`renderTextLayer`,{enumerable:!0,get:function(){return _text_layer.renderTextLayer}}),Object.defineProperty(exports$1,`setLayerDimensions`,{enumerable:!0,get:function(){return _display_utils.setLayerDimensions}}),Object.defineProperty(exports$1,`shadow`,{enumerable:!0,get:function(){return _util.shadow}}),Object.defineProperty(exports$1,`updateTextLayer`,{enumerable:!0,get:function(){return _text_layer.updateTextLayer}}),Object.defineProperty(exports$1,`version`,{enumerable:!0,get:function(){return _api.version}});var _util=__w_pdfjs_require__(1),_api=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(6),_text_layer=__w_pdfjs_require__(26),_annotation_editor_layer=__w_pdfjs_require__(27),_tools=__w_pdfjs_require__(5),_annotation_layer=__w_pdfjs_require__(29),_worker_options=__w_pdfjs_require__(14),_xfa_layer=__w_pdfjs_require__(32);let pdfjsVersion=`3.11.174`,pdfjsBuild=`ce8716743`})(),__webpack_exports__})())})),require_core_min=__commonJSMin((exports=>{var e=require_react(),t=require_pdf();function n(e$1){var t$1=Object.create(null);return e$1&&Object.keys(e$1).forEach((function(n$1){if(n$1!==`default`){var r$1=Object.getOwnPropertyDescriptor(e$1,n$1);Object.defineProperty(t$1,n$1,r$1.get?r$1:{enumerable:!0,get:function(){return e$1[n$1]}})}})),t$1.default=e$1,Object.freeze(t$1)}var r,o=n(e),a=n(t);exports.AnnotationType=void 0,(r=exports.AnnotationType||={})[r.Text=1]=`Text`,r[r.Link=2]=`Link`,r[r.FreeText=3]=`FreeText`,r[r.Line=4]=`Line`,r[r.Square=5]=`Square`,r[r.Circle=6]=`Circle`,r[r.Polygon=7]=`Polygon`,r[r.Polyline=8]=`Polyline`,r[r.Highlight=9]=`Highlight`,r[r.Underline=10]=`Underline`,r[r.Squiggly=11]=`Squiggly`,r[r.StrikeOut=12]=`StrikeOut`,r[r.Stamp=13]=`Stamp`,r[r.Caret=14]=`Caret`,r[r.Ink=15]=`Ink`,r[r.Popup=16]=`Popup`,r[r.FileAttachment=17]=`FileAttachment`;var i=function(e$1,t$1){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e$2,t$2){e$2.__proto__=t$2}||function(e$2,t$2){for(var n$1 in t$2)Object.prototype.hasOwnProperty.call(t$2,n$1)&&(e$2[n$1]=t$2[n$1])},i(e$1,t$1)};function c$1(e$1,t$1){if(typeof t$1!=`function`&&t$1!==null)throw TypeError(`Class extends value `+String(t$1)+` is not a constructor or null`);function n$1(){this.constructor=e$1}i(e$1,t$1),e$1.prototype=t$1===null?Object.create(t$1):(n$1.prototype=t$1.prototype,new n$1)}var s,l$1=function(){return l$1=Object.assign||function(e$1){for(var t$1,n$1=1,r$1=arguments.length;n$1<r$1;n$1++)for(var o$2 in t$1=arguments[n$1])Object.prototype.hasOwnProperty.call(t$1,o$2)&&(e$1[o$2]=t$1[o$2]);return e$1},l$1.apply(this,arguments)};exports.TextDirection=void 0,(s=exports.TextDirection||={}).RightToLeft=`RTL`,s.LeftToRight=`LTR`;var u,p$1=o.createContext({currentTheme:`light`,direction:exports.TextDirection.LeftToRight,setCurrentTheme:function(){}}),d$1=function(e$1){var t$1=[];return Object.keys(e$1).forEach((function(n$1){n$1&&e$1[n$1]&&t$1.push(n$1)})),t$1.join(` `)},f$1=typeof window<`u`?o.useLayoutEffect:o.useEffect,g=function(e$1){var t$1=o.useRef(null),n$1=e$1.once,r$1=e$1.threshold,a$2=e$1.onVisibilityChanged;return f$1((function(){var e$2=t$1.current;if(e$2){var o$2=new IntersectionObserver((function(t$2){t$2.forEach((function(t$3){var r$2=t$3.isIntersecting,i$1=t$3.intersectionRatio;a$2({isVisible:r$2,ratio:i$1}),r$2&&n$1&&(o$2.unobserve(e$2),o$2.disconnect())}))}),{threshold:r$1||0});return o$2.observe(e$2),function(){o$2.unobserve(e$2),o$2.disconnect()}}}),[]),t$1},v=function(e$1){var t$1=e$1.children,n$1=e$1.ignoreDirection,r$1=n$1!==void 0&&n$1,a$2=e$1.size,i$1=a$2===void 0?24:a$2,c$3=o.useContext(p$1).direction,s$1=!r$1&&c$3===exports.TextDirection.RightToLeft,l$2=`${i$1||24}px`;return o.createElement(`svg`,{"aria-hidden":`true`,className:d$1({"rpv-core__icon":!0,"rpv-core__icon--rtl":s$1}),focusable:`false`,height:l$2,viewBox:`0 0 24 24`,width:l$2},t$1)},h$1=function(){return o.createElement(v,{size:16},o.createElement(`path`,{d:`M23.5,0.499l-16.5,23l-6.5-6.5`}))},m$1=function(e$1){var t$1=e$1.children,n$1=e$1.testId,r$1=e$1.onClick,a$2=o.useContext(p$1).direction===exports.TextDirection.RightToLeft,i$1=n$1?{"data-testid":n$1}:{};return o.createElement(`button`,l$1({className:d$1({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":a$2}),type:`button`,onClick:r$1},i$1),t$1)},x=function(e$1){var t$1=e$1.size,n$1=t$1===void 0?`4rem`:t$1,r$1=e$1.testId,a$2=o.useState(!1),i$1=a$2[0],c$3=a$2[1],s$1=r$1?{"data-testid":r$1}:{},u$1=g({onVisibilityChanged:function(e$2){c$3(e$2.isVisible)}});return o.createElement(`div`,l$1({},s$1,{className:d$1({"rpv-core__spinner":!0,"rpv-core__spinner--animating":i$1}),ref:u$1,style:{height:n$1,width:n$1}}))},w=function(e$1){var t$1=e$1.ariaLabel,n$1=t$1===void 0?``:t$1,r$1=e$1.autoFocus,a$2=r$1!==void 0&&r$1,i$1=e$1.placeholder,c$3=i$1===void 0?``:i$1,s$1=e$1.testId,u$1=e$1.type,g$1=u$1===void 0?`text`:u$1,v$1=e$1.value,h$2=v$1===void 0?``:v$1,m$2=e$1.onChange,x$1=e$1.onKeyDown,w$1=x$1===void 0?function(){}:x$1,E$2=o.useContext(p$1).direction,b$2=o.useRef(),y$2=E$2===exports.TextDirection.RightToLeft,S$1={ref:b$2,"data-testid":``,"aria-label":n$1,className:d$1({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":y$2}),placeholder:c$3,value:h$2,onChange:function(e$2){return m$2(e$2.target.value)},onKeyDown:w$1};return s$1&&(S$1[`data-testid`]=s$1),f$1((function(){if(a$2){var e$2=b$2.current;if(e$2){var t$2=window.scrollX,n$2=window.scrollY;e$2.focus(),window.scrollTo(t$2,n$2)}}}),[]),g$1===`text`?o.createElement(`input`,l$1({type:`text`},S$1)):o.createElement(`input`,l$1({type:`password`},S$1))};(function(e$1){e$1[e$1.ExitFullScreen=0]=`ExitFullScreen`,e$1[e$1.FullScreenChange=1]=`FullScreenChange`,e$1[e$1.FullScreenElement=2]=`FullScreenElement`,e$1[e$1.FullScreenEnabled=3]=`FullScreenEnabled`,e$1[e$1.RequestFullScreen=4]=`RequestFullScreen`})(u||={});var E$1,b={ExitFullScreen:`exitFullscreen`,FullScreenChange:`fullscreenchange`,FullScreenElement:`fullscreenElement`,FullScreenEnabled:`fullscreenEnabled`,RequestFullScreen:`requestFullscreen`},y$1={ExitFullScreen:`webkitExitFullscreen`,FullScreenChange:`webkitfullscreenchange`,FullScreenElement:`webkitFullscreenElement`,FullScreenEnabled:`webkitFullscreenEnabled`,RequestFullScreen:`webkitRequestFullscreen`},S={ExitFullScreen:`msExitFullscreen`,FullScreenChange:`msFullscreenChange`,FullScreenElement:`msFullscreenElement`,FullScreenEnabled:`msFullscreenEnabled`,RequestFullScreen:`msRequestFullscreen`},_=typeof window<`u`,P=_&&(u.FullScreenEnabled in document&&b||y$1.FullScreenEnabled in document&&y$1||S.FullScreenEnabled in document&&S)||b,R=function(){return _&&P.FullScreenEnabled in document&&!0===document[P.FullScreenEnabled]},M=function(e$1){return _?e$1[P.ExitFullScreen]():Promise.resolve({})},k=function(){return _?document[P.FullScreenElement]:null},C$1=function(e$1,t$1){var n$1=o.useRef(),r$1=function(){n$1.current&&clearTimeout(n$1.current)};return o.useEffect((function(){return function(){return r$1()}}),[]),o.useCallback((function(){var o$2=[...arguments];r$1(),n$1.current=setTimeout((function(){e$1.apply(void 0,o$2)}),t$1)}),[e$1,t$1])},T=function(){var e$1=o.useRef(!1);return o.useEffect((function(){return e$1.current=!0,function(){e$1.current=!1}}),[]),e$1},L=function(e$1){var t$1=o.useRef(e$1);return o.useEffect((function(){t$1.current=e$1}),[e$1]),t$1.current};(function(e$1){e$1.NotRenderedYet=`NotRenderedYet`,e$1.Rendering=`Rendering`,e$1.Rendered=`Rendered`})(E$1||={});var O,F=-9999,D=function(e$1){var t$1=e$1.doc,n$1=t$1.numPages,r$1=t$1.loadingTask.docId,a$2=o.useMemo((function(){return Array(n$1).fill(null).map((function(e$2,t$2){return{pageIndex:t$2,renderStatus:E$1.NotRenderedYet,visibility:F}}))}),[r$1]),i$1=o.useRef({currentRenderingPage:-1,startRange:0,endRange:n$1-1,visibilities:a$2}),c$3=function(e$2,t$2){i$1.current.visibilities[e$2].visibility=t$2};return{getHighestPriorityPage:function(){var e$2=i$1.current.visibilities.slice(i$1.current.startRange,i$1.current.endRange+1).filter((function(e$3){return e$3.visibility>F}));if(!e$2.length)return-1;for(var t$2=e$2[0].pageIndex,r$2=e$2[e$2.length-1].pageIndex,o$2=e$2.length,a$3=0;a$3<o$2;a$3++){if(e$2[a$3].renderStatus===E$1.Rendering)return-1;if(e$2[a$3].renderStatus===E$1.NotRenderedYet)return e$2[a$3].pageIndex}return r$2+1<n$1&&i$1.current.visibilities[r$2+1].renderStatus!==E$1.Rendered?r$2+1:t$2-1>=0&&i$1.current.visibilities[t$2-1].renderStatus!==E$1.Rendered?t$2-1:-1},isInRange:function(e$2){return e$2>=i$1.current.startRange&&e$2<=i$1.current.endRange},markNotRendered:function(){for(var e$2=0;e$2<n$1;e$2++)i$1.current.visibilities[e$2].renderStatus=E$1.NotRenderedYet},markRendered:function(e$2){i$1.current.visibilities[e$2].renderStatus=E$1.Rendered},markRendering:function(e$2){i$1.current.currentRenderingPage!==-1&&i$1.current.currentRenderingPage!==e$2&&i$1.current.visibilities[i$1.current.currentRenderingPage].renderStatus===E$1.Rendering&&(i$1.current.visibilities[i$1.current.currentRenderingPage].renderStatus=E$1.NotRenderedYet),i$1.current.visibilities[e$2].renderStatus=E$1.Rendering,i$1.current.currentRenderingPage=e$2},setOutOfRange:function(e$2){c$3(e$2,F)},setRange:function(e$2,t$2){i$1.current.startRange=e$2,i$1.current.endRange=t$2;for(var r$2=0;r$2<n$1;r$2++)(r$2<e$2||r$2>t$2)&&(i$1.current.visibilities[r$2].visibility=F,i$1.current.visibilities[r$2].renderStatus=E$1.NotRenderedYet)},setVisibility:c$3}},I={core:{askingPassword:{requirePasswordToOpen:`This document requires a password to open`,submit:`Submit`},wrongPassword:{tryAgain:`The password is wrong. Please try again`},pageLabel:`Page {{pageIndex}}`}},A=o.createContext({l10n:I,setL10n:function(){}}),H=0,N=function(){return H++},V=function(e$1,t$1,n$1){var r$1=function(e$2){var r$2=t$1.current;if(r$2){var o$2=e$2.target;if(o$2 instanceof Element&&o$2.shadowRoot){var a$2=e$2.composedPath();a$2.length>0&&!r$2.contains(a$2[0])&&n$1()}else r$2.contains(o$2)||n$1()}};o.useEffect((function(){if(e$1){var t$2={capture:!0};return document.addEventListener(`click`,r$1,t$2),function(){document.removeEventListener(`click`,r$1,t$2)}}}),[])},z$1=function(e$1){var t$1=function(t$2){t$2.key===`Escape`&&e$1()};o.useEffect((function(){return document.addEventListener(`keyup`,t$1),function(){document.removeEventListener(`keyup`,t$1)}}),[])},B$1=function(e$1){var t$1=e$1.ariaControlsSuffix,n$1=e$1.children,r$1=e$1.closeOnClickOutside,a$2=e$1.closeOnEscape,i$1=e$1.onToggle,c$3=o.useRef(),s$1=o.useContext(p$1).direction===exports.TextDirection.RightToLeft;return o.useEffect((function(){var e$2=window.getComputedStyle(document.body).overflow;return document.body.style.overflow=`hidden`,function(){document.body.style.overflow=e$2}}),[]),z$1((function(){c$3.current&&a$2&&i$1()})),V(r$1,c$3,i$1),f$1((function(){var e$2=c$3.current;if(e$2){var t$2=.75*document.body.clientHeight;e$2.getBoundingClientRect().height>=t$2&&(e$2.style.overflow=`auto`,e$2.style.maxHeight=`${t$2}px`)}}),[]),o.createElement(`div`,{"aria-modal":`true`,className:d$1({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":s$1}),id:`rpv-core__modal-body-${t$1}`,ref:c$3,role:`dialog`,tabIndex:-1},n$1)},W=function(e$1){var t$1=e$1.children;return o.createElement(`div`,{className:`rpv-core__modal-overlay`},t$1)};exports.ToggleStatus=void 0,(O=exports.ToggleStatus||={}).Close=`Close`,O.Open=`Open`,O.Toggle=`Toggle`;var j,q=function(e$1){var t$1=o.useState(e$1),n$1=t$1[0],r$1=t$1[1];return{opened:n$1,toggle:function(e$2){switch(e$2){case exports.ToggleStatus.Close:r$1(!1);break;case exports.ToggleStatus.Open:r$1(!0);break;case exports.ToggleStatus.Toggle:default:r$1((function(e$3){return!e$3}))}}}},U=function(e$1){var t$1=e$1.content,n$1=e$1.isOpened,r$1=n$1!==void 0&&n$1,a$2=e$1.target,i$1=q(r$1),c$3=i$1.opened,s$1=i$1.toggle;return o.createElement(o.Fragment,null,a$2&&a$2(s$1,c$3),c$3&&t$1(s$1))};exports.Position=void 0,(j=exports.Position||={}).TopLeft=`TOP_LEFT`,j.TopCenter=`TOP_CENTER`,j.TopRight=`TOP_RIGHT`,j.RightTop=`RIGHT_TOP`,j.RightCenter=`RIGHT_CENTER`,j.RightBottom=`RIGHT_BOTTOM`,j.BottomLeft=`BOTTOM_LEFT`,j.BottomCenter=`BOTTOM_CENTER`,j.BottomRight=`BOTTOM_RIGHT`,j.LeftTop=`LEFT_TOP`,j.LeftCenter=`LEFT_CENTER`,j.LeftBottom=`LEFT_BOTTOM`;var Z,J,G,Y,K,X,Q,$,ee=function(e$1,t$1,n$1,r$1,o$2){f$1((function(){var a$2=t$1.current,i$1=e$1.current,c$3=n$1.current;if(i$1&&a$2&&c$3){var s$1=c$3.getBoundingClientRect(),l$2=function(e$2,t$2,n$2,r$2){var o$3=t$2.getBoundingClientRect(),a$3=e$2.getBoundingClientRect(),i$2=a$3.height,c$4=a$3.width,s$2=0,l$3=0;switch(n$2){case exports.Position.TopLeft:s$2=o$3.top-i$2,l$3=o$3.left;break;case exports.Position.TopCenter:s$2=o$3.top-i$2,l$3=o$3.left+o$3.width/2-c$4/2;break;case exports.Position.TopRight:s$2=o$3.top-i$2,l$3=o$3.left+o$3.width-c$4;break;case exports.Position.RightTop:s$2=o$3.top,l$3=o$3.left+o$3.width;break;case exports.Position.RightCenter:s$2=o$3.top+o$3.height/2-i$2/2,l$3=o$3.left+o$3.width;break;case exports.Position.RightBottom:s$2=o$3.top+o$3.height-i$2,l$3=o$3.left+o$3.width;break;case exports.Position.BottomLeft:s$2=o$3.top+o$3.height,l$3=o$3.left;break;case exports.Position.BottomCenter:s$2=o$3.top+o$3.height,l$3=o$3.left+o$3.width/2-c$4/2;break;case exports.Position.BottomRight:s$2=o$3.top+o$3.height,l$3=o$3.left+o$3.width-c$4;break;case exports.Position.LeftTop:s$2=o$3.top,l$3=o$3.left-c$4;break;case exports.Position.LeftCenter:s$2=o$3.top+o$3.height/2-i$2/2,l$3=o$3.left-c$4;break;case exports.Position.LeftBottom:s$2=o$3.top+o$3.height-i$2,l$3=o$3.left-c$4}return{left:l$3+(r$2.left||0),top:s$2+(r$2.top||0)}}(i$1,a$2,r$1,o$2),u$1=l$2.top,p$2=l$2.left;i$1.style.top=`${u$1-s$1.top}px`,i$1.style.left=`${p$2-s$1.left}px`}}),[])},te=function(e$1){var t$1,n$1=e$1.customClassName,r$1=e$1.position;return o.createElement(`div`,{className:d$1((t$1={"rpv-core__arrow":!0,"rpv-core__arrow--tl":r$1===exports.Position.TopLeft,"rpv-core__arrow--tc":r$1===exports.Position.TopCenter,"rpv-core__arrow--tr":r$1===exports.Position.TopRight,"rpv-core__arrow--rt":r$1===exports.Position.RightTop,"rpv-core__arrow--rc":r$1===exports.Position.RightCenter,"rpv-core__arrow--rb":r$1===exports.Position.RightBottom,"rpv-core__arrow--bl":r$1===exports.Position.BottomLeft,"rpv-core__arrow--bc":r$1===exports.Position.BottomCenter,"rpv-core__arrow--br":r$1===exports.Position.BottomRight,"rpv-core__arrow--lt":r$1===exports.Position.LeftTop,"rpv-core__arrow--lc":r$1===exports.Position.LeftCenter,"rpv-core__arrow--lb":r$1===exports.Position.LeftBottom},t$1[`${n$1}`]=n$1!==``,t$1))})},ne=function(e$1){var t$1=e$1.ariaControlsSuffix,n$1=e$1.children,r$1=e$1.closeOnClickOutside,a$2=e$1.offset,i$1=e$1.position,c$3=e$1.targetRef,s$1=e$1.onClose,l$2=o.useRef(),u$1=o.useRef(),g$1=o.useRef(),v$1=o.useContext(p$1).direction===exports.TextDirection.RightToLeft;V(r$1,l$2,s$1),ee(l$2,c$3,g$1,i$1,a$2),f$1((function(){var e$2=u$1.current;if(e$2){var t$2=.75*document.body.clientHeight;e$2.getBoundingClientRect().height>=t$2&&(e$2.style.overflow=`auto`,e$2.style.maxHeight=`${t$2}px`)}}),[]);var h$2=`rpv-core__popover-body-inner-${t$1}`;return o.createElement(o.Fragment,null,o.createElement(`div`,{ref:g$1,style:{left:0,position:`absolute`,top:0}}),o.createElement(`div`,{"aria-describedby":h$2,className:d$1({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":v$1}),id:`rpv-core__popover-body-${t$1}`,ref:l$2,role:`dialog`,tabIndex:-1},o.createElement(te,{customClassName:`rpv-core__popover-body-arrow`,position:i$1}),o.createElement(`div`,{id:h$2,ref:u$1},n$1)))},re=function(e$1){var t$1=e$1.closeOnEscape,n$1=e$1.onClose,r$1=o.useRef();return z$1((function(){r$1.current&&t$1&&n$1()})),o.createElement(`div`,{className:`rpv-core__popover-overlay`,ref:r$1})},oe=function(e$1){var t$1=e$1.ariaControlsSuffix,n$1=e$1.children,r$1=e$1.contentRef,a$2=e$1.offset,i$1=e$1.position,c$3=e$1.targetRef,s$1=o.useRef(),l$2=o.useContext(p$1).direction===exports.TextDirection.RightToLeft;return ee(r$1,c$3,s$1,i$1,a$2),o.createElement(o.Fragment,null,o.createElement(`div`,{ref:s$1,style:{left:0,position:`absolute`,top:0}}),o.createElement(`div`,{className:d$1({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":l$2}),id:`rpv-core__tooltip-body-${t$1}`,ref:r$1,role:`tooltip`},o.createElement(te,{customClassName:`rpv-core__tooltip-body-arrow`,position:i$1}),o.createElement(`div`,{className:`rpv-core__tooltip-body-content`},n$1)))};exports.FullScreenMode=void 0,(Z=exports.FullScreenMode||={}).Normal=`Normal`,Z.Entering=`Entering`,Z.Entered=`Entered`,Z.EnteredCompletely=`EnteredCompletely`,Z.Exitting=`Exitting`,Z.Exited=`Exited`,exports.LayerRenderStatus=void 0,(J=exports.LayerRenderStatus||={})[J.PreRender=0]=`PreRender`,J[J.DidRender=1]=`DidRender`,exports.PageMode=void 0,(G=exports.PageMode||={}).Attachments=`UseAttachments`,G.Bookmarks=`UseOutlines`,G.ContentGroup=`UseOC`,G.Default=`UserNone`,G.FullScreen=`FullScreen`,G.Thumbnails=`UseThumbs`,exports.PasswordStatus=void 0,(Y=exports.PasswordStatus||={}).RequiredPassword=`RequiredPassword`,Y.WrongPassword=`WrongPassword`,exports.RotateDirection=void 0,(K=exports.RotateDirection||={}).Backward=`Backward`,K.Forward=`Forward`,exports.ScrollMode=void 0,(X=exports.ScrollMode||={}).Page=`Page`,X.Horizontal=`Horizontal`,X.Vertical=`Vertical`,X.Wrapped=`Wrapped`,exports.SpecialZoomLevel=void 0,(Q=exports.SpecialZoomLevel||={}).ActualSize=`ActualSize`,Q.PageFit=`PageFit`,Q.PageWidth=`PageWidth`,exports.ViewMode=void 0,($=exports.ViewMode||={}).DualPage=`DualPage`,$.DualPageWithCover=`DualPageWithCover`,$.SinglePage=`SinglePage`;var ae,ie=function(e$1,t$1){return e$1.reduce((function(e$2,n$1,r$1){return r$1%t$1?e$2[e$2.length-1].push(n$1):e$2.push([n$1]),e$2}),[])},ce=function(e$1,t$1){switch(t$1[1].name){case`XYZ`:return{bottomOffset:function(e$2,n$1){return t$1[3]===null?n$1:t$1[3]},leftOffset:function(e$2,n$1){return t$1[2]===null?0:t$1[2]},pageIndex:e$1,scaleTo:t$1[4]};case`Fit`:case`FitB`:return{bottomOffset:0,leftOffset:0,pageIndex:e$1,scaleTo:exports.SpecialZoomLevel.PageFit};case`FitH`:case`FitBH`:return{bottomOffset:t$1[2],leftOffset:0,pageIndex:e$1,scaleTo:exports.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:e$1,scaleTo:1}}},se=new Map,le=new Map,ue=function(e$1,t$1){return`${e$1.loadingTask.docId}___${t$1.num}R${t$1.gen===0?``:t$1.gen}`},pe=function(e$1,t$1,n$1){se.set(ue(e$1,t$1),n$1)},de=function(e$1,t$1){if(!e$1)return Promise.reject(`The document is not loaded yet`);var n$1=`${e$1.loadingTask.docId}___${t$1}`,r$1=le.get(n$1);return r$1?Promise.resolve(r$1):new Promise((function(r$2,o$2){e$1.getPage(t$1+1).then((function(o$3){le.set(n$1,o$3),o$3.ref&&pe(e$1,o$3.ref,t$1),r$2(o$3)}))}))},fe=function(e$1,t$1){return new Promise((function(n$1){new Promise((function(n$2){typeof t$1==`string`?e$1.getDestination(t$1).then((function(e$2){n$2(e$2)})):n$2(t$1)})).then((function(r$1){if(typeof r$1[0]==`object`&&r$1[0]!==null){var o$2=r$1[0],a$2=function(e$2,t$2){var n$2=ue(e$2,t$2);return se.has(n$2)?se.get(n$2):null}(e$1,o$2);a$2===null?e$1.getPageIndex(o$2).then((function(r$2){pe(e$1,o$2,r$2),fe(e$1,t$1).then((function(e$2){return n$1(e$2)}))})):n$1(ce(a$2,r$1))}else n$1(ce(r$1[0],r$1))}))}))};(function(e$1){e$1[e$1.Solid=1]=`Solid`,e$1[e$1.Dashed=2]=`Dashed`,e$1[e$1.Beveled=3]=`Beveled`,e$1[e$1.Inset=4]=`Inset`,e$1[e$1.Underline=5]=`Underline`})(ae||={});var ge,ve=RegExp(`^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?`),he=function(e$1,t$1,n$1,r$1){var o$2=parseInt(e$1,10);return o$2>=t$1&&o$2<=n$1?o$2:r$1},me=function(e$1){return e$1.contentsObj?e$1.contentsObj.str:e$1.contents||``},xe=function(e$1){return e$1.titleObj?e$1.titleObj.str:e$1.title||``},we=function(e$1){var t$1=e$1.annotation,n$1=o.useContext(p$1).direction,r$1=xe(t$1),a$2=me(t$1),i$1=n$1===exports.TextDirection.RightToLeft,c$3=o.useRef(),s$1=``;if(t$1.modificationDate){var l$2=function(e$2){var t$2=ve.exec(e$2);if(!t$2)return null;var n$2=parseInt(t$2[1],10),r$2=he(t$2[2],1,12,1)-1,o$2=he(t$2[3],1,31,1),a$3=he(t$2[4],0,23,0),i$2=he(t$2[5],0,59,0),c$4=he(t$2[6],0,59,0),s$2=t$2[7]||`Z`,l$3=he(t$2[8],0,23,0),u$1=he(t$2[9],0,59,0);switch(s$2){case`-`:a$3+=l$3,i$2+=u$1;break;case`+`:a$3-=l$3,i$2-=u$1}return new Date(Date.UTC(n$2,r$2,o$2,a$3,i$2,c$4))}(t$1.modificationDate);s$1=l$2?`${l$2.toLocaleDateString()}, ${l$2.toLocaleTimeString()}`:``}return o.useLayoutEffect((function(){if(c$3.current){var e$2=document.querySelector(`[data-annotation-id="${t$1.id}"]`);if(e$2){var n$2=e$2;return n$2.style.zIndex+=1,function(){n$2.style.zIndex=`${parseInt(n$2.style.zIndex,10)-1}`}}}}),[]),o.createElement(`div`,{ref:c$3,className:d$1({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":i$1}),style:{top:t$1.annotationType===exports.AnnotationType.Popup?``:`100%`}},r$1&&o.createElement(o.Fragment,null,o.createElement(`div`,{className:d$1({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!i$1,"rpv-core__annotation-popup-title--rtl":i$1})},r$1),o.createElement(`div`,{className:`rpv-core__annotation-popup-date`},s$1)),a$2&&o.createElement(`div`,{className:`rpv-core__annotation-popup-content`},a$2.split(`
`).map((function(e$2,t$2){return o.createElement(o.Fragment,{key:t$2},e$2,o.createElement(`br`,null))}))))};(function(e$1){e$1.Click=`Click`,e$1.Hover=`Hover`})(ge||={});var Ee,be=function(e$1){var t$1,n$1=e$1.annotation,r$1=e$1.children,a$2=e$1.ignoreBorder,i$1=e$1.hasPopup,c$3=e$1.isRenderable,s$1=e$1.page,l$2=e$1.viewport,u$1=n$1.rect,p$2=function(){var e$2=q(!1),t$2=e$2.opened,n$2=e$2.toggle,r$2=o.useState(ge.Hover),a$3=r$2[0],i$2=r$2[1];return{opened:t$2,closeOnHover:function(){a$3===ge.Hover&&n$2(exports.ToggleStatus.Close)},openOnHover:function(){a$3===ge.Hover&&n$2(exports.ToggleStatus.Open)},toggleOnClick:function(){switch(a$3){case ge.Click:t$2&&i$2(ge.Hover),n$2(exports.ToggleStatus.Toggle);break;case ge.Hover:i$2(ge.Click),n$2(exports.ToggleStatus.Open)}}}}(),d$2=p$2.closeOnHover,f$2=p$2.opened,g$1=p$2.openOnHover,v$1=p$2.toggleOnClick,h$2=(t$1=[u$1[0],s$1.view[3]+s$1.view[1]-u$1[1],u$1[2],s$1.view[3]+s$1.view[1]-u$1[3]],[Math.min(t$1[0],t$1[2]),Math.min(t$1[1],t$1[3]),Math.max(t$1[0],t$1[2]),Math.max(t$1[1],t$1[3])]),m$2=u$1[2]-u$1[0],x$1=u$1[3]-u$1[1],w$1={borderColor:``,borderRadius:``,borderStyle:``,borderWidth:``};if(!a$2&&n$1.borderStyle.width>0){switch(n$1.borderStyle.style){case ae.Dashed:w$1.borderStyle=`dashed`;break;case ae.Solid:w$1.borderStyle=`solid`;break;case ae.Underline:w$1=Object.assign({borderBottomStyle:`solid`},w$1);case ae.Beveled:case ae.Inset:}var E$2=n$1.borderStyle.width;w$1.borderWidth=`${E$2}px`,n$1.borderStyle.style!==ae.Underline&&(m$2-=2*E$2,x$1-=2*E$2);var b$2=n$1.borderStyle,y$2=b$2.horizontalCornerRadius,S$1=b$2.verticalCornerRadius;(y$2>0||S$1>0)&&(w$1.borderRadius=`${y$2}px / ${S$1}px`),n$1.color?w$1.borderColor=`rgb(${0|n$1.color[0]}, ${0|n$1.color[1]}, ${0|n$1.color[2]})`:w$1.borderWidth=`0`}return o.createElement(o.Fragment,null,c$3&&r$1({popup:{opened:f$2,closeOnHover:d$2,openOnHover:g$1,toggleOnClick:v$1},slot:{attrs:{style:Object.assign({height:`${x$1}px`,left:`${h$2[0]}px`,top:`${h$2[1]}px`,transform:`matrix(${l$2.transform.join(`,`)})`,transformOrigin:`-${h$2[0]}px -${h$2[1]}px`,width:`${m$2}px`},w$1)},children:o.createElement(o.Fragment,null,i$1&&f$2&&o.createElement(we,{annotation:n$1}))}}))},ye=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3);return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--caret`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),e$2.slot.children)}))},Se=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3),u$1=t$1.rect,p$2=u$1[2]-u$1[0],d$2=u$1[3]-u$1[1],f$2=t$1.borderStyle.width;return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--circle`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),o.createElement(`svg`,{height:`${d$2}px`,preserveAspectRatio:`none`,version:`1.1`,viewBox:`0 0 ${p$2} ${d$2}`,width:`${p$2}px`},o.createElement(`circle`,{cy:d$2/2,fill:`none`,rx:p$2/2-f$2/2,ry:d$2/2-f$2/2,stroke:`transparent`,strokeWidth:f$2||1})),e$2.slot.children)}))},_e=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=xe(t$1),i$1=me(t$1),c$3=!(!1!==t$1.hasPopup||!a$2&&!i$1),s$1=function(){var e$2,n$2,r$2,o$2,a$3=t$1.file;a$3&&(e$2=a$3.filename,n$2=a$3.content,r$2=typeof n$2==`string`?``:URL.createObjectURL(new Blob([n$2],{type:``})),(o$2=document.createElement(`a`)).style.display=`none`,o$2.href=r$2||e$2,o$2.setAttribute(`download`,function(e$3){var t$2=e$3.split(`/`).pop();return t$2?t$2.split(`#`)[0].split(`?`)[0]:e$3}(e$2)),document.body.appendChild(o$2),o$2.click(),document.body.removeChild(o$2),r$2&&URL.revokeObjectURL(r$2))};return o.createElement(be,{annotation:t$1,hasPopup:c$3,ignoreBorder:!0,isRenderable:!0,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--file-attachment`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onDoubleClick:s$1,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),e$2.slot.children)}))},Pe=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3);return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--free-text`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),e$2.slot.children)}))},Re=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=xe(t$1),i$1=me(t$1),c$3=!(!a$2&&!i$1),s$1=!t$1.parentType||[`Circle`,`Ink`,`Line`,`Polygon`,`PolyLine`,`Square`].indexOf(t$1.parentType)!==-1;return f$1((function(){if(t$1.parentId){var e$2=document.querySelector(`[data-annotation-id="${t$1.parentId}"]`),n$2=document.querySelector(`[data-annotation-id="${t$1.id}"]`);if(e$2&&n$2){var r$2=parseFloat(e$2.style.left),o$2=parseFloat(e$2.style.top)+parseFloat(e$2.style.height);n$2.style.left=`${r$2}px`,n$2.style.top=`${o$2}px`,n$2.style.transformOrigin=`-${r$2}px -${o$2}px`}}}),[]),o.createElement(be,{annotation:t$1,hasPopup:s$1,ignoreBorder:!1,isRenderable:c$3,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--popup`,"data-annotation-id":t$1.id}),o.createElement(we,{annotation:t$1}))}))},Me=function(e$1){var t$1=e$1.annotation,n$1=e$1.childAnnotation,r$1=e$1.page,a$2=e$1.viewport,i$1=!1===t$1.hasPopup,c$3=xe(t$1),s$1=me(t$1),u$1=!!(t$1.hasPopup||c$3||s$1);if(t$1.quadPoints&&t$1.quadPoints.length>0){var p$2=t$1.quadPoints.map((function(e$2){return Object.assign({},t$1,{rect:[e$2[2].x,e$2[2].y,e$2[1].x,e$2[1].y],quadPoints:[]})}));return o.createElement(o.Fragment,null,p$2.map((function(e$2,t$2){return o.createElement(Me,{key:t$2,annotation:e$2,childAnnotation:n$1,page:r$1,viewport:a$2})})))}return o.createElement(be,{annotation:t$1,hasPopup:i$1,ignoreBorder:!0,isRenderable:u$1,page:r$1,viewport:a$2},(function(e$2){return o.createElement(o.Fragment,null,o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--highlight`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),e$2.slot.children),n$1&&n$1.annotationType===exports.AnnotationType.Popup&&e$2.popup.opened&&o.createElement(Re,{annotation:n$1,page:r$1,viewport:a$2}))}))},ke=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3),u$1=t$1.rect,p$2=u$1[2]-u$1[0],d$2=u$1[3]-u$1[1],f$2=t$1.borderStyle.width;return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--ink`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),t$1.inkLists&&t$1.inkLists.length&&o.createElement(`svg`,{height:`${d$2}px`,preserveAspectRatio:`none`,version:`1.1`,viewBox:`0 0 ${p$2} ${d$2}`,width:`${p$2}px`},t$1.inkLists.map((function(e$3,t$2){return o.createElement(`polyline`,{key:t$2,fill:`none`,stroke:`transparent`,strokeWidth:f$2||1,points:e$3.map((function(e$4){return`${e$4.x-u$1[0]},${u$1[3]-e$4.y}`})).join(` `)})}))),e$2.slot.children)}))},Ce=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3),u$1=t$1.rect,p$2=u$1[2]-u$1[0],d$2=u$1[3]-u$1[1],f$2=t$1.borderStyle.width;return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--line`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),o.createElement(`svg`,{height:`${d$2}px`,preserveAspectRatio:`none`,version:`1.1`,viewBox:`0 0 ${p$2} ${d$2}`,width:`${p$2}px`},o.createElement(`line`,{stroke:`transparent`,strokeWidth:f$2||1,x1:u$1[2]-t$1.lineCoordinates[0],x2:u$1[2]-t$1.lineCoordinates[2],y1:u$1[3]-t$1.lineCoordinates[1],y2:u$1[3]-t$1.lineCoordinates[3]})),e$2.slot.children)}))},Te=/^([^\w]*)(javascript|data|vbscript)/im,Le=/&#(\w+)(^\w|;)?/g,Oe=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Fe=/^([^:]+):/gm,De=function(e$1,t$1){t$1===void 0&&(t$1=`about:blank`);var n$1,r$1=(n$1=e$1||``,n$1.replace(Le,(function(e$2,t$2){return String.fromCharCode(t$2)}))).replace(Oe,``).trim();if(!r$1)return t$1;var o$2=r$1[0];if(o$2===`.`||o$2===`/`)return r$1;var a$2=r$1.match(Fe);if(!a$2)return r$1;var i$1=a$2[0];return Te.test(i$1)?t$1:r$1},Ie=function(e$1){var t$1,n$1=e$1.annotation,r$1=e$1.annotationContainerRef,a$2=e$1.doc,i$1=e$1.outlines,c$3=e$1.page,s$1=e$1.pageIndex,u$1=e$1.scale,p$2=e$1.viewport,d$2=e$1.onExecuteNamedAction,f$2=e$1.onJumpFromLinkAnnotation,g$1=e$1.onJumpToDest,v$1=o.useRef(),h$2=i$1&&i$1.length&&n$1.dest&&typeof n$1.dest==`string`?i$1.find((function(e$2){return e$2.dest===n$1.dest}))?.title:``,m$2=!!(n$1.url||n$1.dest||n$1.action||n$1.unsafeUrl),x$1={};if(n$1.url||n$1.unsafeUrl){var w$1=De(n$1.url||n$1.unsafeUrl,``);w$1?x$1={"data-target":`external`,href:w$1,rel:`noopener noreferrer nofollow`,target:n$1.newWindow?`_blank`:``,title:w$1}:m$2=!1}else x$1={href:``,"data-annotation-link":n$1.id,onClick:function(e$2){e$2.preventDefault(),n$1.action?d$2(n$1.action):fe(a$2,n$1.dest).then((function(e$3){var t$2=v$1.current,n$2=r$1.current;if(t$2&&n$2){var o$2=t$2.getBoundingClientRect();n$2.style.setProperty(`height`,`100%`),n$2.style.setProperty(`width`,`100%`);var a$3=n$2.getBoundingClientRect();n$2.style.removeProperty(`height`),n$2.style.removeProperty(`width`);var i$2=(o$2.left-a$3.left)/u$1;f$2({bottomOffset:(a$3.bottom-o$2.bottom+o$2.height)/u$1,label:h$2,leftOffset:i$2,pageIndex:s$1})}g$1(e$3)}))}};return h$2&&(x$1=Object.assign({},x$1,{title:h$2,"aria-label":h$2})),o.createElement(be,{annotation:n$1,hasPopup:!1,ignoreBorder:!1,isRenderable:m$2,page:c$3,viewport:p$2},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--link`,"data-annotation-id":n$1.id,"data-testid":`core__annotation--link-${n$1.id}`}),o.createElement(`a`,l$1({ref:v$1},x$1)))}))},Ae=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3),u$1=t$1.rect,p$2=u$1[2]-u$1[0],d$2=u$1[3]-u$1[1],f$2=t$1.borderStyle.width;return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--polygon`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),t$1.vertices&&t$1.vertices.length&&o.createElement(`svg`,{height:`${d$2}px`,preserveAspectRatio:`none`,version:`1.1`,viewBox:`0 0 ${p$2} ${d$2}`,width:`${p$2}px`},o.createElement(`polygon`,{fill:`none`,stroke:`transparent`,strokeWidth:f$2||1,points:t$1.vertices.map((function(e$3){return`${e$3.x-u$1[0]},${u$1[3]-e$3.y}`})).join(` `)})),e$2.slot.children)}))},He=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3),u$1=t$1.rect,p$2=u$1[2]-u$1[0],d$2=u$1[3]-u$1[1],f$2=t$1.borderStyle.width;return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--polyline`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),t$1.vertices&&t$1.vertices.length&&o.createElement(`svg`,{height:`${d$2}px`,preserveAspectRatio:`none`,version:`1.1`,viewBox:`0 0 ${p$2} ${d$2}`,width:`${p$2}px`},o.createElement(`polyline`,{fill:`none`,stroke:`transparent`,strokeWidth:f$2||1,points:t$1.vertices.map((function(e$3){return`${e$3.x-u$1[0]},${u$1[3]-e$3.y}`})).join(` `)})),e$2.slot.children)}))},Ne=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3),u$1=t$1.rect,p$2=u$1[2]-u$1[0],d$2=u$1[3]-u$1[1],f$2=t$1.borderStyle.width;return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--square`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),o.createElement(`svg`,{height:`${d$2}px`,preserveAspectRatio:`none`,version:`1.1`,viewBox:`0 0 ${p$2} ${d$2}`,width:`${p$2}px`},o.createElement(`rect`,{height:d$2-f$2,fill:`none`,stroke:`transparent`,strokeWidth:f$2||1,x:f$2/2,y:f$2/2,width:p$2-f$2})),e$2.slot.children)}))},Ve=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3);return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--squiggly`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),e$2.slot.children)}))},ze=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3);return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--stamp`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),e$2.slot.children)}))},Be=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3);return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--strike-out`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),e$2.slot.children)}))},We=function(){return o.createElement(v,{size:16},o.createElement(`path`,{d:`M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z`}),o.createElement(`path`,{d:`M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25`}),o.createElement(`path`,{d:`M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75`}),o.createElement(`path`,{d:`M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25`}))},je=function(){return o.createElement(v,{size:16},o.createElement(`path`,{d:`M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z`}),o.createElement(`path`,{d:`M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z`}),o.createElement(`path`,{d:`M21.423 5.406L17.415 9.414`}),o.createElement(`path`,{d:`M14.587 6.585L18.607 2.565`}),o.createElement(`path`,{d:`M5.405 21.424L9.413 17.416`}),o.createElement(`path`,{d:`M6.585 14.588L2.577 18.596`}),o.createElement(`path`,{d:`M18.602 21.419L14.595 17.412`}),o.createElement(`path`,{d:`M17.419 14.58L21.428 18.589`}),o.createElement(`path`,{d:`M2.582 5.399L6.588 9.406`}),o.createElement(`path`,{d:`M9.421 6.581L5.412 2.572`}))},qe=function(){return o.createElement(v,{size:16},o.createElement(`path`,{d:`M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z`}),o.createElement(`path`,{d:`M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z`}))},Ue=function(){return o.createElement(v,{size:16},o.createElement(`path`,{d:`M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z`}),o.createElement(`path`,{d:`M6 4.5L6 0.5`}),o.createElement(`path`,{d:`M18 4.5L18 0.5`}),o.createElement(`path`,{d:`M10 4.5L10 0.5`}),o.createElement(`path`,{d:`M14 4.5L14 0.5`}))},Ze=function(){return o.createElement(v,{size:16},o.createElement(`path`,{d:`M17.5 0.498L17.5 23.498`}),o.createElement(`path`,{d:`M10.5 0.498L10.5 23.498`}),o.createElement(`path`,{d:`M23.5.5H6.5a6,6,0,0,0,0,12h4`}))},Je=function(){return o.createElement(v,{size:16},o.createElement(`path`,{d:`M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z`}))},Ge=function(e$1){var t$1=e$1.annotation,n$1=e$1.childAnnotation,r$1=e$1.page,a$2=e$1.viewport,i$1=!1===t$1.hasPopup,c$3=xe(t$1),s$1=me(t$1),u$1=!!(t$1.hasPopup||c$3||s$1),p$2=t$1.name?t$1.name.toLowerCase():``;return o.createElement(be,{annotation:t$1,hasPopup:i$1,ignoreBorder:!1,isRenderable:u$1,page:r$1,viewport:a$2},(function(e$2){return o.createElement(o.Fragment,null,o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--text`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),p$2&&o.createElement(`div`,{className:`rpv-core__annotation-text-icon`},p$2===`check`&&o.createElement(h$1,null),p$2===`comment`&&o.createElement(We,null),p$2===`help`&&o.createElement(je,null),p$2===`insert`&&o.createElement(Je,null),p$2===`key`&&o.createElement(qe,null),p$2===`note`&&o.createElement(Ue,null),(p$2===`newparagraph`||p$2===`paragraph`)&&o.createElement(Ze,null)),e$2.slot.children),n$1&&n$1.annotationType===exports.AnnotationType.Popup&&e$2.popup.opened&&o.createElement(Re,{annotation:n$1,page:r$1,viewport:a$2}))}))},Ye=function(e$1){var t$1=e$1.annotation,n$1=e$1.page,r$1=e$1.viewport,a$2=!1===t$1.hasPopup,i$1=xe(t$1),c$3=me(t$1),s$1=!!(t$1.hasPopup||i$1||c$3);return o.createElement(be,{annotation:t$1,hasPopup:a$2,ignoreBorder:!0,isRenderable:s$1,page:n$1,viewport:r$1},(function(e$2){return o.createElement(`div`,l$1({},e$2.slot.attrs,{className:`rpv-core__annotation rpv-core__annotation--underline`,"data-annotation-id":t$1.id,onClick:e$2.popup.toggleOnClick,onMouseEnter:e$2.popup.openOnHover,onMouseLeave:e$2.popup.closeOnHover}),e$2.slot.children)}))},Ke=function(e$1){var t$1=e$1.annotations,n$1=e$1.doc,r$1=e$1.outlines,a$2=e$1.page,i$1=e$1.pageIndex,c$3=e$1.plugins,s$1=e$1.rotation,l$2=e$1.scale,u$1=e$1.onExecuteNamedAction,p$2=e$1.onJumpFromLinkAnnotation,d$2=e$1.onJumpToDest,g$1=o.useRef(),v$1=a$2.getViewport({rotation:s$1,scale:l$2}).clone({dontFlip:!0}),h$2=t$1.filter((function(e$2){return!e$2.parentId}));return f$1((function(){var e$2=g$1.current;e$2&&c$3.forEach((function(t$2){t$2.onAnnotationLayerRender&&t$2.onAnnotationLayerRender({annotations:h$2,container:e$2,pageIndex:i$1,rotation:s$1,scale:l$2})}))}),[]),o.createElement(`div`,{ref:g$1,className:`rpv-core__annotation-layer`,"data-testid":`core__annotation-layer-${i$1}`},h$2.map((function(e$2){var c$4=t$1.find((function(t$2){return t$2.parentId===e$2.id}));switch(e$2.annotationType){case exports.AnnotationType.Caret:return o.createElement(ye,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Circle:return o.createElement(Se,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.FileAttachment:return o.createElement(_e,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.FreeText:return o.createElement(Pe,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Highlight:return o.createElement(Me,{key:e$2.id,annotation:e$2,childAnnotation:c$4,page:a$2,viewport:v$1});case exports.AnnotationType.Ink:return o.createElement(ke,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Line:return o.createElement(Ce,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Link:return o.createElement(Ie,{key:e$2.id,annotation:e$2,annotationContainerRef:g$1,doc:n$1,outlines:r$1,page:a$2,pageIndex:i$1,scale:l$2,viewport:v$1,onExecuteNamedAction:u$1,onJumpFromLinkAnnotation:p$2,onJumpToDest:d$2});case exports.AnnotationType.Polygon:return o.createElement(Ae,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Polyline:return o.createElement(He,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Popup:return o.createElement(Re,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Square:return o.createElement(Ne,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Squiggly:return o.createElement(Ve,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Stamp:return o.createElement(ze,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.StrikeOut:return o.createElement(Be,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});case exports.AnnotationType.Text:return o.createElement(Ge,{key:e$2.id,annotation:e$2,childAnnotation:c$4,page:a$2,viewport:v$1});case exports.AnnotationType.Underline:return o.createElement(Ye,{key:e$2.id,annotation:e$2,page:a$2,viewport:v$1});default:return o.createElement(o.Fragment,{key:e$2.id})}})))},Xe=function(e$1){var t$1=e$1.page,n$1=e$1.renderAnnotations,r$1=T(),a$2=o.useState({loading:!0,annotations:[]}),i$1=a$2[0],c$3=a$2[1];return o.useEffect((function(){t$1.getAnnotations({intent:`display`}).then((function(e$2){r$1.current&&c$3({loading:!1,annotations:e$2})}))}),[]),i$1.loading?o.createElement(o.Fragment,null):n$1(i$1.annotations)},Qe=function(e$1){var t$1=e$1.doc,n$1=e$1.outlines,r$1=e$1.page,a$2=e$1.pageIndex,i$1=e$1.plugins,c$3=e$1.rotation,s$1=e$1.scale,l$2=e$1.onExecuteNamedAction,u$1=e$1.onJumpFromLinkAnnotation,p$2=e$1.onJumpToDest;return o.createElement(Xe,{page:r$1,renderAnnotations:function(e$2){return o.createElement(Ke,{annotations:e$2,doc:t$1,outlines:n$1,page:r$1,pageIndex:a$2,plugins:i$1,rotation:c$3,scale:s$1,onExecuteNamedAction:l$2,onJumpFromLinkAnnotation:u$1,onJumpToDest:p$2})}})},$e=function(e$1,t$1){var n$1=e$1%t$1;return n$1===0?e$1:Math.floor(e$1-n$1)},et=function(e$1){var t$1=e$1.canvasLayerRef,n$1=e$1.height,r$1=e$1.page,a$2=e$1.pageIndex,i$1=e$1.plugins,c$3=e$1.rotation,s$1=e$1.scale,l$2=e$1.width,u$1=e$1.onRenderCanvasCompleted,p$2=o.useRef();return f$1((function(){var e$2=p$2.current;e$2&&e$2.cancel();var n$2=t$1.current;n$2.removeAttribute(`data-testid`),i$1.forEach((function(e$3){e$3.onCanvasLayerRender&&e$3.onCanvasLayerRender({ele:n$2,pageIndex:a$2,rotation:c$3,scale:s$1,status:exports.LayerRenderStatus.PreRender})}));var o$2=r$1.getViewport({rotation:c$3,scale:s$1}),l$3=window.devicePixelRatio||1,d$2=Math.sqrt(16777216/(o$2.width*o$2.height)),f$2=l$3>d$2;f$2?n$2.style.transform=`scale(1, 1)`:n$2.style.removeProperty(`transform`);var g$1=Math.min(d$2,l$3),v$1=function(e$3,t$2){var n$3,r$2;if(Math.floor(e$3)===e$3)return[e$3,1];var o$3=1/e$3;if(o$3>t$2)return[1,t$2];if(Math.floor(o$3)===o$3)return[1,o$3];for(var a$3=e$3>1?o$3:e$3,i$2=0,c$4=1,s$2=1,l$4=1;;){var u$2=i$2+s$2,p$3=c$4+l$4;if(p$3>t$2)break;a$3<=u$2/p$3?(s$2=(n$3=[u$2,p$3])[0],l$4=n$3[1]):(i$2=(r$2=[u$2,p$3])[0],c$4=r$2[1])}return a$3<(i$2/c$4+s$2/l$4)/2?a$3===e$3?[i$2,c$4]:[c$4,i$2]:a$3===e$3?[s$2,l$4]:[l$4,s$2]}(g$1,8),h$2=v$1[0],m$2=v$1[1];n$2.width=$e(o$2.width*g$1,h$2),n$2.height=$e(o$2.height*g$1,h$2),n$2.style.width=`${$e(o$2.width,m$2)}px`,n$2.style.height=`${$e(o$2.height,m$2)}px`,n$2.hidden=!0;var x$1=n$2.getContext(`2d`,{alpha:!1}),w$1=f$2||l$3!==1?[g$1,0,0,g$1,0,0]:null;return p$2.current=r$1.render({canvasContext:x$1,transform:w$1,viewport:o$2}),p$2.current.promise.then((function(){n$2.hidden=!1,n$2.setAttribute(`data-testid`,`core__canvas-layer-${a$2}`),i$1.forEach((function(e$3){e$3.onCanvasLayerRender&&e$3.onCanvasLayerRender({ele:n$2,pageIndex:a$2,rotation:c$3,scale:s$1,status:exports.LayerRenderStatus.DidRender})})),u$1()}),(function(){u$1()})),function(){n$2&&(n$2.width=0,n$2.height=0)}}),[]),o.createElement(`div`,{className:`rpv-core__canvas-layer`,style:{height:`${n$1}px`,width:`${l$2}px`}},o.createElement(`canvas`,{ref:t$1}))},tt=function(e$1){var t$1=e$1.height,n$1=e$1.page,r$1=e$1.rotation,i$1=e$1.scale,c$3=e$1.width,s$1=o.useRef();return f$1((function(){var e$2=s$1.current,o$2=n$1.getViewport({rotation:r$1,scale:i$1});n$1.getOperatorList().then((function(r$2){(function(){var e$3=s$1.current;e$3&&(e$3.innerHTML=``)})(),new a.SVGGraphics(n$1.commonObjs,n$1.objs).getSVG(r$2,o$2).then((function(n$2){n$2.style.height=`${t$1}px`,n$2.style.width=`${c$3}px`,e$2.appendChild(n$2)}))}))}),[]),o.createElement(`div`,{className:`rpv-core__svg-layer`,ref:s$1})},nt$1=function(e$1){var t$1=e$1.containerRef,n$1=e$1.page,r$1=e$1.pageIndex,i$1=e$1.plugins,c$3=e$1.rotation,s$1=e$1.scale,l$2=e$1.onRenderTextCompleted,u$1=o.useRef(),p$2=function(){var e$2=t$1.current;e$2&&([].slice.call(e$2.querySelectorAll(`.rpv-core__text-layer-text`)).forEach((function(t$2){return e$2.removeChild(t$2)})),[].slice.call(e$2.querySelectorAll(`br[role="presentation"]`)).forEach((function(t$2){return e$2.removeChild(t$2)})))};return f$1((function(){var e$2=u$1.current;e$2&&e$2.cancel();var o$2=t$1.current;if(o$2){o$2.removeAttribute(`data-testid`);var d$2=n$1.getViewport({rotation:c$3,scale:s$1});return i$1.forEach((function(e$3){e$3.onTextLayerRender&&e$3.onTextLayerRender({ele:o$2,pageIndex:r$1,scale:s$1,status:exports.LayerRenderStatus.PreRender})})),n$1.getTextContent().then((function(e$3){p$2(),u$1.current=a.renderTextLayer({container:o$2,textContent:e$3,textContentSource:e$3,viewport:d$2}),u$1.current.promise.then((function(){o$2.setAttribute(`data-testid`,`core__text-layer-${r$1}`),[].slice.call(o$2.children).forEach((function(e$4){e$4.classList.contains(`rpv-core__text-layer-text--not`)||e$4.classList.add(`rpv-core__text-layer-text`)})),i$1.forEach((function(e$4){e$4.onTextLayerRender&&e$4.onTextLayerRender({ele:o$2,pageIndex:r$1,scale:s$1,status:exports.LayerRenderStatus.DidRender})})),l$2()}),(function(){o$2.removeAttribute(`data-testid`),l$2()}))})),function(){var e$3;p$2(),(e$3=u$1.current)==null||e$3.cancel()}}}),[]),o.createElement(`div`,{className:`rpv-core__text-layer`,ref:t$1})},rt=function(e$1){var t$1=e$1.doc,n$1=e$1.measureRef,r$1=e$1.outlines,a$2=e$1.pageIndex,i$1=e$1.pageRotation,c$3=e$1.pageSize,s$1=e$1.plugins,l$2=e$1.renderPage,u$1=e$1.renderQueueKey,p$2=e$1.rotation,f$2=e$1.scale,g$1=e$1.shouldRender,v$1=e$1.viewMode,h$2=e$1.onExecuteNamedAction,m$2=e$1.onJumpFromLinkAnnotation,w$1=e$1.onJumpToDest,E$2=e$1.onRenderCompleted,b$2=e$1.onRotatePage,y$2=T(),S$1=o.useState(null),_$1=S$1[0],P$1=S$1[1],R$1=o.useState(!1),M$1=R$1[0],k$1=R$1[1],C$2=o.useState(!1),L$1=C$2[0],O$1=C$2[1],F$1=o.useRef(),D$1=o.useRef(),I$1=Math.abs(p$2+i$1)%180==0,A$1=c$3.pageWidth*f$2,H$1=c$3.pageHeight*f$2,N$1=I$1?A$1:H$1,V$2=I$1?H$1:A$1,z$2=(c$3.rotation+p$2+i$1)%360,B$2=o.useRef(0),W$2=l$2||function(e$2){return o.createElement(o.Fragment,null,e$2.canvasLayer.children,e$2.textLayer.children,e$2.annotationLayer.children)};return o.useEffect((function(){P$1(null),k$1(!1),O$1(!1)}),[i$1,p$2,f$2]),o.useEffect((function(){g$1&&y$2.current&&!_$1&&de(t$1,a$2).then((function(e$2){y$2.current&&(B$2.current=u$1,P$1(e$2))}))}),[g$1,_$1]),o.useEffect((function(){M$1&&L$1&&(u$1===B$2.current?E$2(a$2):(P$1(null),k$1(!1),O$1(!1)))}),[M$1,L$1]),o.createElement(`div`,{className:d$1({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":v$1===exports.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":v$1===exports.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":v$1===exports.ViewMode.SinglePage}),"data-testid":`core__page-layer-${a$2}`,ref:n$1,style:{height:`${V$2}px`,width:`${N$1}px`}},_$1?o.createElement(o.Fragment,null,W$2({annotationLayer:{attrs:{},children:o.createElement(Qe,{doc:t$1,outlines:r$1,page:_$1,pageIndex:a$2,plugins:s$1,rotation:z$2,scale:f$2,onExecuteNamedAction:h$2,onJumpFromLinkAnnotation:m$2,onJumpToDest:w$1})},canvasLayer:{attrs:{},children:o.createElement(et,{canvasLayerRef:F$1,height:V$2,page:_$1,pageIndex:a$2,plugins:s$1,rotation:z$2,scale:f$2,width:N$1,onRenderCanvasCompleted:function(){y$2.current&&k$1(!0)}})},canvasLayerRendered:M$1,doc:t$1,height:V$2,pageIndex:a$2,rotation:z$2,scale:f$2,svgLayer:{attrs:{},children:o.createElement(tt,{height:V$2,page:_$1,rotation:z$2,scale:f$2,width:N$1})},textLayer:{attrs:{},children:o.createElement(nt$1,{containerRef:D$1,page:_$1,pageIndex:a$2,plugins:s$1,rotation:z$2,scale:f$2,onRenderTextCompleted:function(){y$2.current&&O$1(!0)}})},textLayerRendered:L$1,width:N$1,markRendered:E$2,onRotatePage:function(e$2){return b$2(a$2,e$2)}}),s$1.map((function(e$2,n$2){return e$2.renderPageLayer?o.createElement(o.Fragment,{key:n$2},e$2.renderPageLayer({canvasLayerRef:F$1,canvasLayerRendered:M$1,doc:t$1,height:V$2,pageIndex:a$2,rotation:z$2,scale:f$2,textLayerRef:D$1,textLayerRendered:L$1,width:N$1})):o.createElement(o.Fragment,{key:n$2})}))):o.createElement(x,{testId:`core__page-layer-loading-${a$2}`}))},ot=function(e$1,t$1){var n$1=t$1.rect;return e$1.height!==n$1.height||e$1.width!==n$1.width?n$1:e$1};(function(e$1){e$1.Horizontal=`Horizontal`,e$1.Vertical=`Vertical`,e$1.Both=`Both`})(Ee||={});var at=function(e$1){return 1-(1-e$1)**4},it=1e-4,ct={left:0,top:0},st={capture:!1,passive:!0},lt=function(e$1){var t$1=e$1.elementRef,n$1=e$1.enableSmoothScroll,r$1=e$1.isRtl,a$2=e$1.scrollDirection,i$1=e$1.onSmoothScroll,c$3=o.useState(ct),s$1=c$3[0],l$2=c$3[1],u$1=o.useState(t$1.current),p$2=u$1[0],d$2=u$1[1],g$1=r$1?-1:1,v$1=o.useRef(a$2);v$1.current=a$2;var h$2=o.useRef(ct),m$2=o.useRef(!0),x$1=o.useCallback((function(){m$2.current=!0,n$1&&l$2(h$2.current),i$1(!1)}),[]),w$1=o.useCallback((function(){if(p$2){switch(v$1.current){case Ee.Horizontal:h$2.current={left:g$1*p$2.scrollLeft,top:0};break;case Ee.Both:h$2.current={left:g$1*p$2.scrollLeft,top:p$2.scrollTop};break;case Ee.Vertical:default:h$2.current={left:0,top:p$2.scrollTop}}n$1&&!m$2.current||l$2(h$2.current)}}),[p$2]);return f$1((function(){d$2(t$1.current)})),f$1((function(){if(p$2)return p$2.addEventListener(`scroll`,w$1,st),function(){p$2.removeEventListener(`scroll`,w$1,st)}}),[p$2]),{scrollOffset:s$1,scrollTo:o.useCallback((function(e$2,n$2){var r$2=t$1.current;if(!r$2)return Promise.resolve();var o$2={left:0,top:0};switch(v$1.current){case Ee.Horizontal:o$2.left=g$1*e$2.left;break;case Ee.Both:o$2.left=g$1*e$2.left,o$2.top=e$2.top;break;case Ee.Vertical:default:o$2.top=e$2.top}return n$2?(m$2.current=!1,i$1(!0),new Promise((function(e$3,t$2){(function(e$4,t$3,n$3,r$3,o$3,a$3){o$3===void 0&&(o$3=function(e$5){return e$5}),a$3===void 0&&(a$3=function(){});var i$2=0,c$4=0,s$2=!1;switch(t$3){case Ee.Horizontal:c$4=e$4.scrollLeft,i$2=0;case Ee.Both:c$4=e$4.scrollLeft,i$2=e$4.scrollTop;break;case Ee.Vertical:default:c$4=0,i$2=e$4.scrollTop}var l$3=function(){s$2||(s$2=!0,e$4.scrollLeft=n$3.left,e$4.scrollTop=n$3.top,a$3())};if(Math.abs(i$2-n$3.top)<=it&&t$3===Ee.Vertical)l$3();else if(Math.abs(c$4-n$3.left)<=it&&t$3===Ee.Horizontal)l$3();else{var u$2,p$3=-1,d$3=c$4-n$3.left,f$2=i$2-n$3.top,g$2=function(a$4){p$3===-1&&(p$3=a$4);var v$2=a$4-p$3,h$3=Math.min(v$2/r$3,1),m$3=o$3(h$3),x$2={left:c$4-d$3*m$3,top:i$2-f$2*m$3};switch(t$3){case Ee.Horizontal:e$4.scrollLeft=x$2.left;break;case Ee.Both:e$4.scrollLeft=x$2.left,e$4.scrollTop=x$2.top;break;case Ee.Vertical:default:e$4.scrollTop=x$2.top}Math.abs(x$2.top-n$3.top)<=it&&Math.abs(x$2.left-n$3.left)<=it&&!s$2&&(window.cancelAnimationFrame(u$2),l$3()),v$2<r$3?u$2=window.requestAnimationFrame(g$2):window.cancelAnimationFrame(u$2)};u$2=window.requestAnimationFrame(g$2)}})(r$2,v$1.current,o$2,400,at,(function(){x$1(),e$3()}))}))):new Promise((function(e$3,t$2){switch(v$1.current){case Ee.Horizontal:r$2.scrollLeft=o$2.left;break;case Ee.Both:r$2.scrollLeft=o$2.left,r$2.scrollTop=o$2.top;break;case Ee.Vertical:default:r$2.scrollTop=o$2.top}e$3()}))}),[t$1])}},ut=function(e$1,t$1,n$1){return Math.max(e$1,Math.min(n$1,t$1))},pt=function(e$1,t$1){if(t$1!==exports.ViewMode.DualPageWithCover)return 0;if(!function(e$2){var t$2=e$2.length;if(t$2===1)return!1;for(var n$2=1;n$2<t$2;n$2++)if(e$2[n$2].height!==e$2[0].height||e$2[n$2].width!==e$2[0].width)return!0;return!1}(e$1))return 2*e$1[0].width;var n$1=ie(e$1.slice(1),2).map((function(e$2){return e$2.length===2?e$2[0].width+e$2[1].width:e$2[0].width})),r$1=[e$1[0].width].concat(n$1);return Math.max.apply(Math,r$1)},dt={left:0,top:0},ft={left:0,top:0},gt={left:0,top:0},vt={left:0,top:0},ht={height:0,width:0},mt={left:0,top:0},xt=`data-virtual-index`,wt=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Et=function(e$1){var t$1=e$1.enableSmoothScroll,n$1=e$1.isRtl,r$1=e$1.numberOfItems,a$2=e$1.parentRef,i$1=e$1.setRenderRange,c$3=e$1.sizes,s$1=e$1.scrollMode,u$1=e$1.viewMode,p$2=o.useState(!1),d$2=p$2[0],g$1=p$2[1],v$1=o.useCallback((function(e$2){return g$1(e$2)}),[]),h$2=o.useRef(s$1);h$2.current=s$1;var m$2=o.useRef(u$1);m$2.current=u$1;var x$1=s$1===exports.ScrollMode.Wrapped||u$1===exports.ViewMode.DualPageWithCover||u$1===exports.ViewMode.DualPage?Ee.Both:s$1===exports.ScrollMode.Horizontal?Ee.Horizontal:Ee.Vertical,w$1=lt({elementRef:a$2,enableSmoothScroll:t$1,isRtl:n$1,scrollDirection:x$1,onSmoothScroll:v$1}),E$2=w$1.scrollOffset,b$2=w$1.scrollTo,y$2=function(e$2){var t$2=e$2.elementRef,n$2=o.useState(t$2.current),r$2=n$2[0],a$3=n$2[1],i$2=o.useRef(!1),c$4=o.useReducer(ot,{height:0,width:0}),s$2=c$4[0],l$2=c$4[1];return f$1((function(){t$2.current!==r$2&&a$3(t$2.current)})),f$1((function(){if(r$2&&!i$2.current){i$2.current=!0;var e$3=r$2.getBoundingClientRect(),t$3=e$3.height,n$3=e$3.width;l$2({rect:{height:t$3,width:n$3}})}}),[r$2]),o.useEffect((function(){if(r$2){var e$3=new ResizeObserver((function(e$4,t$3){e$4.forEach((function(e$5){if(e$5.target===r$2){var t$4=e$5.contentRect,n$3=t$4.height,o$2=t$4.width;l$2({rect:{height:n$3,width:o$2}})}}))}));return e$3.observe(r$2),function(){e$3.unobserve(r$2)}}}),[r$2]),s$2}({elementRef:a$2}),S$1=o.useRef({scrollOffset:mt,measurements:[]});S$1.current.scrollOffset=E$2;var _$1=o.useMemo((function(){return Array(r$1).fill(-1)}),[]),P$1=o.useState(_$1),R$1=P$1[0],M$1=P$1[1],k$1=o.useMemo((function(){return new IntersectionObserver((function(e$2){e$2.forEach((function(e$3){var t$2=e$3.isIntersecting?e$3.intersectionRatio:-1,n$2=e$3.target.getAttribute(xt);if(n$2){var o$2=parseInt(n$2,10);0<=o$2&&o$2<r$1&&M$1((function(e$4){return e$4[o$2]=t$2,function(e$5,t$3,n$3){if(n$3||arguments.length===2)for(var r$2,o$3=0,a$3=t$3.length;o$3<a$3;o$3++)!r$2&&o$3 in t$3||(r$2||=Array.prototype.slice.call(t$3,0,o$3),r$2[o$3]=t$3[o$3]);return e$5.concat(r$2||Array.prototype.slice.call(t$3))}([],e$4,!0)}))}}))}),{threshold:wt})}),[]),C$2=o.useMemo((function(){return s$1===exports.ScrollMode.Page&&u$1===exports.ViewMode.SinglePage?function(e$2,t$2,n$2){for(var r$2=[],o$2=0;o$2<e$2;o$2++){var a$3={height:Math.max(t$2.height,n$2[o$2].height),width:Math.max(t$2.width,n$2[o$2].width)},i$2=o$2===0?vt:r$2[o$2-1].end,c$4={left:i$2.left+a$3.width,top:i$2.top+a$3.height};r$2[o$2]={index:o$2,start:i$2,size:a$3,end:c$4,visibility:-1}}return r$2}(r$1,y$2,c$3):u$1===exports.ViewMode.DualPageWithCover?function(e$2,t$2,n$2,r$2){for(var o$2=[],a$3=0,i$2=0,c$4=gt,s$2=0;s$2<e$2;s$2++){var l$2=s$2===0?{height:r$2===exports.ScrollMode.Page?Math.max(t$2.height,n$2[s$2].height):n$2[s$2].height,width:r$2===exports.ScrollMode.Page?Math.max(t$2.width,n$2[s$2].width):n$2[s$2].width}:{height:r$2===exports.ScrollMode.Page?Math.max(t$2.height,n$2[s$2].height):n$2[s$2].height,width:Math.max(t$2.width/2,n$2[s$2].width)};r$2===exports.ScrollMode.Page?c$4=s$2===0?gt:{left:s$2%2==0?l$2.width:0,top:Math.floor((s$2-1)/2)*l$2.height+o$2[0].end.top}:s$2===0?(c$4=gt,a$3=n$2[0].height,i$2=0):s$2%2==1?(c$4={left:0,top:a$3+=i$2},i$2=s$2===e$2-1?n$2[s$2].height:Math.max(n$2[s$2].height,n$2[s$2+1].height)):c$4={left:o$2[s$2-1].end.left,top:a$3};var u$2={left:c$4.left+l$2.width,top:c$4.top+l$2.height};o$2[s$2]={index:s$2,start:c$4,size:l$2,end:u$2,visibility:-1}}return o$2}(r$1,y$2,c$3,s$1):u$1===exports.ViewMode.DualPage?function(e$2,t$2,n$2,r$2){for(var o$2=[],a$3=0,i$2=0,c$4=ft,s$2=0;s$2<e$2;s$2++){var l$2={height:r$2===exports.ScrollMode.Page?Math.max(t$2.height,n$2[s$2].height):n$2[s$2].height,width:Math.max(t$2.width/2,n$2[s$2].width)};r$2===exports.ScrollMode.Page?c$4={left:s$2%2==0?0:l$2.width,top:Math.floor(s$2/2)*l$2.height}:s$2%2==0?(c$4={left:0,top:a$3+=i$2},i$2=s$2===e$2-1?n$2[s$2].height:Math.max(n$2[s$2].height,n$2[s$2+1].height)):c$4={left:o$2[s$2-1].end.left,top:a$3};var u$2={left:c$4.left+l$2.width,top:c$4.top+l$2.height};o$2[s$2]={index:s$2,start:c$4,size:l$2,end:u$2,visibility:-1}}return o$2}(r$1,y$2,c$3,s$1):function(e$2,t$2,n$2,r$2){for(var o$2=[],a$3=0,i$2={left:0,top:0},c$4=0,s$2=dt,l$2=0;l$2<e$2;l$2++){var u$2=n$2[l$2];if(l$2===0)a$3=u$2.width,i$2={left:0,top:0},c$4=u$2.height;else switch(r$2){case exports.ScrollMode.Wrapped:(a$3+=u$2.width)<t$2.width?(s$2={left:o$2[l$2-1].end.left,top:i$2.top},c$4=Math.max(c$4,u$2.height)):(a$3=u$2.width,i$2={left:(s$2={left:i$2.left,top:i$2.top+c$4}).left,top:s$2.top},c$4=u$2.height);break;case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:s$2=o$2[l$2-1].end}var p$3={left:s$2.left+u$2.width,top:s$2.top+u$2.height};o$2[l$2]={index:l$2,start:s$2,size:u$2,end:p$3,visibility:-1}}return o$2}(r$1,y$2,c$3,s$1)}),[s$1,c$3,u$1,y$2]),T$1=C$2[r$1-1]?{height:C$2[r$1-1].end.top,width:C$2[r$1-1].end.left}:ht;S$1.current.measurements=C$2;var L$1=o.useMemo((function(){var e$2=function(e$3,t$3,n$3,r$2){var o$2=0;switch(e$3){case Ee.Horizontal:o$2=r$2.left;break;case Ee.Vertical:default:o$2=r$2.top}var a$4=t$3.length-1,i$2=function(e$4,t$4,n$4,r$3){for(;e$4<=t$4;){var o$3=(e$4+t$4)/2|0,a$5=r$3(o$3);if(a$5<n$4)e$4=o$3+1;else{if(!(a$5>n$4))return o$3;t$4=o$3-1}}return e$4>0?e$4-1:0}(0,a$4,o$2,(function(n$4){switch(e$3){case Ee.Horizontal:return t$3[n$4].start.left;case Ee.Both:case Ee.Vertical:default:return t$3[n$4].start.top}}));if(e$3===Ee.Both)for(var c$5=t$3[i$2].start.top;i$2-1>=0&&t$3[i$2-1].start.top===c$5&&t$3[i$2-1].start.left>=r$2.left;)i$2--;for(var s$3=i$2;s$3<=a$4;){var l$3={top:t$3[s$3].start.top-r$2.top,left:t$3[s$3].start.left-r$2.left},u$2={height:n$3.height-l$3.top,width:n$3.width-l$3.left};if(e$3===Ee.Horizontal&&u$2.width<0||e$3===Ee.Vertical&&u$2.height<0||e$3===Ee.Both&&(u$2.width<0||u$2.height<0))break;s$3++}return{start:i$2,end:s$3}}(x$1,C$2,y$2,E$2),t$2=e$2.start,n$2=e$2.end,a$3=t$2+R$1.slice(ut(0,r$1,t$2),ut(0,r$1,n$2)).reduce((function(e$3,t$3,n$3,r$2){return t$3>r$2[e$3]?n$3:e$3}),0),c$4=a$3=ut(0,r$1-1,a$3),s$2=i$1({endPage:n$2,numPages:r$1,startPage:t$2}),l$2=s$2.startPage,p$3=s$2.endPage;switch(l$2=Math.max(l$2,0),p$3=Math.min(p$3,r$1-1),u$1){case exports.ViewMode.DualPageWithCover:a$3>0&&(c$4=a$3%2==1?a$3:a$3-1),l$2=l$2===0?0:l$2%2==1?l$2:l$2-1,r$1-(p$3=p$3%2==1?p$3-1:p$3)<=2&&(p$3=r$1-1);break;case exports.ViewMode.DualPage:c$4=a$3%2==0?a$3:a$3-1,l$2=l$2%2==0?l$2:l$2-1,p$3=p$3%2==1?p$3:p$3-1;break;case exports.ViewMode.SinglePage:default:c$4=a$3}return{startPage:l$2,endPage:p$3,maxVisbilityIndex:c$4}}),[C$2,y$2,E$2,u$1,R$1]),O$1=L$1.startPage,F$1=L$1.endPage,D$1=L$1.maxVisbilityIndex,I$1=o.useMemo((function(){for(var e$2=[],t$2=function(t$3){var n$3=C$2[t$3],r$2=l$1(l$1({},n$3),{visibility:R$1[t$3]===void 0?-1:R$1[t$3],measureRef:function(e$3){e$3&&(e$3.setAttribute(xt,`${t$3}`),k$1.observe(e$3))}});e$2.push(r$2)},n$2=O$1;n$2<=F$1;n$2++)t$2(n$2);return e$2}),[O$1,F$1,R$1,C$2]),A$1=o.useCallback((function(e$2,n$2){var o$2=S$1.current.measurements[ut(0,r$1-1,e$2)],a$3=h$2.current===exports.ScrollMode.Page?mt:n$2;return o$2?b$2({left:a$3.left+o$2.start.left,top:a$3.top+o$2.start.top},t$1):Promise.resolve()}),[b$2,t$1]),H$1=o.useCallback((function(e$2,t$2){var n$2=S$1.current.measurements,r$2=n$2[e$2].start,o$2=n$2.find((function(e$3){return e$3.start.top-r$2.top>1e-12}));if(!o$2)return Promise.resolve();var a$3=o$2.index;switch(m$2.current){case exports.ViewMode.DualPage:a$3=a$3%2==0?a$3:a$3+1;break;case exports.ViewMode.DualPageWithCover:a$3=a$3%2==1?a$3:a$3+1}return A$1(a$3,t$2)}),[]),N$1=o.useCallback((function(e$2,t$2){for(var n$2=S$1.current.measurements,o$2=n$2[e$2].start,a$3=e$2,i$2=!1,c$4=r$1-1;c$4>=0;c$4--)if(o$2.top-n$2[c$4].start.top>1e-12){i$2=!0,a$3=n$2[c$4].index;break}if(!i$2)return Promise.resolve();switch(m$2.current){case exports.ViewMode.DualPage:a$3=a$3%2==0?a$3:a$3-1;break;case exports.ViewMode.DualPageWithCover:a$3=a$3%2==0?a$3-1:a$3}return a$3===e$2&&(a$3=e$2-1),A$1(a$3,t$2)}),[]),V$2=o.useCallback((function(e$2,t$2){if(m$2.current===exports.ViewMode.DualPageWithCover||m$2.current===exports.ViewMode.DualPage)return H$1(e$2,t$2);switch(h$2.current){case exports.ScrollMode.Wrapped:return H$1(e$2,t$2);case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:return A$1(e$2+1,t$2)}}),[]),z$2=o.useCallback((function(e$2,t$2){if(m$2.current===exports.ViewMode.DualPageWithCover||m$2.current===exports.ViewMode.DualPage)return N$1(e$2,t$2);switch(h$2.current){case exports.ScrollMode.Wrapped:return N$1(e$2,t$2);case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:return A$1(e$2-1,t$2)}}),[]),B$2=o.useCallback((function(){return function(e$2,t$2){switch(t$2){case exports.ScrollMode.Horizontal:return{position:`relative`,height:`100%`,width:`${e$2.width}px`};case exports.ScrollMode.Vertical:default:return{position:`relative`,height:`${e$2.height}px`,width:`100%`}}}(T$1,h$2.current)}),[T$1]),W$2=o.useCallback((function(e$2){return function(e$3,t$2,n$2){return n$2===exports.ScrollMode.Page?{height:`${t$2.height}px`,width:`100%`,position:`absolute`,top:0,transform:`translateY(${e$3.start.top}px)`}:{}}(e$2,y$2,h$2.current)}),[y$2]),j$1=o.useCallback((function(e$2){return function(e$3,t$2,n$2,r$2,o$2){var a$3,i$2,c$4,s$2,l$2,u$2,p$3,d$3=t$2?`right`:`left`,f$2=t$2?-1:1,g$2=n$2.length,v$2=e$3.start.left*f$2,h$3=e$3.size,m$3=h$3.height,x$2=h$3.width;if(r$2===exports.ViewMode.DualPageWithCover){var w$2=o$2===exports.ScrollMode.Page?0:e$3.start.top;return e$3.index===0||g$2%2==0&&e$3.index===g$2-1?((a$3={height:`${m$3}px`,minWidth:`${pt(n$2,r$2)}px`,width:`100%`})[d$3]=0,a$3.position=`absolute`,a$3.top=0,a$3.transform=`translate(${v$2}px, ${w$2}px)`,a$3):((i$2={height:`${m$3}px`,width:`${x$2}px`})[d$3]=0,i$2.position=`absolute`,i$2.top=0,i$2.transform=`translate(${v$2}px, ${w$2}px)`,i$2)}if(r$2===exports.ViewMode.DualPage)return(c$4={height:`${m$3}px`,width:`${x$2}px`})[d$3]=0,c$4.position=`absolute`,c$4.top=0,c$4.transform=`translate(${v$2}px, ${o$2===exports.ScrollMode.Page?0:e$3.start.top}px)`,c$4;switch(o$2){case exports.ScrollMode.Horizontal:return(s$2={height:`100%`,width:`${x$2}px`})[d$3]=0,s$2.position=`absolute`,s$2.top=0,s$2.transform=`translateX(${v$2}px)`,s$2;case exports.ScrollMode.Page:return(l$2={height:`${m$3}px`,width:`${x$2}px`})[d$3]=0,l$2.position=`absolute`,l$2.top=0,l$2;case exports.ScrollMode.Wrapped:return(u$2={height:`${m$3}px`,width:`${x$2}px`})[d$3]=0,u$2.position=`absolute`,u$2.top=0,u$2.transform=`translate(${v$2}px, ${e$3.start.top}px)`,u$2;case exports.ScrollMode.Vertical:default:return(p$3={height:`${m$3}px`,width:`100%`})[d$3]=0,p$3.position=`absolute`,p$3.top=0,p$3.transform=`translateY(${e$3.start.top}px)`,p$3}}(e$2,n$1,c$3,m$2.current,h$2.current)}),[n$1,c$3]),q$1=o.useCallback((function(e$2,t$2){var n$2=S$1.current,o$2=n$2.measurements,a$3=n$2.scrollOffset,i$2=o$2[ut(0,r$1-1,t$2)];return i$2?b$2(h$2.current===exports.ScrollMode.Page?{left:i$2.start.left,top:i$2.start.top}:{left:a$3.left*e$2,top:a$3.top*e$2},!1):Promise.resolve()}),[]);return o.useEffect((function(){return function(){k$1.disconnect()}}),[]),{boundingClientRect:y$2,isSmoothScrolling:d$2,startPage:O$1,endPage:F$1,maxVisbilityIndex:D$1,virtualItems:I$1,getContainerStyles:B$2,getItemContainerStyles:W$2,getItemStyles:j$1,scrollToItem:A$1,scrollToNextItem:V$2,scrollToPreviousItem:z$2,zoom:q$1}},bt=function(e$1,t$1,n$1,r$1,o$2,a$2){var i$1=n$1;switch(!0){case o$2===exports.ViewMode.DualPageWithCover&&a$2>=3:case o$2===exports.ViewMode.DualPage&&a$2>=3:i$1=2*n$1;break;default:i$1=n$1}switch(r$1){case exports.SpecialZoomLevel.ActualSize:return 1;case exports.SpecialZoomLevel.PageFit:return Math.min((e$1.clientWidth-17)/i$1,(e$1.clientHeight-16)/t$1);case exports.SpecialZoomLevel.PageWidth:return(e$1.clientWidth-17)/i$1}},yt=function(e$1){var t$1,n$1,r$1=e$1.getCurrentPage,a$2=(t$1=50,n$1=o.useRef([]),o.useEffect((function(){return function(){n$1.current=[]}}),[]),{push:function(e$2){var r$2=n$1.current;r$2.length+1>t$1&&r$2.shift(),r$2.push(e$2),n$1.current=r$2},map:function(e$2){return n$1.current.map((function(t$2){return e$2(t$2)}))},pop:function(){var e$2=n$1.current;if(e$2.length===0)return null;var t$2=e$2.pop();return n$1.current=e$2,t$2}}),i$1=function(e$2){var t$2=o.useRef([]);return o.useEffect((function(){return function(){t$2.current=[]}}),[]),{dequeue:function(){var e$3=t$2.current;if(e$3.length===0)return null;var n$2=e$3.shift();return t$2.current=e$3,n$2||null},enqueue:function(n$2){var r$2=t$2.current;r$2.length+1>e$2&&r$2.pop(),t$2.current=[n$2].concat(r$2)},map:function(e$3){return t$2.current.map((function(t$3){return e$3(t$3)}))}}}(50),c$3=function(){var e$2=i$1.dequeue();return e$2&&a$2.push(e$2),e$2&&e$2.pageIndex===r$1()?c$3():e$2},s$1=function(){var e$2=a$2.pop();return e$2&&i$1.enqueue(e$2),e$2&&e$2.pageIndex===r$1()?s$1():e$2};return{getNextDestination:c$3,getPreviousDestination:s$1,markVisitedDestination:o.useCallback((function(e$2){a$2.push(e$2)}),[])}},St=function(e$1){var t$1=[];return e$1.map((function(e$2){t$1=t$1.concat(e$2).concat(function(e$3){var t$2=[];return e$3.items&&e$3.items.length>0&&(t$2=t$2.concat(St(e$3.items))),t$2}(e$2))})),t$1},_t={capture:!1,passive:!0},Pt={height:0,width:0},Rt={height:0,width:0},Mt=function(e$1){var t$1=e$1.getCurrentPage,n$1=e$1.getCurrentScrollMode,r$1=e$1.jumpToPage,a$2=e$1.targetRef,i$1=o.useState(exports.FullScreenMode.Normal),c$3=i$1[0],s$1=i$1[1],l$2=function(){var e$2=o.useState(Pt),t$2=e$2[0],n$2=e$2[1],r$2=C$1((function(){n$2({height:window.innerHeight,width:window.innerWidth})}),100);return f$1((function(){return window.addEventListener(`resize`,r$2,_t),function(){window.removeEventListener(`resize`,r$2,_t)}}),[]),t$2}(),u$1=o.useState(Rt),p$2=u$1[0],d$2=u$1[1],g$1=o.useRef(Rt),v$1=o.useRef(t$1()),h$2=o.useRef(Rt),m$2=o.useState(a$2.current),x$1=m$2[0],w$1=m$2[1],E$2=o.useRef();f$1((function(){a$2.current!==x$1&&w$1(a$2.current)}),[]),f$1((function(){if(x$1){var e$2=new ResizeObserver((function(e$3){e$3.forEach((function(e$4){var t$2=e$4.target.getBoundingClientRect(),n$2=t$2.height,r$2=t$2.width;d$2({height:n$2,width:r$2})}))}));return e$2.observe(x$1),function(){e$2.unobserve(x$1),e$2.disconnect()}}}),[x$1]);var b$2=o.useCallback((function(e$2){var t$2=k();return t$2&&t$2!==e$2?(s$1(exports.FullScreenMode.Normal),M(t$2)):Promise.resolve()}),[]),y$2=o.useCallback((function(e$2){e$2&&R()&&(w$1(e$2),b$2(e$2).then((function(){E$2.current=e$2,s$1(exports.FullScreenMode.Entering),function(e$3){_&&e$3[P.RequestFullScreen]()}(e$2)})))}),[]),S$1=o.useCallback((function(){k()&&(s$1(exports.FullScreenMode.Exitting),M(document))}),[]),T$1=o.useCallback((function(){x$1&&k()!==x$1&&s$1(exports.FullScreenMode.Exitting)}),[x$1]);return o.useEffect((function(){switch(c$3){case exports.FullScreenMode.Entering:E$2.current&&(E$2.current.style.backgroundColor=`var(--rpv-core__full-screen-target-background-color)`),v$1.current=t$1(),g$1.current={height:window.innerHeight,width:window.innerWidth};break;case exports.FullScreenMode.Entered:n$1()===exports.ScrollMode.Page?r$1(v$1.current).then((function(){s$1(exports.FullScreenMode.EnteredCompletely)})):s$1(exports.FullScreenMode.EnteredCompletely);break;case exports.FullScreenMode.Exitting:E$2.current&&=(E$2.current.style.backgroundColor=``,null),v$1.current=t$1();break;case exports.FullScreenMode.Exited:s$1(exports.FullScreenMode.Normal),n$1()===exports.ScrollMode.Page&&r$1(v$1.current)}}),[c$3]),o.useEffect((function(){if(c$3!==exports.FullScreenMode.Normal)return c$3===exports.FullScreenMode.Entering&&l$2.height===p$2.height&&l$2.width===p$2.width&&l$2.height>0&&l$2.width>0&&(h$2.current.height===0||l$2.height==h$2.current.height)?(h$2.current={height:window.innerHeight,width:window.innerWidth},void s$1(exports.FullScreenMode.Entered)):void(c$3===exports.FullScreenMode.Exitting&&g$1.current.height===l$2.height&&g$1.current.width===l$2.width&&l$2.height>0&&l$2.width>0&&s$1(exports.FullScreenMode.Exited))}),[c$3,l$2,p$2]),o.useEffect((function(){var e$2;return e$2=T$1,_&&document.addEventListener(P.FullScreenChange,e$2),function(){(function(e$3){_&&document.removeEventListener(P.FullScreenChange,e$3)})(T$1)}}),[x$1]),{enterFullScreenMode:y$2,exitFullScreenMode:S$1,fullScreenMode:c$3}},kt={buildPageStyles:function(){return{}},transformSize:function(e$1){return e$1.size}},Ct={left:0,top:0},Tt=function(e$1){var t$1=e$1.currentFile,n$1=e$1.defaultScale,r$1=e$1.doc,a$2=e$1.enableSmoothScroll,i$1=e$1.initialPage,c$3=e$1.initialRotation,s$1=e$1.initialScale,u$1=e$1.pageLayout,g$1=e$1.pageSizes,v$1=e$1.plugins,h$2=e$1.renderPage,m$2=e$1.scrollMode,x$1=e$1.setRenderRange,w$1=e$1.viewMode,E$2=e$1.viewerState,b$2=e$1.onDocumentLoad,y$2=e$1.onOpenFile,S$1=e$1.onPageChange,_$1=e$1.onRotate,P$1=e$1.onRotatePage,R$1=e$1.onZoom,M$1=r$1.numPages,k$1=r$1.loadingTask.docId,O$1=o.useContext(A).l10n,F$1=o.useContext(p$1),I$1=F$1.direction===exports.TextDirection.RightToLeft,H$1=o.useRef(),N$1=o.useRef(),V$2=o.useState(i$1),z$2=V$2[0],B$2=V$2[1],W$2=o.useRef(null),j$1=yt({getCurrentPage:function(){return me$1.current.pageIndex}}),q$1=o.useState(c$3),U$2=q$1[0],Z$1=q$1[1],J$2=L(U$2),G$1=o.useState(!1),Y$1=G$1[0],K$1=G$1[1],X$1=o.useState(new Map),Q$2=X$1[0],$$1=X$1[1],ee$1=o.useState(m$2),te$1=ee$1[0],ne$1=ee$1[1],re$1=L(te$1),oe$1=o.useState(w$1),ae$1=oe$1[0],ce$1=oe$1[1],ue$1=L(ae$1),pe$1=function(e$2){var t$2=T(),n$2=o.useState([]),r$2=n$2[0],a$3=n$2[1];return o.useEffect((function(){e$2.getOutline().then((function(e$3){t$2.current&&e$3!==null&&a$3(St(e$3))}))}),[]),r$2}(r$1),fe$1=o.useState(s$1),ge$1=fe$1[0],ve$1=fe$1[1],he$1=L(ge$1),me$1=o.useRef(E$2),xe$1=o.useRef(typeof n$1==`string`?n$1:null),we$1=o.useRef(-1),Ee$1=o.useRef(-1),be$1=o.useRef(i$1),ye$1=Mt({getCurrentPage:function(){return me$1.current.pageIndex},getCurrentScrollMode:function(){return me$1.current.scrollMode},jumpToPage:function(e$2){return je$1(e$2)},targetRef:N$1}),Se$1=o.useState(-1),_e$1=Se$1[0],Pe$1=Se$1[1],Re$1=o.useState(0),Me$1=Re$1[0],ke$1=Re$1[1],Ce$1=D({doc:r$1});o.useEffect((function(){return function(){se.clear(),le.clear()}}),[k$1]);var Te$1=o.useMemo((function(){return Object.assign({},kt,u$1)}),[]),Oe$1=Et({enableSmoothScroll:a$2,isRtl:I$1,numberOfItems:M$1,parentRef:N$1,scrollMode:te$1,setRenderRange:x$1,sizes:o.useMemo((function(){return Array(M$1).fill(0).map((function(e$2,t$2){var n$2=[g$1[t$2].pageHeight,g$1[t$2].pageWidth],r$2=Math.abs(U$2)%180==0?{height:n$2[0],width:n$2[1]}:{height:n$2[1],width:n$2[0]},o$2={height:r$2.height*ge$1,width:r$2.width*ge$1};return Te$1.transformSize({numPages:M$1,pageIndex:t$2,size:o$2})}))}),[U$2,ge$1]),viewMode:ae$1});(function(e$2){var t$2=e$2.targetRef,n$2=e$2.onResize;f$1((function(){var e$3=new ResizeObserver((function(e$4){e$4.forEach((function(e$5){n$2(e$5.target)}))})),r$2=t$2.current;if(r$2)return e$3.observe(r$2),function(){e$3.unobserve(r$2)}}),[])})({targetRef:N$1,onResize:C$1((function(){!xe$1.current||me$1.current.fullScreenMode!==exports.FullScreenMode.Normal||i$1>0&&be$1.current===i$1||Ke$1(xe$1.current)}),200)});var De$1=function(e$2){var t$2=e$2;v$1.forEach((function(e$3){e$3.onViewerStateChange&&(t$2=e$3.onViewerStateChange(t$2))})),me$1.current=t$2},Ie$1=function(){return N$1.current},Ae$1=function(){return me$1.current},He$1=o.useCallback((function(e$2){j$1.markVisitedDestination(e$2)}),[]),Ne$1=o.useCallback((function(e$2){var t$2=e$2.pageIndex,n$2=e$2.bottomOffset,o$2=e$2.leftOffset,a$3=e$2.scaleTo,i$2=N$1.current,c$4=me$1.current;return i$2&&c$4?new Promise((function(e$3,s$2){de(r$1,t$2).then((function(r$2){var s$3=r$2.getViewport({scale:1}),l$2=0,u$2=(typeof n$2==`function`?n$2(s$3.width,s$3.height):n$2)||0,p$2=(typeof o$2==`function`?o$2(s$3.width,s$3.height):o$2)||0,d$2=c$4.scale;switch(a$3){case exports.SpecialZoomLevel.PageFit:l$2=0,p$2=0,Ke$1(exports.SpecialZoomLevel.PageFit);break;case exports.SpecialZoomLevel.PageWidth:d$2=bt(i$2,g$1[t$2].pageHeight,g$1[t$2].pageWidth,exports.SpecialZoomLevel.PageWidth,w$1,M$1),l$2=(s$3.height-u$2)*d$2,p$2*=d$2,Ke$1(d$2);break;default:l$2=(s$3.height-u$2)*d$2,p$2*=d$2}switch(c$4.scrollMode){case exports.ScrollMode.Horizontal:Oe$1.scrollToItem(t$2,{left:p$2,top:0}).then((function(){e$3()}));break;case exports.ScrollMode.Vertical:default:Oe$1.scrollToItem(t$2,{left:0,top:l$2}).then((function(){e$3()}))}}))})):Promise.resolve()}),[]),Ve$1=o.useCallback((function(e$2){return j$1.markVisitedDestination(e$2),Ne$1(e$2)}),[]),ze$1=o.useCallback((function(){var e$2=j$1.getNextDestination();return e$2?Ne$1(e$2):Promise.resolve()}),[]),Be$1=o.useCallback((function(){var e$2=j$1.getPreviousDestination();return e$2?Ne$1(e$2):Promise.resolve()}),[]),We$1=o.useCallback((function(){return Oe$1.scrollToNextItem(me$1.current.pageIndex,Ct)}),[]),je$1=o.useCallback((function(e$2){return 0<=e$2&&e$2<M$1?Oe$1.scrollToItem(e$2,Ct):Promise.resolve()}),[]),qe$1=o.useCallback((function(){return Oe$1.scrollToPreviousItem(me$1.current.pageIndex,Ct)}),[]),Ue$1=o.useCallback((function(e$2){var t$2,n$2;(t$2=e$2.name,n$2=t$2.split(/\./).pop(),n$2?n$2.toLowerCase():``).toLowerCase()===`pdf`&&new Promise((function(t$3){var n$3=new FileReader;n$3.readAsArrayBuffer(e$2),n$3.onload=function(){t$3(new Uint8Array(n$3.result))}})).then((function(t$3){y$2(e$2.name,t$3)}))}),[y$2]),Ze$1=o.useCallback((function(e$2){var t$2=e$2===exports.RotateDirection.Backward?-90:90,n$2=me$1.current.rotation,o$2=n$2===360||n$2===-360?t$2:n$2+t$2;Ce$1.markNotRendered(),Z$1(o$2),De$1(l$1(l$1({},me$1.current),{rotation:o$2})),_$1({direction:e$2,doc:r$1,rotation:o$2})}),[]),Je$1=o.useCallback((function(e$2,t$2){var n$2=t$2===exports.RotateDirection.Backward?-90:90,o$2=me$1.current.pagesRotation,a$3=(o$2.has(e$2)?o$2.get(e$2):c$3)+n$2,i$2=o$2.set(e$2,a$3);$$1(i$2),K$1((function(e$3){return!e$3})),De$1(l$1(l$1({},me$1.current),{pagesRotation:i$2,rotatedPage:e$2})),P$1({direction:t$2,doc:r$1,pageIndex:e$2,rotation:a$3}),Ce$1.markRendering(e$2),Pe$1(e$2)}),[]),Ge$1=o.useCallback((function(e$2){De$1(l$1(l$1({},me$1.current),{scrollMode:e$2})),ne$1(e$2)}),[]),Ye$1=o.useCallback((function(e$2){De$1(l$1(l$1({},me$1.current),{viewMode:e$2})),ce$1(e$2)}),[]),Ke$1=o.useCallback((function(e$2){var t$2=N$1.current,n$2=me$1.current.pageIndex;if(!(n$2<0||n$2>=M$1)){var o$2=g$1[n$2].pageHeight,a$3=g$1[n$2].pageWidth,i$2=t$2?typeof e$2==`string`?bt(t$2,o$2,a$3,e$2,me$1.current.viewMode,M$1):e$2:1;xe$1.current=typeof e$2==`string`?e$2:null,i$2!==me$1.current.scale&&(ke$1((function(e$3){return e$3+1})),Ce$1.markNotRendered(),ve$1(i$2),R$1({doc:r$1,scale:i$2}),De$1(l$1(l$1({},me$1.current),{scale:i$2})))}}),[]),Xe$1=o.useCallback((function(e$2){ye$1.enterFullScreenMode(e$2)}),[]),Qe$1=o.useCallback((function(){ye$1.exitFullScreenMode()}),[]);o.useEffect((function(){De$1(l$1(l$1({},me$1.current),{fullScreenMode:ye$1.fullScreenMode}))}),[ye$1.fullScreenMode]),o.useEffect((function(){var e$2={enterFullScreenMode:Xe$1,exitFullScreenMode:Qe$1,getPagesContainer:Ie$1,getViewerState:Ae$1,jumpToDestination:Ve$1,jumpToNextDestination:ze$1,jumpToPreviousDestination:Be$1,jumpToNextPage:We$1,jumpToPreviousPage:qe$1,jumpToPage:je$1,openFile:Ue$1,rotate:Ze$1,rotatePage:Je$1,setViewerState:De$1,switchScrollMode:Ge$1,switchViewMode:Ye$1,zoom:Ke$1};return v$1.forEach((function(t$2){t$2.install&&t$2.install(e$2)})),function(){v$1.forEach((function(t$2){t$2.uninstall&&t$2.uninstall(e$2)}))}}),[k$1]),o.useEffect((function(){b$2({doc:r$1,file:t$1}),v$1.forEach((function(e$2){e$2.onDocumentLoad&&e$2.onDocumentLoad({doc:r$1,file:t$1})}))}),[k$1]);var $e$1,et$1,tt$2,nt$2=Oe$1.boundingClientRect;$e$1=function(){i$1&&je$1(i$1)},et$1=nt$2.height>0&&nt$2.width>0,tt$2=o.useRef(!1),f$1((function(){et$1&&!tt$2.current&&(tt$2.current=!0,$e$1())}),[$e$1,et$1]),f$1((function(){var e$2=me$1.current.pageIndex;e$2>-1&&re$1!==te$1&&Oe$1.scrollToItem(e$2,Ct).then((function(){ye$1.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&(a$2||Ce$1.markNotRendered(),we$1.current=-1)}))}),[te$1]),f$1((function(){var e$2=me$1.current.pageIndex;e$2>-1&&J$2!==U$2&&Oe$1.scrollToItem(e$2,Ct)}),[U$2]),f$1((function(){he$1!=0&&he$1!=me$1.current.scale&&Oe$1.zoom(me$1.current.scale/he$1,me$1.current.pageIndex).then((function(){ye$1.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&(Ee$1.current=-1)}))}),[ge$1]),f$1((function(){if(ue$1!==me$1.current.viewMode){var e$2=Oe$1.startPage,t$2=Oe$1.endPage,n$2=Oe$1.virtualItems;Ce$1.markNotRendered(),Ce$1.setRange(e$2,t$2);for(var r$2=function(e$3){var t$3=n$2.find((function(t$4){return t$4.index===e$3}));t$3&&Ce$1.setVisibility(e$3,t$3.visibility)},o$2=e$2;o$2<=t$2;o$2++)r$2(o$2);at$1()}}),[ae$1]),f$1((function(){var e$2=me$1.current.pageIndex;e$2>-1&&ue$1!==ae$1&&Oe$1.scrollToItem(e$2,Ct)}),[ae$1]),f$1((function(){var e$2=me$1.current.pageIndex;e$2>0&&e$2===i$1&&be$1.current===i$1&&xe$1.current&&(be$1.current=-1,Ke$1(xe$1.current))}),[z$2]),o.useEffect((function(){Oe$1.isSmoothScrolling||W$2.current!==null&&W$2.current===z$2||(W$2.current=z$2,S$1({currentPage:z$2,doc:r$1}))}),[z$2,Oe$1.isSmoothScrolling]),o.useEffect((function(){ye$1.fullScreenMode===exports.FullScreenMode.Entering&&me$1.current.scrollMode===exports.ScrollMode.Page&&(we$1.current=me$1.current.pageIndex),ye$1.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&me$1.current.scrollMode===exports.ScrollMode.Page&&a$2&&(we$1.current=-1),ye$1.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&xe$1.current&&(Ee$1.current=me$1.current.pageIndex,Ke$1(xe$1.current))}),[ye$1.fullScreenMode]),o.useEffect((function(){if(ye$1.fullScreenMode!==exports.FullScreenMode.Entering&&ye$1.fullScreenMode!==exports.FullScreenMode.Exitting&&!Oe$1.isSmoothScrolling){var e$2=Oe$1.startPage,t$2=Oe$1.endPage,n$2=Oe$1.maxVisbilityIndex,r$2=Oe$1.virtualItems,o$2=n$2,a$3=ye$1.fullScreenMode===exports.FullScreenMode.Entered||ye$1.fullScreenMode===exports.FullScreenMode.EnteredCompletely;if(!(a$3&&o$2!==we$1.current&&we$1.current>-1||a$3&&o$2!==Ee$1.current&&Ee$1.current>-1)){B$2(o$2),De$1(l$1(l$1({},me$1.current),{pageIndex:o$2})),Ce$1.setRange(e$2,t$2);for(var i$2=function(e$3){var t$3=r$2.find((function(t$4){return t$4.index===e$3}));t$3&&Ce$1.setVisibility(e$3,t$3.visibility)},c$4=e$2;c$4<=t$2;c$4++)i$2(c$4);at$1()}}}),[Oe$1.startPage,Oe$1.endPage,Oe$1.isSmoothScrolling,Oe$1.maxVisbilityIndex,ye$1.fullScreenMode,Y$1,U$2,ge$1]);var ot$1=o.useCallback((function(e$2){Ce$1.markRendered(e$2),at$1()}),[Me$1]),at$1=function(){var e$2=Ce$1.getHighestPriorityPage();e$2>-1&&Ce$1.isInRange(e$2)&&(Ce$1.markRendering(e$2),Pe$1(e$2))},it$1=function(e$2){var t$2=z$2-1,n$2=z$2+1;switch(e$2){case`FirstPage`:je$1(0);break;case`LastPage`:je$1(M$1-1);break;case`NextPage`:n$2<M$1&&je$1(n$2);break;case`PrevPage`:t$2>=0&&je$1(t$2)}},ct$1=o.useCallback((function(){var e$2=Oe$1.virtualItems,t$2=[];switch(ae$1){case exports.ViewMode.DualPage:t$2=ie(e$2,2);break;case exports.ViewMode.DualPageWithCover:e$2.length&&(t$2=e$2[0].index===0?[[e$2[0]]].concat(ie(e$2.slice(1),2)):ie(e$2,2));break;case exports.ViewMode.SinglePage:default:t$2=ie(e$2,1)}var n$2=O$1&&O$1.core?O$1.core.pageLabel:`Page {{pageIndex}}`,a$3={attrs:{className:`rpv-core__inner-container`,"data-testid":`core__inner-container`,ref:H$1,style:{height:`100%`}},children:o.createElement(o.Fragment,null),subSlot:{attrs:{"data-testid":`core__inner-pages`,className:d$1({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":te$1===exports.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":I$1,"rpv-core__inner-pages--single":te$1===exports.ScrollMode.Page,"rpv-core__inner-pages--vertical":te$1===exports.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":te$1===exports.ScrollMode.Wrapped}),ref:N$1,style:{height:`100%`,position:`relative`}},children:o.createElement(`div`,{"data-testid":`core__inner-current-page-${z$2}`,style:Object.assign({"--scale-factor":ge$1},Oe$1.getContainerStyles())},t$2.map((function(e$3){return o.createElement(`div`,{className:d$1({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":te$1===exports.ScrollMode.Page}),style:Oe$1.getItemContainerStyles(e$3[0]),key:`${e$3[0].index}-${ae$1}`},e$3.map((function(e$4){var t$3=ae$1===exports.ViewMode.DualPageWithCover&&(e$4.index===0||M$1%2==0&&e$4.index===M$1-1);return o.createElement(`div`,{"aria-label":n$2.replace(`{{pageIndex}}`,`${e$4.index+1}`),className:d$1({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ae$1===exports.ViewMode.DualPage&&e$4.index%2==0,"rpv-core__inner-page--dual-odd":ae$1===exports.ViewMode.DualPage&&e$4.index%2==1,"rpv-core__inner-page--dual-cover":t$3,"rpv-core__inner-page--dual-cover-even":ae$1===exports.ViewMode.DualPageWithCover&&!t$3&&e$4.index%2==0,"rpv-core__inner-page--dual-cover-odd":ae$1===exports.ViewMode.DualPageWithCover&&!t$3&&e$4.index%2==1,"rpv-core__inner-page--single":ae$1===exports.ViewMode.SinglePage&&te$1===exports.ScrollMode.Page}),role:`region`,key:`${e$4.index}-${ae$1}`,style:Object.assign({},Oe$1.getItemStyles(e$4),Te$1.buildPageStyles({numPages:M$1,pageIndex:e$4.index,scrollMode:te$1,viewMode:ae$1}))},o.createElement(rt,{doc:r$1,measureRef:e$4.measureRef,outlines:pe$1,pageIndex:e$4.index,pageRotation:Q$2.has(e$4.index)?Q$2.get(e$4.index):0,pageSize:g$1[e$4.index],plugins:v$1,renderPage:h$2,renderQueueKey:Me$1,rotation:U$2,scale:ge$1,shouldRender:_e$1===e$4.index,viewMode:ae$1,onExecuteNamedAction:it$1,onJumpFromLinkAnnotation:He$1,onJumpToDest:Ve$1,onRenderCompleted:ot$1,onRotatePage:Je$1}))})))})))}};return v$1.forEach((function(e$3){e$3.renderViewer&&(a$3=e$3.renderViewer({containerRef:H$1,doc:r$1,pagesContainerRef:N$1,pagesRotation:Q$2,pageSizes:g$1,rotation:U$2,slot:a$3,themeContext:F$1,jumpToPage:je$1,openFile:Ue$1,rotate:Ze$1,rotatePage:Je$1,switchScrollMode:Ge$1,switchViewMode:Ye$1,zoom:Ke$1}))})),a$3}),[v$1,Oe$1]),st$1=o.useCallback((function(e$2){return o.createElement(`div`,l$1({},e$2.attrs,{style:e$2.attrs&&e$2.attrs.style?e$2.attrs.style:{}}),e$2.children,e$2.subSlot&&st$1(e$2.subSlot))}),[]);return st$1(ct$1())},Lt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ot=function(e$1){var t$1=e$1.defaultScale,n$1=e$1.doc,r$1=e$1.render,a$2=e$1.scrollMode,i$1=e$1.viewMode,c$3=o.useRef(),s$1=o.useState({pageSizes:[],scale:0}),l$2=s$1[0],u$1=s$1[1];return o.useLayoutEffect((function(){var e$2=Array(n$1.numPages).fill(0).map((function(e$3,t$2){return new Promise((function(e$4,r$2){de(n$1,t$2).then((function(t$3){var n$2=t$3.getViewport({scale:1});e$4({pageHeight:n$2.height,pageWidth:n$2.width,rotation:n$2.rotation})}))}))}));Promise.all(e$2).then((function(e$3){var r$2=c$3.current;if(r$2&&e$3.length!==0){var o$2=e$3[0].pageWidth,s$2=e$3[0].pageHeight,l$3=r$2.parentElement,p$2=(l$3.clientWidth-45)/o$2,d$2=(l$3.clientHeight-45)/s$2,f$2=p$2;switch(a$2){case exports.ScrollMode.Horizontal:f$2=Math.min(p$2,d$2);break;case exports.ScrollMode.Vertical:default:f$2=p$2}var g$1,v$1;u$1({pageSizes:e$3,scale:t$1?typeof t$1==`string`?bt(l$3,s$2,o$2,t$1,i$1,n$1.numPages):t$1:(g$1=f$2,(v$1=Lt.findIndex((function(e$4){return e$4>=g$1})))===-1||v$1===0?g$1:Lt[v$1-1])})}}))}),[n$1.loadingTask.docId]),l$2.pageSizes.length===0||l$2.scale===0?o.createElement(`div`,{className:`rpv-core__page-size-calculator`,"data-testid":`core__page-size-calculating`,ref:c$3},o.createElement(x,null)):r$1(l$2.pageSizes,l$2.scale)},Ft=function(){},Dt=function(e$1){function t$1(t$2,n$1){var r$1=e$1.call(this)||this;return r$1.verifyPassword=t$2,r$1.passwordStatus=n$1,r$1}return c$1(t$1,e$1),t$1}(Ft),It=function(e$1){var t$1=e$1.passwordStatus,n$1=e$1.renderProtectedView,r$1=e$1.verifyPassword,a$2=e$1.onDocumentAskPassword,i$1=o.useContext(A).l10n,c$3=o.useState(``),s$1=c$3[0],l$2=c$3[1],u$1=o.useContext(p$1).direction===exports.TextDirection.RightToLeft,f$2=function(){return r$1(s$1)};return o.useEffect((function(){a$2&&a$2({verifyPassword:r$1})}),[]),n$1?n$1({passwordStatus:t$1,verifyPassword:r$1}):o.createElement(`div`,{className:`rpv-core__asking-password-wrapper`},o.createElement(`div`,{className:d$1({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":u$1})},o.createElement(`div`,{className:`rpv-core__asking-password-message`},t$1===exports.PasswordStatus.RequiredPassword&&i$1.core.askingPassword.requirePasswordToOpen,t$1===exports.PasswordStatus.WrongPassword&&i$1.core.wrongPassword.tryAgain),o.createElement(`div`,{className:`rpv-core__asking-password-body`},o.createElement(`div`,{className:d$1({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!u$1,"rpv-core__asking-password-input--rtl":u$1})},o.createElement(w,{testId:`core__asking-password-input`,type:`password`,value:s$1,onChange:l$2,onKeyDown:function(e$2){e$2.key===`Enter`&&f$2()}})),o.createElement(m$1,{onClick:f$2},i$1.core.askingPassword.submit))))},At=function(e$1){function t$1(t$2){var n$1=e$1.call(this)||this;return n$1.doc=t$2,n$1}return c$1(t$1,e$1),t$1}(Ft),Ht=function(e$1){function t$1(t$2){var n$1=e$1.call(this)||this;return n$1.error=t$2,n$1}return c$1(t$1,e$1),t$1}(Ft),Nt=function(e$1){function t$1(t$2){var n$1=e$1.call(this)||this;return n$1.percentages=t$2,n$1}return c$1(t$1,e$1),t$1}(Ft),Vt=function(e$1){var t$1=e$1.characterMap,n$1=e$1.file,r$1=e$1.httpHeaders,i$1=e$1.render,c$3=e$1.renderError,s$1=e$1.renderLoader,l$2=e$1.renderProtectedView,u$1=e$1.transformGetDocumentParams,f$2=e$1.withCredentials,g$1=e$1.onDocumentAskPassword,v$1=o.useContext(p$1).direction===exports.TextDirection.RightToLeft,h$2=o.useState(new Nt(0)),m$2=h$2[0],w$1=h$2[1],E$2=o.useRef(``),b$2=T();return o.useEffect((function(){E$2.current=``,w$1(new Nt(0));var e$2=new a.PDFWorker({name:`PDFWorker_${Date.now()}`}),o$2=Object.assign({httpHeaders:r$1,withCredentials:f$2,worker:e$2},typeof n$1==`string`?{url:n$1}:{data:n$1},t$1?{cMapUrl:t$1.url,cMapPacked:t$1.isCompressed}:{}),i$2=u$1?u$1(o$2):o$2,c$4=a.getDocument(i$2);return c$4.onPassword=function(e$3,t$2){switch(t$2){case a.PasswordResponses.NEED_PASSWORD:b$2.current&&w$1(new Dt(e$3,exports.PasswordStatus.RequiredPassword));break;case a.PasswordResponses.INCORRECT_PASSWORD:b$2.current&&w$1(new Dt(e$3,exports.PasswordStatus.WrongPassword))}},c$4.onProgress=function(e$3){var t$2=e$3.total>0?Math.min(100,100*e$3.loaded/e$3.total):100;b$2.current&&E$2.current===``&&w$1(new Nt(t$2))},c$4.promise.then((function(e$3){E$2.current=e$3.loadingTask.docId,b$2.current&&w$1(new At(e$3))}),(function(t$2){return b$2.current&&!e$2.destroyed&&w$1(new Ht({message:t$2.message||`Cannot load document`,name:t$2.name}))})),function(){c$4.destroy(),e$2.destroy()}}),[n$1]),m$2 instanceof Dt?o.createElement(It,{passwordStatus:m$2.passwordStatus,renderProtectedView:l$2,verifyPassword:m$2.verifyPassword,onDocumentAskPassword:g$1}):m$2 instanceof At?i$1(m$2.doc):m$2 instanceof Ht?c$3?c$3(m$2.error):o.createElement(`div`,{className:d$1({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":v$1})},o.createElement(`div`,{className:`rpv-core__doc-error-text`},m$2.error.message)):o.createElement(`div`,{"data-testid":`core__doc-loading`,className:d$1({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":v$1})},s$1?s$1(m$2.percentages):o.createElement(x,null))},zt=function(e$1,t$1){var n$1=o.useMemo((function(){return e$1===`auto`?typeof window<`u`&&window.matchMedia&&window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`:e$1}),[]),r$1=o.useState(n$1),a$2=r$1[0],i$1=r$1[1],c$3=L(a$2);return o.useEffect((function(){if(e$1===`auto`){var t$2=window.matchMedia(`(prefers-color-scheme: dark)`),n$2=function(e$2){i$1(e$2.matches?`dark`:`light`)};return t$2.addEventListener(`change`,n$2),function(){return t$2.removeEventListener(`change`,n$2)}}}),[]),o.useEffect((function(){a$2!==c$3&&t$1&&t$1(a$2)}),[a$2]),o.useEffect((function(){e$1!==a$2&&i$1(e$1)}),[e$1]),{currentTheme:a$2,setCurrentTheme:i$1}},Bt=function(e$1){return{startPage:e$1.startPage-3,endPage:e$1.endPage+3}};exports.Button=function(e$1){var t$1=e$1.children,n$1=e$1.testId,r$1=e$1.onClick,a$2=o.useContext(p$1).direction===exports.TextDirection.RightToLeft,i$1=n$1?{"data-testid":n$1}:{};return o.createElement(`button`,l$1({className:d$1({"rpv-core__button":!0,"rpv-core__button--rtl":a$2}),type:`button`,onClick:r$1},i$1),t$1)},exports.Icon=v,exports.LazyRender=function(e$1){var t$1=e$1.attrs,n$1=e$1.children,r$1=e$1.testId,a$2=o.useState(!1),i$1=a$2[0],c$3=a$2[1],s$1=r$1?l$1(l$1({},t$1),{"data-testid":r$1}):t$1,u$1=g({once:!0,onVisibilityChanged:function(e$2){e$2.isVisible&&c$3(!0)}});return o.createElement(`div`,l$1({ref:u$1},s$1),i$1&&n$1)},exports.LocalizationContext=A,exports.Menu=function(e$1){var t$1=e$1.children,n$1=o.useRef(),r$1=o.useRef([]),a$2=o.useContext(p$1).direction===exports.TextDirection.RightToLeft,i$1=function(e$2){if(n$1.current)switch(e$2.key){case`Tab`:e$2.preventDefault();break;case`ArrowDown`:e$2.preventDefault(),c$3((function(e$3,t$2){return t$2+1}));break;case`ArrowUp`:e$2.preventDefault(),c$3((function(e$3,t$2){return t$2-1}));break;case`End`:e$2.preventDefault(),c$3((function(e$3,t$2){return e$3.length-1}));break;case`Home`:e$2.preventDefault(),c$3((function(e$3,t$2){return 0}))}},c$3=function(e$2){if(n$1.current){var t$2=r$1.current,o$2=t$2.findIndex((function(e$3){return e$3.getAttribute(`tabindex`)===`0`})),a$3=Math.min(t$2.length-1,Math.max(0,e$2(t$2,o$2)));o$2>=0&&o$2<=t$2.length-1&&t$2[o$2].setAttribute(`tabindex`,`-1`),t$2[a$3].setAttribute(`tabindex`,`0`),t$2[a$3].focus()}};return f$1((function(){var e$2=n$1.current;e$2&&(r$1.current=function(e$3){var t$2=[];return e$3.querySelectorAll(`.rpv-core__menu-item[role="menuitem"]`).forEach((function(n$2){if(n$2 instanceof HTMLElement){var r$2=n$2.parentElement;(r$2===e$3||window.getComputedStyle(r$2).display!==`none`)&&t$2.push(n$2)}})),t$2}(e$2))}),[]),f$1((function(){return document.addEventListener(`keydown`,i$1),function(){document.removeEventListener(`keydown`,i$1)}}),[]),o.createElement(`div`,{ref:n$1,"aria-orientation":`vertical`,className:d$1({"rpv-core__menu":!0,"rpv-core__menu--rtl":a$2}),role:`menu`,tabIndex:0},t$1)},exports.MenuDivider=function(){return o.createElement(`div`,{"aria-orientation":`horizontal`,className:`rpv-core__menu-divider`,role:`separator`})},exports.MenuItem=function(e$1){var t$1=e$1.checked,n$1=t$1!==void 0&&t$1,r$1=e$1.children,a$2=e$1.icon,i$1=a$2===void 0?null:a$2,c$3=e$1.isDisabled,s$1=c$3!==void 0&&c$3,u$1=e$1.testId,f$2=e$1.onClick,g$1=o.useContext(p$1).direction===exports.TextDirection.RightToLeft,v$1=u$1?{"data-testid":u$1}:{};return o.createElement(`button`,l$1({className:d$1({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":s$1,"rpv-core__menu-item--ltr":!g$1,"rpv-core__menu-item--rtl":g$1}),role:`menuitem`,tabIndex:-1,type:`button`,onClick:f$2},v$1),o.createElement(`div`,{className:d$1({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!g$1,"rpv-core__menu-item-icon--rtl":g$1})},i$1),o.createElement(`div`,{className:d$1({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!g$1,"rpv-core__menu-item-label--rtl":g$1})},r$1),o.createElement(`div`,{className:d$1({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!g$1,"rpv-core__menu-item-check--rtl":g$1})},n$1&&o.createElement(h$1,null)))},exports.MinimalButton=function(e$1){var t$1=e$1.ariaLabel,n$1=t$1===void 0?``:t$1,r$1=e$1.ariaKeyShortcuts,a$2=r$1===void 0?``:r$1,i$1=e$1.children,c$3=e$1.isDisabled,s$1=c$3!==void 0&&c$3,u$1=e$1.isSelected,f$2=u$1!==void 0&&u$1,g$1=e$1.testId,v$1=e$1.onClick,h$2=o.useContext(p$1).direction===exports.TextDirection.RightToLeft,m$2=g$1?{"data-testid":g$1}:{};return o.createElement(`button`,l$1({"aria-label":n$1},a$2&&{"aria-keyshortcuts":a$2},s$1&&{"aria-disabled":!0},{className:d$1({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":s$1,"rpv-core__minimal-button--rtl":h$2,"rpv-core__minimal-button--selected":f$2}),type:`button`,onClick:v$1},m$2),i$1)},exports.Modal=function(e$1){var t$1=e$1.ariaControlsSuffix,n$1=e$1.closeOnClickOutside,r$1=e$1.closeOnEscape,a$2=e$1.content,i$1=e$1.isOpened,c$3=i$1!==void 0&&i$1,s$1=e$1.target,l$2=t$1||`${N()}`;return o.createElement(U,{target:s$1?function(e$2,t$2){return o.createElement(`div`,{"aria-expanded":t$2?`true`:`false`,"aria-haspopup":`dialog`,"aria-controls":`rpv-core__modal-body-${l$2}`},s$1(e$2,t$2))}:null,content:function(e$2){return o.createElement(W,null,o.createElement(B$1,{ariaControlsSuffix:l$2,closeOnClickOutside:n$1,closeOnEscape:r$1,onToggle:e$2},a$2(e$2)))},isOpened:c$3})},exports.Popover=function(e$1){var t$1=e$1.ariaHasPopup,n$1=t$1===void 0?`dialog`:t$1,r$1=e$1.ariaControlsSuffix,a$2=e$1.closeOnClickOutside,i$1=e$1.closeOnEscape,c$3=e$1.content,s$1=e$1.lockScroll,l$2=s$1===void 0||s$1,u$1=e$1.offset,p$2=e$1.position,d$2=e$1.target,f$2=q(!1),g$1=f$2.opened,v$1=f$2.toggle,h$2=o.useRef(),m$2=o.useMemo((function(){return r$1||`${N()}`}),[]);return o.createElement(`div`,{ref:h$2,"aria-expanded":g$1?`true`:`false`,"aria-haspopup":n$1,"aria-controls":`rpv-core__popver-body-${m$2}`},d$2(v$1,g$1),g$1&&o.createElement(o.Fragment,null,l$2&&o.createElement(re,{closeOnEscape:i$1,onClose:v$1}),o.createElement(ne,{ariaControlsSuffix:m$2,closeOnClickOutside:a$2,offset:u$1,position:p$2,targetRef:h$2,onClose:v$1},c$3(v$1))))},exports.PrimaryButton=m$1,exports.ProgressBar=function(e$1){var t$1=e$1.progress,n$1=o.useContext(p$1).direction===exports.TextDirection.RightToLeft;return o.createElement(`div`,{className:d$1({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":n$1})},o.createElement(`div`,{className:`rpv-core__progress-bar-progress`,style:{width:`${t$1}%`}},t$1,`%`))},exports.Separator=function(){return o.createElement(`div`,{className:`rpv-core__separator`})},exports.Spinner=x,exports.Splitter=function(e$1){var t$1=e$1.constrain,n$1=o.useContext(p$1).direction===exports.TextDirection.RightToLeft,r$1=o.useRef(),a$2=o.useRef(),i$1=o.useRef(),c$3=o.useRef(0),s$1=o.useRef(0),l$2=o.useRef(0),u$1=o.useRef(0),d$2={capture:!0},f$2=function(e$2){var o$2=r$1.current,s$2=a$2.current,p$2=i$1.current;if(o$2&&s$2&&p$2){var d$3=u$1.current,f$3=e$2.clientX-c$3.current,g$2=l$2.current+(n$1?-f$3:f$3),v$1=o$2.parentElement.getBoundingClientRect().width,h$2=100*g$2/v$1;if(o$2.classList.add(`rpv-core__splitter--resizing`),t$1){var m$2=v$1-g$2-d$3;if(!t$1({firstHalfPercentage:h$2,firstHalfSize:g$2,secondHalfPercentage:100*m$2/v$1,secondHalfSize:m$2}))return}s$2.style.width=`${h$2}%`,document.body.classList.add(`rpv-core__splitter-body--resizing`),s$2.classList.add(`rpv-core__splitter-sibling--resizing`),p$2.classList.add(`rpv-core__splitter-sibling--resizing`)}},g$1=function(e$2){var t$2=r$1.current,n$2=a$2.current,o$2=i$1.current;t$2&&n$2&&o$2&&(document.body.classList.remove(`rpv-core__splitter-body--resizing`),t$2.classList.remove(`rpv-core__splitter--resizing`),n$2.classList.remove(`rpv-core__splitter-sibling--resizing`),o$2.classList.remove(`rpv-core__splitter-sibling--resizing`),document.removeEventListener(`mousemove`,f$2,d$2),document.removeEventListener(`mouseup`,g$1,d$2))};return o.useEffect((function(){var e$2=r$1.current;e$2&&(u$1.current=e$2.getBoundingClientRect().width,a$2.current=e$2.previousElementSibling,i$1.current=e$2.nextElementSibling)}),[]),o.createElement(`div`,{ref:r$1,className:`rpv-core__splitter`,onMouseDown:function(e$2){var t$2=a$2.current;t$2&&(c$3.current=e$2.clientX,s$1.current=e$2.clientY,l$2.current=t$2.getBoundingClientRect().width,document.addEventListener(`mousemove`,f$2,d$2),document.addEventListener(`mouseup`,g$1,d$2))}})},exports.TextBox=w,exports.ThemeContext=p$1,exports.Tooltip=function(e$1){var t$1=e$1.ariaControlsSuffix,n$1=e$1.content,r$1=e$1.offset,a$2=e$1.position,i$1=e$1.target,c$3=q(!1),s$1=c$3.opened,l$2=c$3.toggle,u$1=o.useRef(),p$2=o.useRef(),d$2=o.useMemo((function(){return t$1||`${N()}`}),[]);z$1((function(){u$1.current&&document.activeElement&&u$1.current.contains(document.activeElement)&&g$1()}));var f$2=function(){l$2(exports.ToggleStatus.Open)},g$1=function(){l$2(exports.ToggleStatus.Close)};return o.createElement(o.Fragment,null,o.createElement(`div`,{ref:u$1,"aria-describedby":`rpv-core__tooltip-body-${d$2}`,onBlur:function(e$2){e$2.relatedTarget instanceof HTMLElement&&e$2.currentTarget.parentElement&&e$2.currentTarget.parentElement.contains(e$2.relatedTarget)?p$2.current&&(p$2.current.style.display=`none`):g$1()},onFocus:f$2,onMouseEnter:f$2,onMouseLeave:g$1},i$1),s$1&&o.createElement(oe,{ariaControlsSuffix:d$2,contentRef:p$2,offset:r$1,position:a$2,targetRef:u$1},n$1()))},exports.Viewer=function(e$1){var t$1=e$1.characterMap,n$1=e$1.defaultScale,r$1=e$1.enableSmoothScroll,a$2=r$1===void 0||r$1,i$1=e$1.fileUrl,c$3=e$1.httpHeaders,s$1=c$3===void 0?{}:c$3,l$2=e$1.initialPage,u$1=l$2===void 0?0:l$2,d$2=e$1.pageLayout,f$2=e$1.initialRotation,v$1=f$2===void 0?0:f$2,h$2=e$1.localization,m$2=e$1.plugins,x$1=m$2===void 0?[]:m$2,w$1=e$1.renderError,E$2=e$1.renderLoader,b$2=e$1.renderPage,y$2=e$1.renderProtectedView,S$1=e$1.scrollMode,_$1=S$1===void 0?exports.ScrollMode.Vertical:S$1,P$1=e$1.setRenderRange,R$1=P$1===void 0?Bt:P$1,M$1=e$1.transformGetDocumentParams,k$1=e$1.theme,C$2=k$1===void 0?{direction:exports.TextDirection.LeftToRight,theme:`light`}:k$1,T$1=e$1.viewMode,O$1=T$1===void 0?exports.ViewMode.SinglePage:T$1,F$1=e$1.withCredentials,D$1=F$1!==void 0&&F$1,H$1=e$1.onDocumentAskPassword,N$1=e$1.onDocumentLoad,V$2=N$1===void 0?function(){}:N$1,z$2=e$1.onPageChange,B$2=z$2===void 0?function(){}:z$2,W$2=e$1.onRotate,j$1=W$2===void 0?function(){}:W$2,q$1=e$1.onRotatePage,U$2=q$1===void 0?function(){}:q$1,Z$1=e$1.onSwitchTheme,J$2=Z$1===void 0?function(){}:Z$1,G$1=e$1.onZoom,Y$1=G$1===void 0?function(){}:G$1,K$1=o.useState({data:i$1,name:typeof i$1==`string`?i$1:``,shouldLoad:!1}),X$1=K$1[0],Q$2=K$1[1],$$1=function(e$2,t$2){Q$2({data:t$2,name:e$2,shouldLoad:!0})},ee$1=o.useState(!1),te$1=ee$1[0],ne$1=ee$1[1],re$1=L(X$1);o.useEffect((function(){var e$2=re$1.data,t$2,n$2,r$2=typeof(t$2=i$1);(n$2=typeof e$2)==`string`&&r$2===`string`&&e$2===t$2||n$2===`object`&&r$2===`object`&&e$2.length===t$2.length&&e$2.every((function(e$3,n$3){return e$3===t$2[n$3]}))||Q$2({data:i$1,name:typeof i$1==`string`?i$1:``,shouldLoad:te$1})}),[i$1,te$1]);var oe$1=g({onVisibilityChanged:function(e$2){ne$1(e$2.isVisible),e$2.isVisible&&Q$2((function(e$3){return Object.assign({},e$3,{shouldLoad:!0})}))}}),ae$1=typeof C$2==`string`?{direction:exports.TextDirection.LeftToRight,theme:C$2}:C$2,ie$1=o.useState(h$2||I),ce$1=ie$1[0],se$1=ie$1[1],le$1={l10n:ce$1,setL10n:se$1},ue$1=Object.assign({},{direction:ae$1.direction},zt(ae$1.theme||`light`,J$2));return o.useEffect((function(){h$2&&se$1(h$2)}),[h$2]),o.createElement(A.Provider,{value:le$1},o.createElement(p$1.Provider,{value:ue$1},o.createElement(`div`,{ref:oe$1,className:`rpv-core__viewer rpv-core__viewer--${ue$1.currentTheme}`,"data-testid":`core__viewer`,style:{height:`100%`,width:`100%`}},X$1.shouldLoad&&o.createElement(Vt,{characterMap:t$1,file:X$1.data,httpHeaders:s$1,render:function(e$2){return o.createElement(Ot,{defaultScale:n$1,doc:e$2,render:function(t$2,r$2){return o.createElement(Tt,{currentFile:{data:X$1.data,name:X$1.name},defaultScale:n$1,doc:e$2,enableSmoothScroll:a$2,initialPage:u$1,initialRotation:v$1,initialScale:r$2,pageLayout:d$2,pageSizes:t$2,plugins:x$1,renderPage:b$2,scrollMode:_$1,setRenderRange:R$1,viewMode:O$1,viewerState:{file:X$1,fullScreenMode:exports.FullScreenMode.Normal,pageIndex:-1,pageHeight:t$2[0].pageHeight,pageWidth:t$2[0].pageWidth,pagesRotation:new Map,rotation:v$1,scale:r$2,scrollMode:_$1,viewMode:O$1},onDocumentLoad:V$2,onOpenFile:$$1,onPageChange:B$2,onRotate:j$1,onRotatePage:U$2,onZoom:Y$1})},scrollMode:_$1,viewMode:O$1})},renderError:w$1,renderLoader:E$2,renderProtectedView:y$2,transformGetDocumentParams:M$1,withCredentials:D$1,onDocumentAskPassword:H$1}))))},exports.Worker=function(e$1){var t$1=e$1.children,n$1=e$1.workerUrl;return a.GlobalWorkerOptions.workerSrc=n$1,o.createElement(o.Fragment,null,t$1)},exports.chunk=ie,exports.classNames=d$1,exports.createStore=function(e$1){var t$1=e$1||{},n$1={},r$1=function(e$2,r$2){var o$3;t$1=l$1(l$1({},t$1),((o$3={})[e$2]=r$2,o$3)),(n$1[e$2]||[]).forEach((function(n$2){return n$2(t$1[e$2])}))},o$2=function(e$2){return t$1[e$2]};return{subscribe:function(e$2,t$2){n$1[e$2]=(n$1[e$2]||[]).concat(t$2)},unsubscribe:function(e$2,t$2){n$1[e$2]=(n$1[e$2]||[]).filter((function(e$3){return e$3!==t$2}))},update:function(e$2,t$2){r$1(e$2,t$2)},updateCurrentValue:function(e$2,t$2){var n$2=o$2(e$2);n$2!==void 0&&r$1(e$2,t$2(n$2))},get:function(e$2){return o$2(e$2)}}},exports.getDestination=fe,exports.getPage=de,exports.isFullScreenEnabled=R,exports.isMac=function(){return typeof window<`u`&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},exports.useDebounceCallback=C$1,exports.useIntersectionObserver=g,exports.useIsMounted=T,exports.useIsomorphicLayoutEffect=f$1,exports.usePrevious=L,exports.useRenderQueue=D})),require_lib=__commonJSMin(((exports,module)=>{module.exports=require_core_min()})),import_lib=require_lib(),require_js_file_downloader=__commonJSMin(((exports,module)=>{(function(root,factory$1){typeof exports==`object`&&typeof module==`object`?module.exports=factory$1():typeof define==`function`&&define.amd?define([],factory$1):typeof exports==`object`?exports.jsFileDownloader=factory$1():root.jsFileDownloader=factory$1()})(exports,function(){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module$1=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module$1.exports,module$1,module$1.exports,__webpack_require__),module$1.l=!0,module$1.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports$1,name,getter){__webpack_require__.o(exports$1,name)||Object.defineProperty(exports$1,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports$1){typeof Symbol<`u`&&Symbol.toStringTag&&Object.defineProperty(exports$1,Symbol.toStringTag,{value:`Module`}),Object.defineProperty(exports$1,`__esModule`,{value:!0})},__webpack_require__.t=function(value,mode){if(mode&1&&(value=__webpack_require__(value)),mode&8||mode&4&&typeof value==`object`&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,`default`,{enumerable:!0,value}),mode&2&&typeof value!=`string`)for(var key in value)__webpack_require__.d(ns,key,function(key$1){return value[key$1]}.bind(null,key));return ns},__webpack_require__.n=function(module$1){var getter=module$1&&module$1.__esModule?function(){return module$1.default}:function(){return module$1};return __webpack_require__.d(getter,`a`,getter),getter},__webpack_require__.o=function(object$1,property){return Object.prototype.hasOwnProperty.call(object$1,property)},__webpack_require__.p=``,__webpack_require__(__webpack_require__.s=`./src/index.js`)})({"./src/exception.js":(function(module$1,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,`DownloadException`,function(){return DownloadException}),__webpack_require__.d(__webpack_exports__,`downloadException`,function(){return downloadException});function _typeof(obj){"@babel/helpers - typeof";return _typeof=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(obj$1){return typeof obj$1}:function(obj$1){return obj$1&&typeof Symbol==`function`&&obj$1.constructor===Symbol&&obj$1!==Symbol.prototype?`symbol`:typeof obj$1},_typeof(obj)}function _defineProperties(target,props){for(var i$1=0;i$1<props.length;i$1++){var descriptor=props[i$1];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,`value`in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,`prototype`,{writable:!1}),Constructor}function _toPropertyKey(arg){var key=_toPrimitive(arg,`string`);return _typeof(key)===`symbol`?key:String(key)}function _toPrimitive(input,hint){if(_typeof(input)!==`object`||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==void 0){var res=prim.call(input,hint||`default`);if(_typeof(res)!==`object`)return res;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(hint===`string`?String:Number)(input)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError(`Cannot call a class as a function`)}function _inherits(subClass,superClass){if(typeof superClass!=`function`&&superClass!==null)throw TypeError(`Super expression must either be null or a function`);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,`prototype`,{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _createSuper(Derived$1){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived$1),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self$1,call){if(call&&(_typeof(call)===`object`||typeof call==`function`))return call;if(call!==void 0)throw TypeError(`Derived constructors may only return object or undefined`);return _assertThisInitialized(self$1)}function _assertThisInitialized(self$1){if(self$1===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return self$1}function _wrapNativeSuper(Class){var _cache=typeof Map==`function`?new Map:void 0;return _wrapNativeSuper=function(Class$1){if(Class$1===null||!_isNativeFunction(Class$1))return Class$1;if(typeof Class$1!=`function`)throw TypeError(`Super expression must either be null or a function`);if(_cache!==void 0){if(_cache.has(Class$1))return _cache.get(Class$1);_cache.set(Class$1,Wrapper)}function Wrapper(){return _construct(Class$1,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class$1.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class$1)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(Parent$1,args$1,Class$1){var a$2=[null];a$2.push.apply(a$2,args$1);var instance=new(Function.bind.apply(Parent$1,a$2));return Class$1&&_setPrototypeOf(instance,Class$1.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect>`u`||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==`function`)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf(`[native code]`)!==-1}function _setPrototypeOf(o$2,p$2){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o$3,p$3){return o$3.__proto__=p$3,o$3},_setPrototypeOf(o$2,p$2)}function _getPrototypeOf(o$2){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o$3){return o$3.__proto__||Object.getPrototypeOf(o$3)},_getPrototypeOf(o$2)}var DownloadException=function(_Error){_inherits(DownloadException$1,_Error);var _super=_createSuper(DownloadException$1);function DownloadException$1(message,request){var _this;return _classCallCheck(this,DownloadException$1),_this=_super.call(this,`Downloader error: ${message}`),_this.request=request,_this.name=`DownloadException`,_this}return _createClass(DownloadException$1)}(_wrapNativeSuper(Error)),downloadException=DownloadException}),"./src/index.js":(function(module$1,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var _exception__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(`./src/exception.js`),_signatures__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(`./src/signatures.js`);function _typeof(obj){"@babel/helpers - typeof";return _typeof=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(obj$1){return typeof obj$1}:function(obj$1){return obj$1&&typeof Symbol==`function`&&obj$1.constructor===Symbol&&obj$1!==Symbol.prototype?`symbol`:typeof obj$1},_typeof(obj)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return exports$1};var exports$1={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol=typeof Symbol==`function`?Symbol:{},iteratorSymbol=$Symbol.iterator||`@@iterator`,asyncIteratorSymbol=$Symbol.asyncIterator||`@@asyncIterator`,toStringTagSymbol=$Symbol.toStringTag||`@@toStringTag`;function define$1(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define$1({},``)}catch{define$1=function(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self$1,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype);return defineProperty(generator,`_invoke`,{value:makeInvokeMethod(innerFn,self$1,new Context(tryLocsList||[]))}),generator}function tryCatch(fn,obj,arg){try{return{type:`normal`,arg:fn.call(obj,arg)}}catch(err){return{type:`throw`,arg:err}}}exports$1.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define$1(IteratorPrototype,iteratorSymbol,function(){return this});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype$1){[`next`,`throw`,`return`].forEach(function(method){define$1(prototype$1,method,function(arg){return this._invoke(method,arg)})})}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type!==`throw`){var result=record.arg,value=result.value;return value&&_typeof(value)==`object`&&hasOwn.call(value,`__await`)?PromiseImpl.resolve(value.__await).then(function(value$1){invoke(`next`,value$1,resolve,reject)},function(err){invoke(`throw`,err,resolve,reject)}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke(`throw`,error,resolve,reject)})}reject(record.arg)}var previousPromise;defineProperty(this,`_invoke`,{value:function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self$1,context){var state=`suspendedStart`;return function(method,arg){if(state===`executing`)throw Error(`Generator is already running`);if(state===`completed`){if(method===`throw`)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if(context.method===`next`)context.sent=context._sent=context.arg;else if(context.method===`throw`){if(state===`suspendedStart`)throw state=`completed`,context.arg;context.dispatchException(context.arg)}else context.method===`return`&&context.abrupt(`return`,context.arg);state=`executing`;var record=tryCatch(innerFn,self$1,context);if(record.type===`normal`){if(state=context.done?`completed`:`suspendedYield`,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}record.type===`throw`&&(state=`completed`,context.method=`throw`,context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(method===void 0)return context.delegate=null,methodName===`throw`&&delegate.iterator.return&&(context.method=`return`,context.arg=void 0,maybeInvokeDelegate(delegate,context),context.method===`throw`)||methodName!==`return`&&(context.method=`throw`,context.arg=TypeError(`The iterator does not provide a '`+methodName+`' method`)),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if(record.type===`throw`)return context.method=`throw`,context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,context.method!==`return`&&(context.method=`next`,context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method=`throw`,context.arg=TypeError(`iterator result is not an object`),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type=`normal`,delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:`root`}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if(typeof iterable.next==`function`)return iterable;if(!isNaN(iterable.length)){var i$1=-1,next=function next$1(){for(;++i$1<iterable.length;)if(hasOwn.call(iterable,i$1))return next$1.value=iterable[i$1],next$1.done=!1,next$1;return next$1.value=void 0,next$1.done=!0,next$1};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,`constructor`,{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,`constructor`,{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define$1(GeneratorFunctionPrototype,toStringTagSymbol,`GeneratorFunction`),exports$1.isGeneratorFunction=function(genFun){var ctor=typeof genFun==`function`&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||(ctor.displayName||ctor.name)===`GeneratorFunction`)},exports$1.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define$1(genFun,toStringTagSymbol,`GeneratorFunction`)),genFun.prototype=Object.create(Gp),genFun},exports$1.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define$1(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this}),exports$1.AsyncIterator=AsyncIterator,exports$1.async=function(innerFn,outerFn,self$1,tryLocsList,PromiseImpl){PromiseImpl===void 0&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self$1,tryLocsList),PromiseImpl);return exports$1.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),define$1(Gp,toStringTagSymbol,`Generator`),define$1(Gp,iteratorSymbol,function(){return this}),define$1(Gp,`toString`,function(){return`[object Generator]`}),exports$1.keys=function(val){var object$1=Object(val),keys=[];for(var key in object$1)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key$1=keys.pop();if(key$1 in object$1)return next.value=key$1,next.done=!1,next}return next.done=!0,next}},exports$1.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=`next`,this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)name.charAt(0)===`t`&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if(rootRecord.type===`throw`)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type=`throw`,record.arg=exception,context.next=loc,caught&&(context.method=`next`,context.arg=void 0),!!caught}for(var i$1=this.tryEntries.length-1;i$1>=0;--i$1){var entry=this.tryEntries[i$1],record=entry.completion;if(entry.tryLoc===`root`)return handle(`end`);if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,`catchLoc`),hasFinally=hasOwn.call(entry,`finallyLoc`);if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw Error(`try statement without catch or finally`);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i$1=this.tryEntries.length-1;i$1>=0;--i$1){var entry=this.tryEntries[i$1];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,`finallyLoc`)&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&(type===`break`||type===`continue`)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method=`next`,this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if(record.type===`throw`)throw record.arg;return record.type===`break`||record.type===`continue`?this.next=record.arg:record.type===`return`?(this.rval=this.arg=record.arg,this.method=`return`,this.next=`end`):record.type===`normal`&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i$1=this.tryEntries.length-1;i$1>=0;--i$1){var entry=this.tryEntries[i$1];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i$1=this.tryEntries.length-1;i$1>=0;--i$1){var entry=this.tryEntries[i$1];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type===`throw`){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw Error(`illegal catch attempt`)},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},this.method===`next`&&(this.arg=void 0),ContinueSentinel}},exports$1}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self$1=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self$1,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,`next`,value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,`throw`,err)}_next(void 0)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError(`Cannot call a class as a function`)}function _defineProperties(target,props){for(var i$1=0;i$1<props.length;i$1++){var descriptor=props[i$1];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,`value`in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,`prototype`,{writable:!1}),Constructor}function _toPropertyKey(arg){var key=_toPrimitive(arg,`string`);return _typeof(key)===`symbol`?key:String(key)}function _toPrimitive(input,hint){if(_typeof(input)!==`object`||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==void 0){var res=prim.call(input,hint||`default`);if(_typeof(res)!==`object`)return res;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(hint===`string`?String:Number)(input)}var DEFAULT_PARAMS={timeout:4e4,headers:[],forceDesktopMode:!1,autoStart:!0,withCredentials:!1,method:`GET`,nameCallback:function(name){return name},contentType:`application/x-www-form-urlencoded`,body:null,nativeFallbackOnError:!1,contentTypeDetermination:!1};__webpack_exports__.default=function(){function JsFileDownloader$1(){var customParams=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _classCallCheck(this,JsFileDownloader$1),this.params=Object.assign({},DEFAULT_PARAMS,customParams),this.link=this.createLink(),this.request=null,this.downloadedFile=null,this.abortController=void 0,this.params.autoStart?this.downloadFile():this}return _createClass(JsFileDownloader$1,[{key:`start`,value:function(){return this.downloadFile()}},{key:`abort`,value:function(reason){this.abortController&&this.abortController.abort(reason||`Download cancelled`)}},{key:`downloadFile`,value:function(){var _this=this;return new Promise(function(resolve,reject){_this.initDownload(resolve,reject)})}},{key:`setAbortListner`,value:function(abortListener){this.abortController&&this.abortController.signal.addEventListener(`abort`,abortListener)}},{key:`unsetAbortListner`,value:function(abortListener){this.abortController&&this.abortController.signal.removeEventListener(`abort`,abortListener)}},{key:`initDownload`,value:function(resolve,reject){var _this2=this,fallback=function(){_this2.link.target=`_blank`,_this2.link.href=_this2.params.url,_this2.clickLink()};if(!(`download`in this.link)||this.isMobile())return fallback(),resolve();this.request=this.createRequest(),this.abortController=`AbortController`in window?new AbortController:null;var abortListener=function abortListener$1(_ref){var target=_ref.target;_this2.unsetAbortListner(abortListener$1),_this2.request&&_this2.request.abort(),reject(target.reason)};return this.setAbortListner(abortListener),this.params.url?(this.request.onload=_asyncToGenerator(_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_this2.unsetAbortListner(abortListener),parseInt(_this2.request.status,10)===200){_context.next=3;break}return _context.abrupt(`return`,reject(new _exception__WEBPACK_IMPORTED_MODULE_0__.DownloadException(`status code [${_this2.request.status}]`,_this2.request)));case 3:return _context.next=5,_this2.startDownload();case 5:return _context.abrupt(`return`,resolve(_this2));case 6:case`end`:return _context.stop()}},_callee)})),this.request.ontimeout=function(){_this2.unsetAbortListner(abortListener),reject(new _exception__WEBPACK_IMPORTED_MODULE_0__.DownloadException(`request timeout`,_this2.request))},this.request.onerror=function(){_this2.unsetAbortListner(abortListener),_this2.params.nativeFallbackOnError?(fallback(),resolve(_this2)):reject(new _exception__WEBPACK_IMPORTED_MODULE_0__.DownloadException(`network error`,_this2.request))},this.request.send(this.params.body),this):reject(new _exception__WEBPACK_IMPORTED_MODULE_0__.DownloadException(`url param not defined!`,this.request))}},{key:`isMobile`,value:function(){return!this.params.forceDesktopMode&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:`createRequest`,value:function(){var request=new XMLHttpRequest;return request.open(this.params.method,this.params.url,!0),this.params.contentType!==!1&&request.setRequestHeader(`Content-type`,this.params.contentType),this.params.headers.forEach(function(header){request.setRequestHeader(header.name,header.value)}),request.responseType=`arraybuffer`,this.params.process&&typeof this.params.process==`function`&&request.addEventListener(`progress`,this.params.process),this.params.onloadstart&&typeof this.params.onloadstart==`function`&&(request.onloadstart=this.params.onloadstart),request.timeout=this.params.timeout,request.withCredentials=!!this.params.withCredentials||!!this.params.includeCredentials,request}},{key:`getFileName`,value:function(){if(typeof this.params.filename==`string`)return this.params.filename;var content=this.request.getResponseHeader(`Content-Disposition`),contentParts=[];content&&(contentParts=content.replace(/["']/g,``).match(/filename\*?=([^;]+)/));var extractedName=contentParts&&contentParts.length>=1?contentParts[1]:this.params.url.split(`/`).pop().split(`?`)[0];return this.params.nameCallback(extractedName)}},{key:`getContentTypeFromFileSignature`,value:function(file){var signatures=Object.assign({},_signatures__WEBPACK_IMPORTED_MODULE_1__.fileSignatures,this.params.customFileSignatures);return new Promise(function(resolve,reject){var reader=new FileReader,first4BytesOfFile=file.slice(0,4);reader.onloadend=function(evt){if(evt.target.readyState!==FileReader.DONE){reject();return}var uint=new Uint8Array(evt.target.result),bytes=[];uint.forEach(function(byte){bytes.push(byte.toString(16))}),resolve(signatures[bytes.join(``).toUpperCase()])},reader.onerror=reject,reader.readAsArrayBuffer(first4BytesOfFile)})}},{key:`getContentTypeFromResponseHeader`,value:function(){return this.request.getResponseHeader(`content-type`)}},{key:`getContentType`,value:function(response){var _this3=this;return new Promise(function(){var _ref3=_asyncToGenerator(_regeneratorRuntime().mark(function _callee2(resolve){var contentTypeDetermination,defaultContentType,headerContentType,signatureContentType,_headerContentType,_signatureContentType,_ref4,_signatureContentType2;return _regeneratorRuntime().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(contentTypeDetermination=_this3.params.contentTypeDetermination,defaultContentType=`application/octet-stream`,(contentTypeDetermination===`header`||contentTypeDetermination===`full`)&&(headerContentType=_this3.getContentTypeFromResponseHeader()),!(contentTypeDetermination===`signature`||contentTypeDetermination===`full`)){_context2.next=7;break}return _context2.next=6,_this3.getContentTypeFromFileSignature(new Blob([response]));case 6:signatureContentType=_context2.sent;case 7:resolve(contentTypeDetermination===`header`?headerContentType??defaultContentType:contentTypeDetermination===`signature`?signatureContentType??defaultContentType:contentTypeDetermination===`full`?signatureContentType??headerContentType??defaultContentType:defaultContentType);case 8:case`end`:return _context2.stop()}},_callee2)}));return function(_x){return _ref3.apply(this,arguments)}}())}},{key:`createLink`,value:function(){var link=document.createElement(`a`);return link.style.display=`none`,link}},{key:`clickLink`,value:function(){var event;try{event=new MouseEvent(`click`)}catch{event=document.createEvent(`MouseEvent`),event.initMouseEvent(`click`,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}this.link.dispatchEvent(event)}},{key:`getFile`,value:function(){var _getFile=_asyncToGenerator(_regeneratorRuntime().mark(function _callee3(response,fileName){var type,file,options;return _regeneratorRuntime().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.getContentType(response);case 2:type=_context3.sent,options={type};try{file=new File([response],fileName,options)}catch{file=new Blob([response],options),file.name=fileName,file.lastModifiedDate=new Date}return _context3.abrupt(`return`,file);case 6:case`end`:return _context3.stop()}},_callee3,this)}));function getFile(_x2,_x3){return _getFile.apply(this,arguments)}return getFile}()},{key:`startDownload`,value:function(){var _startDownload=_asyncToGenerator(_regeneratorRuntime().mark(function _callee4(){var fileName,objectUrl;return _regeneratorRuntime().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return fileName=this.getFileName(),_context4.next=3,this.getFile(this.request.response,fileName);case 3:if(this.downloadedFile=_context4.sent,!(`msSaveOrOpenBlob`in window.navigator)){_context4.next=6;break}return _context4.abrupt(`return`,window.navigator.msSaveOrOpenBlob(this.downloadedFile,fileName));case 6:return objectUrl=window.URL.createObjectURL(this.downloadedFile),this.link.href=objectUrl,this.link.download=fileName,this.clickLink(),setTimeout(function(){(window.URL||window.webkitURL||window).revokeObjectURL(objectUrl)},1e3*40),_context4.abrupt(`return`,this.downloadedFile);case 12:case`end`:return _context4.stop()}},_callee4,this)}));function startDownload(){return _startDownload.apply(this,arguments)}return startDownload}()}]),JsFileDownloader$1}()}),"./src/signatures.js":(function(module$1,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,`fileSignatures`,function(){return fileSignatures});var fileSignatures={"89504E47":`image/png`,25504446:`application/pdf`}})}).default})})),import_compiler_runtime$31=require_compiler_runtime(),import_js_file_downloader=__toESM(require_js_file_downloader(),1),ResumeContent=()=>{let $$1=(0,import_compiler_runtime$31.c)(12),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=identityApi.query.resume(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),t1;$$1[1]===data.resume?t1=$$1[2]:(t1=async function(){return await new import_js_file_downloader.default({url:data.resume,filename:`RESUME_CABRERA-JENJADE.pdf`,method:`GET`}).then(_temp2$5).catch(_temp4$1)},$$1[1]=data.resume,$$1[2]=t1);let handleDownloadResume=t1,t2;$$1[3]===data.resume?t2=$$1[4]:(t2=(0,import_jsx_runtime.jsx)(Modal.Body,{children:(0,import_jsx_runtime.jsx)(`div`,{className:`h-full`,children:(0,import_jsx_runtime.jsx)(import_lib.Worker,{workerUrl:`https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js`,children:(0,import_jsx_runtime.jsx)(import_lib.Viewer,{fileUrl:data.resume})})})}),$$1[3]=data.resume,$$1[4]=t2);let t3;$$1[5]===Symbol.for(`react.memo_cache_sentinel`)?(t3=(0,import_jsx_runtime.jsxs)(Button,{slot:`close`,variant:`secondary`,className:`rounded-lg`,children:[(0,import_jsx_runtime.jsx)(nt,{}),`Close`]}),$$1[5]=t3):t3=$$1[5];let t4;$$1[6]===Symbol.for(`react.memo_cache_sentinel`)?(t4=(0,import_jsx_runtime.jsx)(nt,{}),$$1[6]=t4):t4=$$1[6];let t5;$$1[7]===handleDownloadResume?t5=$$1[8]:(t5=(0,import_jsx_runtime.jsxs)(Modal.Footer,{children:[t3,(0,import_jsx_runtime.jsxs)(Button,{onClick:handleDownloadResume,className:`rounded-lg`,children:[t4,`Download`]})]}),$$1[7]=handleDownloadResume,$$1[8]=t5);let t6;return $$1[9]!==t2||$$1[10]!==t5?(t6=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t2,t5]}),$$1[9]=t2,$$1[10]=t5,$$1[11]=t6):t6=$$1[11],t6};const ResumeModal=props=>{let $$1=(0,import_compiler_runtime$31.c)(5),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(Modal.CloseTrigger,{}),$$1[0]=t0):t0=$$1[0];let t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsxs)(Modal.Header,{children:[(0,import_jsx_runtime.jsx)(Modal.Icon,{className:`bg-accent-soft text-accent-soft-foreground`,children:(0,import_jsx_runtime.jsx)(FileUser,{className:`size-5`})}),(0,import_jsx_runtime.jsx)(Modal.Heading,{className:`mb-4 text-2xl`,children:`RESUME_CABRERA-JENJADE.PDF`})]}),$$1[1]=t1):t1=$$1[1];let t2;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(Modal.Container,{children:(0,import_jsx_runtime.jsxs)(Modal.Dialog,{className:`sm:max-w-3xl`,children:[t0,t1,(0,import_jsx_runtime.jsx)(`div`,{className:`flex min-h-[60vh] flex-col`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(ResumeContent,{})})})]})}),$$1[2]=t2):t2=$$1[2];let t3;return $$1[3]===props?t3=$$1[4]:(t3=(0,import_jsx_runtime.jsx)(Modal.Backdrop,{className:`bg-transparent backdrop-blur-xs`,...props,children:t2}),$$1[3]=props,$$1[4]=t3),t3};function _temp$8(){return toast.clear()}function _temp2$5(){toast(`Resume has been downloaded`,{variant:`accent`,actionProps:{children:`Dismiss`,onPress:_temp$8,variant:`tertiary`}})}function _temp3$2(){return toast.clear()}function _temp4$1(){toast(`An error has occured when downloading resume`,{variant:`warning`,actionProps:{children:`Dismiss`,onPress:_temp3$2,variant:`tertiary`}})}var import_compiler_runtime$30=require_compiler_runtime(),socials=[{icon:Github,label:`hyoaru`,link:`https://github.com/hyoaru`},{icon:Facebook,label:`jjcabreraaaa`,link:`https://facebook.com/jjcabreraaaa`},{icon:Linkedin,label:`jjcabreraaaa`,link:`https://www.linkedin.com/in/jjcabreraaaa/`},{icon:AudioLines,label:`jade`,link:`https://open.spotify.com/user/12180365121`},{icon:Shuffle,label:`haru`,link:`https://last.fm/user/hyoaru`}];const SocialsModal=props=>{let $$1=(0,import_compiler_runtime$30.c)(6),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(Modal.CloseTrigger,{}),$$1[0]=t0):t0=$$1[0];let t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsxs)(Modal.Header,{children:[(0,import_jsx_runtime.jsx)(Modal.Icon,{className:`bg-accent-soft text-accent-soft-foreground`,children:(0,import_jsx_runtime.jsx)(CircleCheck,{className:`size-5`})}),(0,import_jsx_runtime.jsx)(Modal.Heading,{className:`mb-4 text-xl`,children:`Connect with me on these channels`})]}),$$1[1]=t1):t1=$$1[1];let t2;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(Modal.Body,{children:(0,import_jsx_runtime.jsx)(`div`,{className:`flex flex-wrap items-center gap-1`,children:socials.map(_temp$7)})}),$$1[2]=t2):t2=$$1[2];let t3;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t3=(0,import_jsx_runtime.jsx)(Modal.Container,{children:(0,import_jsx_runtime.jsxs)(Modal.Dialog,{className:`sm:max-w-[360px]`,children:[t0,t1,t2,(0,import_jsx_runtime.jsx)(Modal.Footer,{children:(0,import_jsx_runtime.jsxs)(Button,{className:`rounded-lg`,slot:`close`,children:[(0,import_jsx_runtime.jsx)(nt,{}),`Close`]})})]})}),$$1[3]=t3):t3=$$1[3];let t4;return $$1[4]===props?t4=$$1[5]:(t4=(0,import_jsx_runtime.jsx)(Modal.Backdrop,{...props,children:t3}),$$1[4]=props,$$1[5]=t4),t4};function _temp$7(social){return(0,import_jsx_runtime.jsxs)(`a`,{href:social.link,target:`_blank`,className:`bg-default hover:text-accent-soft-foreground flex items-center gap-2 rounded-lg border px-2 py-1 transition-all duration-300 ease-in-out`,children:[(0,import_jsx_runtime.jsx)(social.icon,{}),social.label]},social.link)}var GetRecentTrack=class{constructor(init){this.request=init.request,this.listeningRepository=init.listeningRepository}async execute(){return{track:await this.listeningRepository.getRecentTrack(this.request.username)}}},LoggingListeningRepository=class{constructor(inner){this.inner=inner}async getRecentTrack(username){try{logger.info(`Getting recent track for user: ${username}`);let track=await this.inner.getRecentTrack(username);return logger.info(`Got recent track for user: ${username}, track: ${track.title} by ${track.artist}`),track}catch(error){throw logger.error(`Error getting recent track for user: ${username}}`),error}}},DecoratedListeningRepository=class{constructor(inner){this.inner=new LoggingListeningRepository(inner)}async getRecentTrack(username){return await this.inner.getRecentTrack(username)}},ListeningRepositoryError=class ListeningRepositoryError extends Error{constructor(message,options){super(message,options),this.name=`ListeningRepositoryError`,Object.setPrototypeOf(this,ListeningRepositoryError.prototype)}},ListeningRepositoryNoRecentTrackError=class ListeningRepositoryNoRecentTrackError extends Error{constructor(username,options){super(`No recent commit found for user: ${username}`,options),this.name=`ListeningRepositoryNoRecentTrackError`,Object.setPrototypeOf(this,ListeningRepositoryNoRecentTrackError.prototype)}},Track=class{constructor(init){this.title=init.title,this.artist=init.artist,this.imageUrl=init.imageUrl}},LastfmListeningRepository=class{constructor(inner){this.lastfmClient=inner.lastfmClient}async request(execute){try{return await execute()}catch(error){throw error instanceof ListeningRepositoryError?error:new ListeningRepositoryError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getRecentTrack(username){return await this.request(async()=>{let recentTrack=(await this.lastfmClient.getRecentTracks({username})).tracks.at(0);if(!recentTrack)throw new ListeningRepositoryNoRecentTrackError(username);return new Track({title:recentTrack.title,artist:recentTrack.artist,imageUrl:recentTrack.imageUrl})})}},LastfmClientError=class LastfmClientError extends Error{constructor(message,options){super(message,options),this.name=`LastfmClientError`,Object.setPrototypeOf(this,LastfmClientError.prototype)}},LastfmClientRequestError=class LastfmClientRequestError extends Error{constructor(message,options){super(message,options),this.name=`LastfmClientRequestError`,Object.setPrototypeOf(this,LastfmClientRequestError.prototype)}},LoggingLastFmClient=class{constructor(inner){this.inner=inner}async getRecentTracks(request){try{logger.info(`Fetching recent tracks for user: ${request.username}`);let response=await this.inner.getRecentTracks(request);return logger.info(`Successfully fetched recent tracks for user: ${request.username}`),response}catch(error){throw logger.error(`Error fetching recent tracks for user: ${request.username}`),error}}},DecoratedLastfmClient=class{constructor(inner){this.inner=new LoggingLastFmClient(inner)}async getRecentTracks(request){return await this.inner.getRecentTracks(request)}},Configuration=class{constructor(){this.API_KEY=`6576cbec3277298314570b643828f942`}},HttpLastfmClient=class{constructor(configuration,api){this.configuration=configuration||new Configuration,this.api=api||axios_default.create({baseURL:`https://ws.audioscrobbler.com/2.0`,params:{api_key:this.configuration.API_KEY,format:`json`}})}async request(execute){try{return await execute()}catch(error){throw error instanceof LastfmClientError?error:axios_default.isAxiosError(error)?new LastfmClientRequestError(`An error has occured while requesting: ${error.message}`,{cause:error}):new LastfmClientError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getRecentTracks(request){return await this.request(async()=>{let apiMethod=`user.getrecenttracks`,{data}=await this.api.get(`/`,{params:{...this.api.defaults.params,method:`user.getrecenttracks`,user:request.username}}),imageSizes=[`small`,`medium`,`large`];return{tracks:data.recenttracks.track.map(track=>{let trackImages=track.image?.filter(image=>imageSizes.includes(image?.size));return{title:track.name,artist:track.artist[`#text`],imageUrl:trackImages?.at(-1)?.[`#text`]}})}})}},listeningRepository=new DecoratedListeningRepository(new LastfmListeningRepository({lastfmClient:new DecoratedLastfmClient(new HttpLastfmClient)}));const listeningApi={baseKey:[`listening`],query:{recentTrack:(username=`hyoaru`)=>queryOptions({queryKey:[...listeningApi.baseKey,`recent-track`],queryFn:()=>commandBus.dispatch(new GetRecentTrack({request:{username},listeningRepository})),staleTime:60*1e3*2})}};var import_compiler_runtime$29=require_compiler_runtime(),slots$1={content:{variant:{compact:`items-center `,default:`items-start`}}};const ListeningRecentTrackTile=t0=>{let $$1=(0,import_compiler_runtime$29.c)(22),{variant:t1}=t0,variant=t1===void 0?`default`:t1,t2;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t2=listeningApi.query.recentTrack(),$$1[0]=t2):t2=$$1[0];let{data}=useSuspenseQuery(t2),isCompact=variant==`compact`,t3=`url(${data?.track.imageUrl})`,t4;$$1[1]===t3?t4=$$1[2]:(t4={backgroundImage:t3},$$1[1]=t3,$$1[2]=t4);let t5;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t5=(0,import_jsx_runtime.jsx)(`div`,{className:`absolute inset-0 m-auto overflow-hidden opacity-90 backdrop-blur-[12px]`}),$$1[3]=t5):t5=$$1[3];let t6;$$1[4]!==data?.track.imageUrl||$$1[5]!==isCompact?(t6=!isCompact&&(0,import_jsx_runtime.jsx)(ActivityTile.Icon,{className:`z-[10] h-full border border-none`,children:(0,import_jsx_runtime.jsx)(`img`,{src:data?.track.imageUrl,className:`aspect-square h-full rounded-lg object-cover object-center`,alt:``})}),$$1[4]=data?.track.imageUrl,$$1[5]=isCompact,$$1[6]=t6):t6=$$1[6];let t7=slots$1.content.variant[variant],t8;$$1[7]===t7?t8=$$1[8]:(t8=cn(`text-background dark:text-foreground z-[2]`,t7),$$1[7]=t7,$$1[8]=t8);let t9;$$1[9]===Symbol.for(`react.memo_cache_sentinel`)?(t9=(0,import_jsx_runtime.jsx)(ActivityTile.ContentHeader,{children:`Last.fm  listened to`}),$$1[9]=t9):t9=$$1[9];let t10=data?.track.title,t11;$$1[10]===t10?t11=$$1[11]:(t11=(0,import_jsx_runtime.jsx)(ActivityTile.ContentBody,{className:`text-center sm:text-start`,children:t10}),$$1[10]=t10,$$1[11]=t11);let t12=data?.track.artist,t13;$$1[12]===t12?t13=$$1[13]:(t13=(0,import_jsx_runtime.jsx)(ActivityTile.ContentFooter,{children:t12}),$$1[12]=t12,$$1[13]=t13);let t14;$$1[14]!==t11||$$1[15]!==t13||$$1[16]!==t8?(t14=(0,import_jsx_runtime.jsxs)(ActivityTile.Content,{className:t8,children:[t9,t11,t13]}),$$1[14]=t11,$$1[15]=t13,$$1[16]=t8,$$1[17]=t14):t14=$$1[17];let t15;return $$1[18]!==t14||$$1[19]!==t4||$$1[20]!==t6?(t15=(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsxs)(ActivityTile,{className:`relative bg-cover bg-center`,style:t4,children:[t5,t6,t14]})}),$$1[18]=t14,$$1[19]=t4,$$1[20]=t6,$$1[21]=t15):t15=$$1[21],t15};var GetVisitorCount=class{constructor(init){this.visitorRepository=init.visitorRepository}async execute(){return{count:await this.visitorRepository.getVisitorCount()}}},LoggingVisitorRepository=class{constructor(inner){this.inner=inner}async getVisitorCount(){try{logger.info(`Getting visitor count`);let count=await this.inner.getVisitorCount();return logger.info(`Visitor count retrieved: ${count}`),count}catch(error){throw logger.error(`Error while getting visitor count: ${error}`),error}}},DecoratedVisitorRepository=class{constructor(inner){this.inner=new LoggingVisitorRepository(inner)}async getVisitorCount(){return await this.inner.getVisitorCount()}},VisitorRepositoryError=class VisitorRepositoryError extends Error{constructor(message,options){super(message,options),this.name=`VisitorRepositoryError`,Object.setPrototypeOf(this,VisitorRepositoryError.prototype)}},VisitorBadgeVisitorRepository=class{constructor(init){this.visitorBadgeClient=init.visitorBadgeClient}async request(execute){try{return await execute()}catch(error){throw error instanceof VisitorRepositoryError?error:new VisitorRepositoryError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getVisitorCount(){return await this.request(async()=>(await this.visitorBadgeClient.getVisitorCount({path:`github.com/hyoaru`})).count)}},VisitorBadgeClientError=class VisitorBadgeClientError extends Error{constructor(message,options){super(message,options),this.name=`VisitorBadgeClientError`,Object.setPrototypeOf(this,VisitorBadgeClientError.prototype)}},VisitorBadgeClientRequestError=class VisitorBadgeClientRequestError extends Error{constructor(message,options){super(message,options),this.name=`VisitorBadgeClientRequestError`,Object.setPrototypeOf(this,VisitorBadgeClientRequestError.prototype)}},LoggingVisitorBadgeClient=class{constructor(inner){this.inner=inner}async getVisitorCount(request){try{logger.info(`Requesting visitor count for path: ${request.path}`);let response=await this.inner.getVisitorCount(request);return logger.info(`Received visitor count: ${response}`),response}catch(error){throw logger.error(`Error while getting visitor count: ${error}`),error}}},DecoratedVisitorBadgeClient=class{constructor(inner){this.inner=new LoggingVisitorBadgeClient(inner)}async getVisitorCount(request){return await this.inner.getVisitorCount(request)}},HttpVisitorBadgeClient=class{constructor(api){this.api=api||axios_default.create({baseURL:`https://api.visitorbadge.io/api`})}async request(execute){try{return await execute()}catch(error){throw error instanceof VisitorBadgeClientError?error:axios_default.isAxiosError(error)?new VisitorBadgeClientRequestError(`An error has occured while requesting: ${error.message}`,{cause:error}):new VisitorBadgeClientError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async getVisitorCount(request){return await this.request(async()=>{let{data}=await this.api.get(`/visitors`,{params:{path:request.path},responseType:`text`}),match=data.match(/VISITORS:\s*([\d.kKM,]+)/i);if(match&&match[1]){let rawValue=match[1].trim();return{count:parseInt(rawValue.replace(/,/g,``),10)}}else throw new VisitorBadgeClientError(`Unable to extract visitor count from response`)})}},visitorRepository=new DecoratedVisitorRepository(new VisitorBadgeVisitorRepository({visitorBadgeClient:new DecoratedVisitorBadgeClient(new HttpVisitorBadgeClient)}));const visitorApi={baseKey:[`visitor`],query:{count:()=>queryOptions({queryKey:[...visitorApi.baseKey,`count`],queryFn:()=>commandBus.dispatch(new GetVisitorCount({visitorRepository})),staleTime:60*1e3*1})}};var import_compiler_runtime$28=require_compiler_runtime();const VisitorBadge=t0=>{let $$1=(0,import_compiler_runtime$28.c)(15),className,rest;$$1[0]===t0?(className=$$1[1],rest=$$1[2]):({className,...rest}=t0,$$1[0]=t0,$$1[1]=className,$$1[2]=rest);let t1;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t1=visitorApi.query.count(),$$1[3]=t1):t1=$$1[3];let{data}=useSuspenseQuery(t1),t2;$$1[4]===className?t2=$$1[5]:(t2=cn(`space-x-1 font-mono text-xs`,className),$$1[4]=className,$$1[5]=t2);let t3;$$1[6]===Symbol.for(`react.memo_cache_sentinel`)?(t3=(0,import_jsx_runtime.jsx)(`span`,{className:`text-foreground/60`,children:`VISITORS`}),$$1[6]=t3):t3=$$1[6];let t4;$$1[7]===data.count?t4=$$1[8]:(t4=data.count.toLocaleString(),$$1[7]=data.count,$$1[8]=t4);let t5;$$1[9]===t4?t5=$$1[10]:(t5=(0,import_jsx_runtime.jsx)(`span`,{className:`bg-default rounded-sm p-0.5`,children:t4}),$$1[9]=t4,$$1[10]=t5);let t6;return $$1[11]!==rest||$$1[12]!==t2||$$1[13]!==t5?(t6=(0,import_jsx_runtime.jsxs)(`p`,{className:t2,...rest,children:[t3,t5]}),$$1[11]=rest,$$1[12]=t2,$$1[13]=t5,$$1[14]=t6):t6=$$1[14],t6};var import_compiler_runtime$27=require_compiler_runtime();const ProfileDesktop=()=>{let $$1=(0,import_compiler_runtime$27.c)(10),t0,t1;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=new Date().getTime(),t1=new Date(`2002-08-31`).getTime(),$$1[0]=t0,$$1[1]=t1):(t0=$$1[0],t1=$$1[1]);let age=Math.floor((t0-t1)/31536e6),t2;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:`aspect-square w-[40%] shrink-0 overflow-hidden rounded-lg`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(PersonalImage,{})})}),$$1[2]=t2):t2=$$1[2];let t3;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t3=(0,import_jsx_runtime.jsxs)(`div`,{className:`me-auto flex shrink-0 items-center gap-2.5`,children:[(0,import_jsx_runtime.jsx)(`div`,{className:`text-xl`,children:(0,import_jsx_runtime.jsx)(Clock,{className:`text-accent h-[1em] w-[1em]`})}),(0,import_jsx_runtime.jsx)(PhilippineTime,{})]}),$$1[3]=t3):t3=$$1[3];let t4,t5;$$1[4]===Symbol.for(`react.memo_cache_sentinel`)?(t4=(0,import_jsx_runtime.jsxs)(`div`,{className:`flex items-center gap-2.5`,children:[t3,(0,import_jsx_runtime.jsx)(AsyncBoundary,{classNames:{suspense:{spinner:`hidden`},errorBoundary:{icon:`hidden`}},children:(0,import_jsx_runtime.jsx)(VisitorBadge,{})})]}),t5=(0,import_jsx_runtime.jsx)(`div`,{className:`h-full`}),$$1[4]=t4,$$1[5]=t5):(t4=$$1[4],t5=$$1[5]);let t6;$$1[6]===Symbol.for(`react.memo_cache_sentinel`)?(t6=(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(GitRecentCommitTile,{})}),$$1[6]=t6):t6=$$1[6];let t7,t8;$$1[7]===Symbol.for(`react.memo_cache_sentinel`)?(t7=(0,import_jsx_runtime.jsxs)(`div`,{className:`flex w-full gap-5`,children:[t2,(0,import_jsx_runtime.jsxs)(`div`,{className:`flex w-full min-w-0 flex-col`,children:[t4,t5,(0,import_jsx_runtime.jsxs)(`div`,{className:`flex h-[70%] shrink-0 flex-col gap-1`,children:[t6,(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(ListeningRecentTrackTile,{})})]})]})]}),t8=(0,import_jsx_runtime.jsx)(`div`,{className:`h-8 sm:h-10 lg:h-12`}),$$1[7]=t7,$$1[8]=t8):(t7=$$1[7],t8=$$1[8]);let t9;return $$1[9]===Symbol.for(`react.memo_cache_sentinel`)?(t9=(0,import_jsx_runtime.jsxs)(`div`,{className:`bg-background pattern-dots h-fit gap-2.5 rounded-xl p-5`,children:[t7,t8,(0,import_jsx_runtime.jsxs)(`p`,{className:`leading-5`,children:[`A Philippines-based `,age,`-year-old`,(0,import_jsx_runtime.jsxs)(`span`,{className:`text-accent font-bold`,children:[` multi-disciplinary engineer in Fullstack Development, DevOps, Quality Engineering, and Data Science.`,` `]}),`Over the past few years, Ive been building scalable applications, automating complex workflows, and transforming raw data into actionable insights. My work spans from developing web platforms and intuitive apps to architecting reliable systems and crafting data-driven solutions. I thrive at the intersection of code, systems, and intelligence  bringing fresh perspectives and a drive to turn ideas into impactful, meaningful solutions.`]})]}),$$1[9]=t9):t9=$$1[9],t9};var import_compiler_runtime$26=require_compiler_runtime();const ProfileMobile=()=>{let $$1=(0,import_compiler_runtime$26.c)(5),t0,t1;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=new Date().getTime(),t1=new Date(`2002-08-31`).getTime(),$$1[0]=t0,$$1[1]=t1):(t0=$$1[0],t1=$$1[1]);let age=Math.floor((t0-t1)/31536e6),t2;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:`aspect-[4/3] overflow-hidden rounded-lg`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsxs)(`div`,{className:`relative`,children:[(0,import_jsx_runtime.jsxs)(`div`,{className:`text-background dark:text-foreground absolute bottom-0 flex h-[20%] w-full items-center gap-1 pe-4 pb-10`,children:[(0,import_jsx_runtime.jsx)(`div`,{className:`flex h-full w-24 shrink-0 items-center justify-center`,children:(0,import_jsx_runtime.jsx)(PersonStanding,{className:`size-8`})}),(0,import_jsx_runtime.jsxs)(`p`,{className:`text-2xs xs:text-xs font-medium`,children:[`A Philippines-based `,age,`-year-old multi-disciplinary engineer in Fullstack Development, DevOps, Quality Engineering, and Data Science`]})]}),(0,import_jsx_runtime.jsx)(PersonalImage,{className:`aspect-[4/3] object-[center_30%]`})]})})}),$$1[2]=t2):t2=$$1[2];let t3;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t3=(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(GitRecentCommitTile,{variant:`compact`})}),$$1[3]=t3):t3=$$1[3];let t4;return $$1[4]===Symbol.for(`react.memo_cache_sentinel`)?(t4=(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsxs)(`div`,{className:`space-y-2.5`,children:[t2,(0,import_jsx_runtime.jsxs)(`div`,{className:`flex h-20 gap-1`,children:[t3,(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(ListeningRecentTrackTile,{variant:`compact`})})]}),(0,import_jsx_runtime.jsx)(GitStats,{})]})}),$$1[4]=t4):t4=$$1[4],t4};var import_compiler_runtime$25=require_compiler_runtime();const Profile=()=>{let $$1=(0,import_compiler_runtime$25.c)(2),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(`div`,{className:`hidden sm:block`,children:(0,import_jsx_runtime.jsx)(ProfileDesktop,{})}),$$1[0]=t0):t0=$$1[0];let t1;return $$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t0,(0,import_jsx_runtime.jsx)(`div`,{className:`block sm:hidden`,children:(0,import_jsx_runtime.jsx)(ProfileMobile,{})})]}),$$1[1]=t1):t1=$$1[1],t1};var import_compiler_runtime$24=require_compiler_runtime();const ActivityTile=t0=>{let $$1=(0,import_compiler_runtime$24.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`bg-custom-secondary/40 border-default flex h-full w-full items-center gap-3.5 overflow-hidden rounded-lg border p-1`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2};var ActivityTileIcon=t0=>{let $$1=(0,import_compiler_runtime$24.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`border-default bg-custom-secondary/60 text-foreground flex aspect-square h-full items-center justify-center rounded-md border`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},ActivityTileContent=t0=>{let $$1=(0,import_compiler_runtime$24.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`flex w-full flex-col items-start justify-center`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},ActivityTileContentHeader=t0=>{let $$1=(0,import_compiler_runtime$24.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`text-2xs truncate`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`p`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},ActivityTileContentBody=t0=>{let $$1=(0,import_compiler_runtime$24.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`w-[80%] truncate text-xs font-bold`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`p`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},ActivityTileContentFooter=t0=>{let $$1=(0,import_compiler_runtime$24.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`text-2xs truncate`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`p`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2};ActivityTile.Icon=ActivityTileIcon,ActivityTile.Content=ActivityTileContent,ActivityTile.ContentHeader=ActivityTileContentHeader,ActivityTile.ContentBody=ActivityTileContentBody,ActivityTile.ContentFooter=ActivityTileContentFooter;var h=(0,import_react.createContext)(null),c={didCatch:!1,error:null},m=class extends import_react.Component{constructor(e$1){super(e$1),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=c}static getDerivedStateFromError(e$1){return{didCatch:!0,error:e$1}}resetErrorBoundary(...e$1){let{error:t$1}=this.state;t$1!==null&&(this.props.onReset?.({args:e$1,reason:`imperative-api`}),this.setState(c))}componentDidCatch(e$1,t$1){this.props.onError?.(e$1,t$1)}componentDidUpdate(e$1,t$1){let{didCatch:o$2}=this.state,{resetKeys:s$1}=this.props;o$2&&t$1.error!==null&&C(e$1.resetKeys,s$1)&&(this.props.onReset?.({next:s$1,prev:e$1.resetKeys,reason:`keys`}),this.setState(c))}render(){let{children:e$1,fallbackRender:t$1,FallbackComponent:o$2,fallback:s$1}=this.props,{didCatch:n$1,error:a$2}=this.state,i$1=e$1;if(n$1){let u$1={error:a$2,resetErrorBoundary:this.resetErrorBoundary};if(typeof t$1==`function`)i$1=t$1(u$1);else if(o$2)i$1=(0,import_react.createElement)(o$2,u$1);else if(s$1!==void 0)i$1=s$1;else throw a$2}return(0,import_react.createElement)(h.Provider,{value:{didCatch:n$1,error:a$2,resetErrorBoundary:this.resetErrorBoundary}},i$1)}};function C(r$1=[],e$1=[]){return r$1.length!==e$1.length||r$1.some((t$1,o$2)=>!Object.is(t$1,e$1[o$2]))}var import_compiler_runtime$23=require_compiler_runtime();const ErrorTile=t0=>{let $$1=(0,import_compiler_runtime$23.c)(14),{classNames}=t0,t1=classNames?.base,t2;$$1[0]===t1?t2=$$1[1]:(t2=cn(`relative h-full w-full`,t1),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.icon,t4;$$1[2]===t3?t4=$$1[3]:(t4=cn(`text-danger absolute inset-0 m-auto size-8`,t3),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]===t4?t5=$$1[5]:(t5=(0,import_jsx_runtime.jsx)(TriangleAlert,{className:t4}),$$1[4]=t4,$$1[5]=t5);let t6=classNames?.skeleton,t7;$$1[6]===t6?t7=$$1[7]:(t7=cn(`bg-danger/10 h-full w-full rounded-lg`,t6),$$1[6]=t6,$$1[7]=t7);let t8;$$1[8]===t7?t8=$$1[9]:(t8=(0,import_jsx_runtime.jsx)(Skeleton,{animationType:`pulse`,className:t7}),$$1[8]=t7,$$1[9]=t8);let t9;return $$1[10]!==t2||$$1[11]!==t5||$$1[12]!==t8?(t9=(0,import_jsx_runtime.jsxs)(`div`,{className:t2,children:[t5,t8]}),$$1[10]=t2,$$1[11]=t5,$$1[12]=t8,$$1[13]=t9):t9=$$1[13],t9};var import_compiler_runtime$22=require_compiler_runtime();const LoadingTile=t0=>{let $$1=(0,import_compiler_runtime$22.c)(14),{classNames}=t0,t1=classNames?.base,t2;$$1[0]===t1?t2=$$1[1]:(t2=cn(`relative h-full w-full`,t1),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.spinner,t4;$$1[2]===t3?t4=$$1[3]:(t4=cn(`text-accent absolute inset-0 m-auto size-8`,t3),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]===t4?t5=$$1[5]:(t5=(0,import_jsx_runtime.jsx)(Spinner,{className:t4}),$$1[4]=t4,$$1[5]=t5);let t6=classNames?.skeleton,t7;$$1[6]===t6?t7=$$1[7]:(t7=cn(`bg-accent/[8%] h-full w-full rounded-lg`,t6),$$1[6]=t6,$$1[7]=t7);let t8;$$1[8]===t7?t8=$$1[9]:(t8=(0,import_jsx_runtime.jsx)(Skeleton,{className:t7}),$$1[8]=t7,$$1[9]=t8);let t9;return $$1[10]!==t2||$$1[11]!==t5||$$1[12]!==t8?(t9=(0,import_jsx_runtime.jsxs)(`div`,{className:t2,children:[t5,t8]}),$$1[10]=t2,$$1[11]=t5,$$1[12]=t8,$$1[13]=t9):t9=$$1[13],t9};var import_compiler_runtime$21=require_compiler_runtime();const AsyncBoundary=t0=>{let $$1=(0,import_compiler_runtime$21.c)(10),{classNames,children}=t0,t1=classNames?.errorBoundary,t2;$$1[0]===t1?t2=$$1[1]:(t2=(0,import_jsx_runtime.jsx)(ErrorTile,{classNames:t1}),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.suspense,t4;$$1[2]===t3?t4=$$1[3]:(t4=(0,import_jsx_runtime.jsx)(LoadingTile,{classNames:t3}),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]!==children||$$1[5]!==t4?(t5=(0,import_jsx_runtime.jsx)(import_react.Suspense,{fallback:t4,children}),$$1[4]=children,$$1[5]=t4,$$1[6]=t5):t5=$$1[6];let t6;return $$1[7]!==t2||$$1[8]!==t5?(t6=(0,import_jsx_runtime.jsx)(m,{fallback:t2,children:t5}),$$1[7]=t2,$$1[8]=t5,$$1[9]=t6):t6=$$1[9],t6};var import_compiler_runtime$20=require_compiler_runtime(),formatPH=date$2=>new Intl.DateTimeFormat(`en-PH`,{timeZone:`Asia/Manila`,hour:`2-digit`,minute:`2-digit`,second:`2-digit`,hour12:!1}).format(date$2);const PhilippineTime=(0,import_react.forwardRef)((t0,ref)=>{let $$1=(0,import_compiler_runtime$20.c)(12),className,rest;$$1[0]===t0?(className=$$1[1],rest=$$1[2]):({className,...rest}=t0,$$1[0]=t0,$$1[1]=className,$$1[2]=rest);let[time$2,setTime]=(0,import_react.useState)(_temp$6),t1,t2;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t1=()=>{let interval=setInterval(()=>{setTime(formatPH(new Date))},1e3);return()=>clearInterval(interval)},t2=[],$$1[3]=t1,$$1[4]=t2):(t1=$$1[3],t2=$$1[4]),(0,import_react.useEffect)(t1,t2);let t3;$$1[5]===className?t3=$$1[6]:(t3=cn(`text-sm`,className),$$1[5]=className,$$1[6]=t3);let t4;return $$1[7]!==ref||$$1[8]!==rest||$$1[9]!==t3||$$1[10]!==time$2?(t4=(0,import_jsx_runtime.jsx)(`p`,{ref,className:t3,...rest,children:time$2}),$$1[7]=ref,$$1[8]=rest,$$1[9]=t3,$$1[10]=time$2,$$1[11]=t4):t4=$$1[11],t4});function _temp$6(){return formatPH(new Date)}var import_compiler_runtime$19=require_compiler_runtime();const ThemeToggle=()=>{let $$1=(0,import_compiler_runtime$19.c)(8),{theme,setTheme}=z(),t0;$$1[0]!==setTheme||$$1[1]!==theme?(t0=()=>setTheme(theme===`dark`?`light`:`dark`),$$1[0]=setTheme,$$1[1]=theme,$$1[2]=t0):t0=$$1[2];let t1;$$1[3]===theme?t1=$$1[4]:(t1=theme===`light`?(0,import_jsx_runtime.jsx)(Sun,{}):(0,import_jsx_runtime.jsx)(Moon,{}),$$1[3]=theme,$$1[4]=t1);let t2;return $$1[5]!==t0||$$1[6]!==t1?(t2=(0,import_jsx_runtime.jsx)(Button,{isIconOnly:!0,size:`sm`,variant:`secondary`,className:`rounded-lg`,onPress:t0,children:t1}),$$1[5]=t0,$$1[6]=t1,$$1[7]=t2):t2=$$1[7],t2};var import_compiler_runtime$18=require_compiler_runtime();function Marquee(t0){let $$1=(0,import_compiler_runtime$18.c)(29),children,classNames,props,t1,t2,t3,t4;$$1[0]===t0?(children=$$1[1],classNames=$$1[2],props=$$1[3],t1=$$1[4],t2=$$1[5],t3=$$1[6],t4=$$1[7]):({classNames,reverse:t1,pauseOnHover:t2,children,vertical:t3,repeat:t4,...props}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=classNames,$$1[3]=props,$$1[4]=t1,$$1[5]=t2,$$1[6]=t3,$$1[7]=t4);let reverse=t1===void 0?!1:t1,pauseOnHover=t2===void 0?!1:t2,vertical=t3===void 0?!1:t3,repeat=t4===void 0?4:t4,t5=!vertical,t6;$$1[8]!==classNames?.base||$$1[9]!==t5||$$1[10]!==vertical?(t6=cn(`group [--gap-0.25rem] flex [gap:var(--gap)] overflow-hidden [--duration:40s]`,{"flex-row":t5,"flex-col":vertical},classNames?.base),$$1[8]=classNames?.base,$$1[9]=t5,$$1[10]=vertical,$$1[11]=t6):t6=$$1[11];let t7;if($$1[12]!==children||$$1[13]!==classNames?.container||$$1[14]!==pauseOnHover||$$1[15]!==repeat||$$1[16]!==reverse||$$1[17]!==vertical){let t8$1;$$1[19]!==children||$$1[20]!==classNames?.container||$$1[21]!==pauseOnHover||$$1[22]!==reverse||$$1[23]!==vertical?(t8$1=(_$1,i$1)=>(0,import_jsx_runtime.jsx)(`div`,{className:cn(`flex shrink-0 justify-around [gap:var(--gap)]`,{"animate-marquee flex-row":!vertical,"animate-marquee-vertical flex-col":vertical,"group-hover:[animation-play-state:paused]":pauseOnHover,"[animation-direction:reverse]":reverse},classNames?.container),children},i$1),$$1[19]=children,$$1[20]=classNames?.container,$$1[21]=pauseOnHover,$$1[22]=reverse,$$1[23]=vertical,$$1[24]=t8$1):t8$1=$$1[24],t7=Array(repeat).fill(0).map(t8$1),$$1[12]=children,$$1[13]=classNames?.container,$$1[14]=pauseOnHover,$$1[15]=repeat,$$1[16]=reverse,$$1[17]=vertical,$$1[18]=t7}else t7=$$1[18];let t8;return $$1[25]!==props||$$1[26]!==t6||$$1[27]!==t7?(t8=(0,import_jsx_runtime.jsx)(`div`,{...props,className:t6,children:t7}),$$1[25]=props,$$1[26]=t6,$$1[27]=t7,$$1[28]=t8):t8=$$1[28],t8}var import_compiler_runtime$17=require_compiler_runtime();const MetricCard=t0=>{let $$1=(0,import_compiler_runtime$17.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`bg-default rounded-lg`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2};var MetricCardBody=t0=>{let $$1=(0,import_compiler_runtime$17.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`mx-auto flex h-full w-[80%] flex-col justify-center leading-0`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2},MetricCardLabel=t0=>{let $$1=(0,import_compiler_runtime$17.c)(15),{children,classNames}=t0,t1=classNames?.base,t2;$$1[0]===t1?t2=$$1[1]:(t2=cn(`dark:text-accent flex w-full items-center justify-between`,t1),$$1[0]=t1,$$1[1]=t2);let t3=classNames?.label,t4;$$1[2]===t3?t4=$$1[3]:(t4=cn(`font-mono uppercase`,t3),$$1[2]=t3,$$1[3]=t4);let t5;$$1[4]!==children||$$1[5]!==t4?(t5=(0,import_jsx_runtime.jsx)(`p`,{className:t4,children}),$$1[4]=children,$$1[5]=t4,$$1[6]=t5):t5=$$1[6];let t6=classNames?.icon,t7;$$1[7]===t6?t7=$$1[8]:(t7=cn(`size-5`,t6),$$1[7]=t6,$$1[8]=t7);let t8;$$1[9]===t7?t8=$$1[10]:(t8=(0,import_jsx_runtime.jsx)(Hash,{className:t7}),$$1[9]=t7,$$1[10]=t8);let t9;return $$1[11]!==t2||$$1[12]!==t5||$$1[13]!==t8?(t9=(0,import_jsx_runtime.jsxs)(`div`,{className:t2,children:[t5,t8]}),$$1[11]=t2,$$1[12]=t5,$$1[13]=t8,$$1[14]=t9):t9=$$1[14],t9},MetricCardValue=t0=>{let $$1=(0,import_compiler_runtime$17.c)(10),children,className,rest;$$1[0]===t0?(children=$$1[1],className=$$1[2],rest=$$1[3]):({children,className,...rest}=t0,$$1[0]=t0,$$1[1]=children,$$1[2]=className,$$1[3]=rest);let t1;$$1[4]===className?t1=$$1[5]:(t1=cn(`text-accent dark:text-foreground text-xl font-bold`,className),$$1[4]=className,$$1[5]=t1);let t2;return $$1[6]!==children||$$1[7]!==rest||$$1[8]!==t1?(t2=(0,import_jsx_runtime.jsx)(`p`,{className:t1,...rest,children}),$$1[6]=children,$$1[7]=rest,$$1[8]=t1,$$1[9]=t2):t2=$$1[9],t2};MetricCard.Body=MetricCardBody,MetricCard.Label=MetricCardLabel,MetricCard.Value=MetricCardValue;var import_compiler_runtime$16=require_compiler_runtime();const Filler=t0=>{let $$1=(0,import_compiler_runtime$16.c)(8),className,rest;$$1[0]===t0?(className=$$1[1],rest=$$1[2]):({className,...rest}=t0,$$1[0]=t0,$$1[1]=className,$$1[2]=rest);let t1;$$1[3]===className?t1=$$1[4]:(t1=cn(`bg-background pattern-dots h-full w-full rounded-xl`,className),$$1[3]=className,$$1[4]=t1);let t2;return $$1[5]!==rest||$$1[6]!==t1?(t2=(0,import_jsx_runtime.jsx)(`div`,{className:t1,...rest}),$$1[5]=rest,$$1[6]=t1,$$1[7]=t2):t2=$$1[7],t2};var require_dayjs_min=__commonJSMin(((exports,module)=>{(function(t$1,e$1){typeof exports==`object`&&module!==void 0?module.exports=e$1():typeof define==`function`&&define.amd?define(e$1):(t$1=typeof globalThis<`u`?globalThis:t$1||self).dayjs=e$1()})(exports,(function(){var t$1=1e3,e$1=6e4,n$1=36e5,r$1=`millisecond`,i$1=`second`,s$1=`minute`,u$1=`hour`,a$2=`day`,o$2=`week`,c$3=`month`,f$2=`quarter`,h$2=`year`,d$2=`date`,l$2=`Invalid Date`,$$1=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y$2=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M$1={name:`en`,weekdays:`Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday`.split(`_`),months:`January_February_March_April_May_June_July_August_September_October_November_December`.split(`_`),ordinal:function(t$2){var e$2=[`th`,`st`,`nd`,`rd`],n$2=t$2%100;return`[`+t$2+(e$2[(n$2-20)%10]||e$2[n$2]||e$2[0])+`]`}},m$2=function(t$2,e$2,n$2){var r$2=String(t$2);return!r$2||r$2.length>=e$2?t$2:``+Array(e$2+1-r$2.length).join(n$2)+t$2},v$1={s:m$2,z:function(t$2){var e$2=-t$2.utcOffset(),n$2=Math.abs(e$2),r$2=Math.floor(n$2/60),i$2=n$2%60;return(e$2<=0?`+`:`-`)+m$2(r$2,2,`0`)+`:`+m$2(i$2,2,`0`)},m:function t$2(e$2,n$2){if(e$2.date()<n$2.date())return-t$2(n$2,e$2);var r$2=12*(n$2.year()-e$2.year())+(n$2.month()-e$2.month()),i$2=e$2.clone().add(r$2,c$3),s$2=n$2-i$2<0,u$2=e$2.clone().add(r$2+(s$2?-1:1),c$3);return+(-(r$2+(n$2-i$2)/(s$2?i$2-u$2:u$2-i$2))||0)},a:function(t$2){return t$2<0?Math.ceil(t$2)||0:Math.floor(t$2)},p:function(t$2){return{M:c$3,y:h$2,w:o$2,d:a$2,D:d$2,h:u$1,m:s$1,s:i$1,ms:r$1,Q:f$2}[t$2]||String(t$2||``).toLowerCase().replace(/s$/,``)},u:function(t$2){return t$2===void 0}},g$1=`en`,D$1={};D$1[g$1]=M$1;var p$2=`$isDayjsObject`,S$1=function(t$2){return t$2 instanceof _$1||!(!t$2||!t$2[p$2])},w$1=function t$2(e$2,n$2,r$2){var i$2;if(!e$2)return g$1;if(typeof e$2==`string`){var s$2=e$2.toLowerCase();D$1[s$2]&&(i$2=s$2),n$2&&(D$1[s$2]=n$2,i$2=s$2);var u$2=e$2.split(`-`);if(!i$2&&u$2.length>1)return t$2(u$2[0])}else{var a$3=e$2.name;D$1[a$3]=e$2,i$2=a$3}return!r$2&&i$2&&(g$1=i$2),i$2||!r$2&&g$1},O$1=function(t$2,e$2){if(S$1(t$2))return t$2.clone();var n$2=typeof e$2==`object`?e$2:{};return n$2.date=t$2,n$2.args=arguments,new _$1(n$2)},b$2=v$1;b$2.l=w$1,b$2.i=S$1,b$2.w=function(t$2,e$2){return O$1(t$2,{locale:e$2.$L,utc:e$2.$u,x:e$2.$x,$offset:e$2.$offset})};var _$1=function(){function M$2(t$2){this.$L=w$1(t$2.locale,null,!0),this.parse(t$2),this.$x=this.$x||t$2.x||{},this[p$2]=!0}var m$3=M$2.prototype;return m$3.parse=function(t$2){this.$d=function(t$3){var e$2=t$3.date,n$2=t$3.utc;if(e$2===null)return new Date(NaN);if(b$2.u(e$2))return new Date;if(e$2 instanceof Date)return new Date(e$2);if(typeof e$2==`string`&&!/Z$/i.test(e$2)){var r$2=e$2.match($$1);if(r$2){var i$2=r$2[2]-1||0,s$2=(r$2[7]||`0`).substring(0,3);return n$2?new Date(Date.UTC(r$2[1],i$2,r$2[3]||1,r$2[4]||0,r$2[5]||0,r$2[6]||0,s$2)):new Date(r$2[1],i$2,r$2[3]||1,r$2[4]||0,r$2[5]||0,r$2[6]||0,s$2)}}return new Date(e$2)}(t$2),this.init()},m$3.init=function(){var t$2=this.$d;this.$y=t$2.getFullYear(),this.$M=t$2.getMonth(),this.$D=t$2.getDate(),this.$W=t$2.getDay(),this.$H=t$2.getHours(),this.$m=t$2.getMinutes(),this.$s=t$2.getSeconds(),this.$ms=t$2.getMilliseconds()},m$3.$utils=function(){return b$2},m$3.isValid=function(){return this.$d.toString()!==l$2},m$3.isSame=function(t$2,e$2){var n$2=O$1(t$2);return this.startOf(e$2)<=n$2&&n$2<=this.endOf(e$2)},m$3.isAfter=function(t$2,e$2){return O$1(t$2)<this.startOf(e$2)},m$3.isBefore=function(t$2,e$2){return this.endOf(e$2)<O$1(t$2)},m$3.$g=function(t$2,e$2,n$2){return b$2.u(t$2)?this[e$2]:this.set(n$2,t$2)},m$3.unix=function(){return Math.floor(this.valueOf()/1e3)},m$3.valueOf=function(){return this.$d.getTime()},m$3.startOf=function(t$2,e$2){var n$2=this,r$2=!!b$2.u(e$2)||e$2,f$3=b$2.p(t$2),l$3=function(t$3,e$3){var i$2=b$2.w(n$2.$u?Date.UTC(n$2.$y,e$3,t$3):new Date(n$2.$y,e$3,t$3),n$2);return r$2?i$2:i$2.endOf(a$2)},$$2=function(t$3,e$3){return b$2.w(n$2.toDate()[t$3].apply(n$2.toDate(`s`),(r$2?[0,0,0,0]:[23,59,59,999]).slice(e$3)),n$2)},y$3=this.$W,M$3=this.$M,m$4=this.$D,v$2=`set`+(this.$u?`UTC`:``);switch(f$3){case h$2:return r$2?l$3(1,0):l$3(31,11);case c$3:return r$2?l$3(1,M$3):l$3(0,M$3+1);case o$2:var g$2=this.$locale().weekStart||0,D$2=(y$3<g$2?y$3+7:y$3)-g$2;return l$3(r$2?m$4-D$2:m$4+(6-D$2),M$3);case a$2:case d$2:return $$2(v$2+`Hours`,0);case u$1:return $$2(v$2+`Minutes`,1);case s$1:return $$2(v$2+`Seconds`,2);case i$1:return $$2(v$2+`Milliseconds`,3);default:return this.clone()}},m$3.endOf=function(t$2){return this.startOf(t$2,!1)},m$3.$set=function(t$2,e$2){var n$2,o$3=b$2.p(t$2),f$3=`set`+(this.$u?`UTC`:``),l$3=(n$2={},n$2[a$2]=f$3+`Date`,n$2[d$2]=f$3+`Date`,n$2[c$3]=f$3+`Month`,n$2[h$2]=f$3+`FullYear`,n$2[u$1]=f$3+`Hours`,n$2[s$1]=f$3+`Minutes`,n$2[i$1]=f$3+`Seconds`,n$2[r$1]=f$3+`Milliseconds`,n$2)[o$3],$$2=o$3===a$2?this.$D+(e$2-this.$W):e$2;if(o$3===c$3||o$3===h$2){var y$3=this.clone().set(d$2,1);y$3.$d[l$3]($$2),y$3.init(),this.$d=y$3.set(d$2,Math.min(this.$D,y$3.daysInMonth())).$d}else l$3&&this.$d[l$3]($$2);return this.init(),this},m$3.set=function(t$2,e$2){return this.clone().$set(t$2,e$2)},m$3.get=function(t$2){return this[b$2.p(t$2)]()},m$3.add=function(r$2,f$3){var d$3,l$3=this;r$2=Number(r$2);var $$2=b$2.p(f$3),y$3=function(t$2){var e$2=O$1(l$3);return b$2.w(e$2.date(e$2.date()+Math.round(t$2*r$2)),l$3)};if($$2===c$3)return this.set(c$3,this.$M+r$2);if($$2===h$2)return this.set(h$2,this.$y+r$2);if($$2===a$2)return y$3(1);if($$2===o$2)return y$3(7);var M$3=(d$3={},d$3[s$1]=e$1,d$3[u$1]=n$1,d$3[i$1]=t$1,d$3)[$$2]||1,m$4=this.$d.getTime()+r$2*M$3;return b$2.w(m$4,this)},m$3.subtract=function(t$2,e$2){return this.add(-1*t$2,e$2)},m$3.format=function(t$2){var e$2=this,n$2=this.$locale();if(!this.isValid())return n$2.invalidDate||l$2;var r$2=t$2||`YYYY-MM-DDTHH:mm:ssZ`,i$2=b$2.z(this),s$2=this.$H,u$2=this.$m,a$3=this.$M,o$3=n$2.weekdays,c$4=n$2.months,f$3=n$2.meridiem,h$3=function(t$3,n$3,i$3,s$3){return t$3&&(t$3[n$3]||t$3(e$2,r$2))||i$3[n$3].slice(0,s$3)},d$3=function(t$3){return b$2.s(s$2%12||12,t$3,`0`)},$$2=f$3||function(t$3,e$3,n$3){var r$3=t$3<12?`AM`:`PM`;return n$3?r$3.toLowerCase():r$3};return r$2.replace(y$2,(function(t$3,r$3){return r$3||function(t$4){switch(t$4){case`YY`:return String(e$2.$y).slice(-2);case`YYYY`:return b$2.s(e$2.$y,4,`0`);case`M`:return a$3+1;case`MM`:return b$2.s(a$3+1,2,`0`);case`MMM`:return h$3(n$2.monthsShort,a$3,c$4,3);case`MMMM`:return h$3(c$4,a$3);case`D`:return e$2.$D;case`DD`:return b$2.s(e$2.$D,2,`0`);case`d`:return String(e$2.$W);case`dd`:return h$3(n$2.weekdaysMin,e$2.$W,o$3,2);case`ddd`:return h$3(n$2.weekdaysShort,e$2.$W,o$3,3);case`dddd`:return o$3[e$2.$W];case`H`:return String(s$2);case`HH`:return b$2.s(s$2,2,`0`);case`h`:return d$3(1);case`hh`:return d$3(2);case`a`:return $$2(s$2,u$2,!0);case`A`:return $$2(s$2,u$2,!1);case`m`:return String(u$2);case`mm`:return b$2.s(u$2,2,`0`);case`s`:return String(e$2.$s);case`ss`:return b$2.s(e$2.$s,2,`0`);case`SSS`:return b$2.s(e$2.$ms,3,`0`);case`Z`:return i$2}return null}(t$3)||i$2.replace(`:`,``)}))},m$3.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m$3.diff=function(r$2,d$3,l$3){var $$2,y$3=this,M$3=b$2.p(d$3),m$4=O$1(r$2),v$2=(m$4.utcOffset()-this.utcOffset())*e$1,g$2=this-m$4,D$2=function(){return b$2.m(y$3,m$4)};switch(M$3){case h$2:$$2=D$2()/12;break;case c$3:$$2=D$2();break;case f$2:$$2=D$2()/3;break;case o$2:$$2=(g$2-v$2)/6048e5;break;case a$2:$$2=(g$2-v$2)/864e5;break;case u$1:$$2=g$2/n$1;break;case s$1:$$2=g$2/e$1;break;case i$1:$$2=g$2/t$1;break;default:$$2=g$2}return l$3?$$2:b$2.a($$2)},m$3.daysInMonth=function(){return this.endOf(c$3).$D},m$3.$locale=function(){return D$1[this.$L]},m$3.locale=function(t$2,e$2){if(!t$2)return this.$L;var n$2=this.clone(),r$2=w$1(t$2,e$2,!0);return r$2&&(n$2.$L=r$2),n$2},m$3.clone=function(){return b$2.w(this.$d,this)},m$3.toDate=function(){return new Date(this.valueOf())},m$3.toJSON=function(){return this.isValid()?this.toISOString():null},m$3.toISOString=function(){return this.$d.toISOString()},m$3.toString=function(){return this.$d.toUTCString()},M$2}(),k$1=_$1.prototype;return O$1.prototype=k$1,[[`$ms`,r$1],[`$s`,i$1],[`$m`,s$1],[`$H`,u$1],[`$W`,a$2],[`$M`,c$3],[`$y`,h$2],[`$D`,d$2]].forEach((function(t$2){k$1[t$2[1]]=function(e$2){return this.$g(e$2,t$2[0],t$2[1])}})),O$1.extend=function(t$2,e$2){return t$2.$i||=(t$2(e$2,_$1,O$1),!0),O$1},O$1.locale=w$1,O$1.isDayjs=S$1,O$1.unix=function(t$2){return O$1(1e3*t$2)},O$1.en=D$1[g$1],O$1.Ls=D$1,O$1.p={},O$1}))})),import_dayjs_min=__toESM(require_dayjs_min(),1),TimestampToMonthYear=class{constructor(ts){this.ts=ts}format(){return(0,import_dayjs_min.default)(this.ts).format(`MMMM YYYY`)}},import_compiler_runtime$15=require_compiler_runtime();const CareerPanel=()=>{let $$1=(0,import_compiler_runtime$15.c)(25),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=identityApi.query.careerHistory(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),T0,t1,t2,t3,t4,t5,t6;if($$1[1]!==data.careerHistory){let careerHistory=[...data.careerHistory].reverse();t5=`flex h-full min-h-0 flex-col space-y-2.5`;let t7$1;$$1[9]===Symbol.for(`react.memo_cache_sentinel`)?(t7$1=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`fullstack engineering`}),$$1[9]=t7$1):t7$1=$$1[9];let t8$1;$$1[10]===Symbol.for(`react.memo_cache_sentinel`)?(t8$1=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`cloud infrastructure`}),$$1[10]=t8$1):t8$1=$$1[10];let t9$1;$$1[11]===Symbol.for(`react.memo_cache_sentinel`)?(t9$1=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`data-driven insights`}),$$1[11]=t9$1):t9$1=$$1[11],$$1[12]===Symbol.for(`react.memo_cache_sentinel`)?(t6=(0,import_jsx_runtime.jsx)(`div`,{className:`h-fit shrink-0`,children:(0,import_jsx_runtime.jsxs)(`p`,{className:`pb-2.5 sm:text-xl`,children:[`Thriving at the intersection of code, systems, and intelligenceintegrating`,` `,t7$1,`, automated`,` `,t8$1,`, and`,` `,t9$1,` `,`into a unified framework for high-performance,`,` `,(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`architected systems`}),`.`]})}),$$1[12]=t6):t6=$$1[12],T0=ScrollShadow,t3=!0,t4=`h-full min-h-0 lg:pb-0`,t1=`flex flex-grow flex-col gap-y-2.5`,t2=careerHistory.map((experience,index)=>{index=data.careerHistory.length-1-index;let startedAt=new TimestampToMonthYear(experience.startedAt).format(),endedAt=experience.endedAt?new TimestampToMonthYear(experience.endedAt).format():`Present`;return(0,import_jsx_runtime.jsxs)(CareerCard,{children:[(0,import_jsx_runtime.jsx)(CareerCard.NextIndicator,{}),(0,import_jsx_runtime.jsxs)(CareerCard.Content,{children:[(0,import_jsx_runtime.jsxs)(CareerCard.Title,{children:[`[`,index==data.careerHistory.length-1?(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[` `,(0,import_jsx_runtime.jsx)(`span`,{className:`bg-success relative inline-block size-2 rounded-full align-middle`,children:(0,import_jsx_runtime.jsx)(`span`,{className:`border-success absolute inset-0 m-auto animate-ping rounded-full border`})}),` `]}):(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[`0`,index+1]}),`]::`,experience.title]}),(0,import_jsx_runtime.jsxs)(CareerCard.ContentHeader,{children:[(0,import_jsx_runtime.jsxs)(CareerCard.Date,{children:[startedAt,` - `,endedAt]}),(0,import_jsx_runtime.jsxs)(CareerCard.Location,{children:[experience.organization,`  `,experience.country]})]}),(0,import_jsx_runtime.jsxs)(CareerCard.ContentBody,{children:[(0,import_jsx_runtime.jsx)(CareerCard.Description,{children:experience.summary}),(0,import_jsx_runtime.jsxs)(CareerCard.KeyAchievements,{children:[(0,import_jsx_runtime.jsx)(CareerCard.KeyAchievementsHeader,{}),(0,import_jsx_runtime.jsx)(CareerCard.KeyAchievementsList,{children:experience.highlights.map(highlight=>(0,import_jsx_runtime.jsx)(CareerCard.KeyAchievementsListItem,{children:highlight},`${experience.title}-${highlight}`))})]}),(0,import_jsx_runtime.jsxs)(CareerCard.Technologies,{children:[(0,import_jsx_runtime.jsx)(CareerCard.TechnologiesHeader,{}),(0,import_jsx_runtime.jsx)(CareerCard.TechnologiesList,{children:experience.technologies.map(technology=>(0,import_jsx_runtime.jsx)(CareerCard.TechnologyChip,{children:technology},`${experience.title}-${technology}`))})]})]})]})]},`${index}-${experience.title}`)}),$$1[1]=data.careerHistory,$$1[2]=T0,$$1[3]=t1,$$1[4]=t2,$$1[5]=t3,$$1[6]=t4,$$1[7]=t5,$$1[8]=t6}else T0=$$1[2],t1=$$1[3],t2=$$1[4],t3=$$1[5],t4=$$1[6],t5=$$1[7],t6=$$1[8];let t7;$$1[13]!==t1||$$1[14]!==t2?(t7=(0,import_jsx_runtime.jsx)(`div`,{className:t1,children:t2}),$$1[13]=t1,$$1[14]=t2,$$1[15]=t7):t7=$$1[15];let t8;$$1[16]!==T0||$$1[17]!==t3||$$1[18]!==t4||$$1[19]!==t7?(t8=(0,import_jsx_runtime.jsx)(T0,{hideScrollBar:t3,className:t4,children:t7}),$$1[16]=T0,$$1[17]=t3,$$1[18]=t4,$$1[19]=t7,$$1[20]=t8):t8=$$1[20];let t9;return $$1[21]!==t5||$$1[22]!==t6||$$1[23]!==t8?(t9=(0,import_jsx_runtime.jsxs)(`div`,{className:t5,children:[t6,t8]}),$$1[21]=t5,$$1[22]=t6,$$1[23]=t8,$$1[24]=t9):t9=$$1[24],t9};var import_compiler_runtime$14=require_compiler_runtime();const CertificationPanel=()=>{let $$1=(0,import_compiler_runtime$14.c)(8),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=identityApi.query.certifications(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`academic`}),$$1[1]=t1):t1=$$1[1];let t2;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`professional`}),$$1[2]=t2):t2=$$1[2];let t3;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t3=(0,import_jsx_runtime.jsx)(`div`,{className:`h-fit shrink-0`,children:(0,import_jsx_runtime.jsxs)(`p`,{className:`pb-2.5 lg:text-xl`,children:[`A collection of milestones and certifications from my`,` `,t1,` and`,` `,t2,` `,`pathshowcasing the`,` `,(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`reflections of my dedication to continuous`}),` `,`learning that have contributed to my expertise and reputation in the field.`]})}),$$1[3]=t3):t3=$$1[3];let t4;$$1[4]===data.certifications?t4=$$1[5]:(t4=data.certifications.map(_temp$5),$$1[4]=data.certifications,$$1[5]=t4);let t5;return $$1[6]===t4?t5=$$1[7]:(t5=(0,import_jsx_runtime.jsxs)(`div`,{className:`flex h-full min-h-0 flex-col space-y-2.5`,children:[t3,(0,import_jsx_runtime.jsx)(ScrollShadow,{hideScrollBar:!0,className:`h-full min-h-0`,children:(0,import_jsx_runtime.jsx)(`div`,{className:`grid grow grid-cols-1 gap-2.5 sm:grid-cols-2`,children:t4})})]}),$$1[6]=t4,$$1[7]=t5),t5};function _temp$5(certification){return(0,import_jsx_runtime.jsx)(CertificationCard,{...certification},`certification-${certification.title}`)}var SendMessage=class{constructor(init){this.request=init.request,this.messenger=init.messenger}async execute(){await this.messenger.sendMessage(this.request.message)}},LoggingMessenger=class{constructor(inner){this.inner=inner}async sendMessage(message){try{console.log(`Sending message:`,message),await this.inner.sendMessage(message),console.log(`Message sent successfully`)}catch(error){throw console.error(`Failed to send message:`),error}}},DecoratedMessenger=class{constructor(inner){this.inner=new LoggingMessenger(inner)}async sendMessage(message){return this.inner.sendMessage(message)}},MessengerError=class MessengerError extends Error{constructor(message,options){super(message,options),this.name=`MessengerError`,Object.setPrototypeOf(this,MessengerError.prototype)}},FormSubmitMessenger=class{constructor(init){this.formSubmitClient=init.formSubmitClient}async request(execute){try{return await execute()}catch(error){throw error instanceof MessengerError?error:new MessengerError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async sendMessage(message){await this.request(()=>this.formSubmitClient.sendMessage({email:`hello@jadecabrera.com`,message}))}},FormSubmitClientError=class FormSubmitClientError extends Error{constructor(message,options){super(message,options),this.name=`FormSubmitClientError`,Object.setPrototypeOf(this,FormSubmitClientError.prototype)}},FormSubmitClientRequestError=class FormSubmitClientRequestError extends Error{constructor(message,options){super(message,options),this.name=`FormSubmitClientRequestError`,Object.setPrototypeOf(this,FormSubmitClientRequestError.prototype)}},LoggingFormSubmitClient=class{constructor(inner){this.inner=inner}async sendMessage(request){try{logger.info(`Sending message to ${request.email}`),await this.inner.sendMessage(request),logger.info(`Message sent to ${request.email}`)}catch(error){throw logger.error(`Failed to send message to ${request.email}`),error}}},DecoratedFormSubmitClient=class{constructor(inner){this.inner=new LoggingFormSubmitClient(inner)}async sendMessage(request){await this.inner.sendMessage(request)}},HttpFormSubmitClient=class{constructor(api){this.api=api||axios_default.create({baseURL:`https://formsubmit.co/ajax`,headers:{"Content-Type":`application/json`}})}async request(execute){try{return await execute()}catch(error){throw error instanceof FormSubmitClientError?error:axios_default.isAxiosError(error)?new FormSubmitClientRequestError(`An error has occured while requesting: ${error.message}`,{cause:error}):new FormSubmitClientError(`An error has occured: ${error instanceof Error?error.message:String(error)}`,{cause:error})}}async sendMessage(request){return await this.request(async()=>{await this.api.post(`/${request.email}`,{body:JSON.stringify({message:request.message})})})}},messenger=new DecoratedMessenger(new FormSubmitMessenger({formSubmitClient:new DecoratedFormSubmitClient(new HttpFormSubmitClient)}));const contactApi={baseKey:[`contact`],mutation:{message:()=>mutationOptions({mutationKey:[...contactApi.baseKey,`message`],mutationFn:message=>commandBus.dispatch(new SendMessage({request:{message},messenger}))})}};var LiteThrottler=class{constructor(fn,options){this.fn=fn,this.options=options,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...args)=>{let timeSinceLastExecution=Date.now()-this.lastExecutionTime;if(this.options.leading&&timeSinceLastExecution>=this.options.wait)this.execute(...args);else if(this.lastArgs=args,!this.timeoutId&&this.options.trailing){let timeoutDuration=this.options.wait-timeSinceLastExecution;this.isPending=!0,this.timeoutId=setTimeout(()=>{this.lastArgs!==void 0&&this.execute(...this.lastArgs)},timeoutDuration)}},this.execute=(...args)=>{this.fn(...args),this.options.onExecute?.(args,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&=(clearTimeout(this.timeoutId),void 0)},this.options.leading===void 0&&this.options.trailing===void 0&&(this.options.leading=!0,this.options.trailing=!0)}};function liteThrottle(fn,options){return new LiteThrottler(fn,options).maybeExecute}var EventClient=class{#e=!0;#t;#n;#r;#i;#a;#o;#s;#c=0;#l=5;#u=!1;#d=!1;#f=null;#p=()=>{this.debugLog(`Connected to event bus`),this.#a=!0,this.#u=!1,this.debugLog(`Emitting queued events`,this.#i),this.#i.forEach(event=>this.emitEventToBus(event)),this.#i=[],this.stopConnectLoop(),this.#n().removeEventListener(`tanstack-connect-success`,this.#p)};#m=()=>{if(this.#c<this.#l){this.#c++,this.dispatchCustomEvent(`tanstack-connect`,{});return}this.#n().removeEventListener(`tanstack-connect`,this.#m),this.#d=!0,this.debugLog(`Max retries reached, giving up on connection`),this.stopConnectLoop()};#h=()=>{this.#u||(this.#u=!0,this.#n().addEventListener(`tanstack-connect-success`,this.#p),this.#m())};constructor({pluginId,debug=!1,enabled=!0,reconnectEveryMs=300}){this.#t=pluginId,this.#e=enabled,this.#n=this.getGlobalTarget,this.#r=debug,this.debugLog(` Initializing event subscription for plugin`,this.#t),this.#i=[],this.#a=!1,this.#d=!1,this.#o=null,this.#s=reconnectEveryMs}startConnectLoop(){this.#o!==null||this.#a||(this.debugLog(`Starting connect loop (every ${this.#s}ms)`),this.#o=setInterval(this.#m,this.#s))}stopConnectLoop(){this.#u=!1,this.#o!==null&&(clearInterval(this.#o),this.#o=null,this.#i=[],this.debugLog(`Stopped connect loop`))}debugLog(...args){this.#r&&console.log(` [tanstack-devtools:${this.#t}-plugin]`,...args)}getGlobalTarget(){if(typeof globalThis<`u`&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog(`Using global event target`),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<`u`&&window.addEventListener!==void 0)return this.debugLog(`Using window as event target`),window;let eventTarget=typeof EventTarget<`u`?new EventTarget:void 0;return eventTarget===void 0||eventTarget.addEventListener===void 0?(this.debugLog(`No event mechanism available, running in non-web environment`),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog(`Using new EventTarget as fallback`),eventTarget)}getPluginId(){return this.#t}dispatchCustomEventShim(eventName,detail){try{let event=new Event(eventName,{detail});this.#n().dispatchEvent(event)}catch{this.debugLog(`Failed to dispatch shim event`)}}dispatchCustomEvent(eventName,detail){try{this.#n().dispatchEvent(new CustomEvent(eventName,{detail}))}catch{this.dispatchCustomEventShim(eventName,detail)}}emitEventToBus(event){this.debugLog(`Emitting event to client bus`,event),this.dispatchCustomEvent(`tanstack-dispatch-event`,event)}createEventPayload(eventSuffix,payload){return{type:`${this.#t}:${eventSuffix}`,payload,pluginId:this.#t}}emit(eventSuffix,payload){if(!this.#e){this.debugLog(`Event bus client is disabled, not emitting event`,eventSuffix,payload);return}if(this.#f&&(this.debugLog(`Emitting event to internal event target`,eventSuffix,payload),this.#f.dispatchEvent(new CustomEvent(`${this.#t}:${eventSuffix}`,{detail:this.createEventPayload(eventSuffix,payload)}))),this.#d){this.debugLog(`Previously failed to connect, not emitting to bus`);return}if(!this.#a){this.debugLog(`Bus not available, will be pushed as soon as connected`),this.#i.push(this.createEventPayload(eventSuffix,payload)),typeof CustomEvent<`u`&&!this.#u&&(this.#h(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(eventSuffix,payload))}on(eventSuffix,cb,options){let withEventTarget=options?.withEventTarget??!1,eventName=`${this.#t}:${eventSuffix}`;if(withEventTarget&&(this.#f||=new EventTarget,this.#f.addEventListener(eventName,e$1=>{cb(e$1.detail)})),!this.#e)return this.debugLog(`Event bus client is disabled, not registering event`,eventName),()=>{};let handler=e$1=>{this.debugLog(`Received event from bus`,e$1.detail),cb(e$1.detail)};return this.#n().addEventListener(eventName,handler),this.debugLog(`Registered event to bus`,eventName),()=>{withEventTarget&&this.#f?.removeEventListener(eventName,handler),this.#n().removeEventListener(eventName,handler)}}onAll(cb){if(!this.#e)return this.debugLog(`Event bus client is disabled, not registering event`),()=>{};let handler=e$1=>{let event=e$1.detail;cb(event)};return this.#n().addEventListener(`tanstack-devtools-global`,handler),()=>this.#n().removeEventListener(`tanstack-devtools-global`,handler)}onAllPluginEvents(cb){if(!this.#e)return this.debugLog(`Event bus client is disabled, not registering event`),()=>{};let handler=e$1=>{let event=e$1.detail;this.#t&&event.pluginId!==this.#t||cb(event)};return this.#n().addEventListener(`tanstack-devtools-global`,handler),()=>this.#n().removeEventListener(`tanstack-devtools-global`,handler)}},FormEventClient=class extends EventClient{constructor(){super({pluginId:`form-devtools`,reconnectEveryMs:1e3})}},formEventClient=new FormEventClient;function functionalUpdate(updater,input){return typeof updater==`function`?updater(input):updater}function getBy(obj,path){return makePathArray(path).reduce((current,pathPart)=>{if(current===null)return null;if(current!==void 0)return current[pathPart]},obj)}function setBy(obj,_path,updater){let path=makePathArray(_path);function doSet(parent){if(!path.length)return functionalUpdate(updater,parent);let key=path.shift();if(typeof key==`string`||typeof key==`number`&&!Array.isArray(parent))return typeof parent==`object`?(parent===null&&(parent={}),{...parent,[key]:doSet(parent[key])}):{[key]:doSet()};if(Array.isArray(parent)&&typeof key==`number`){let prefix=parent.slice(0,key);return[...prefix.length?prefix:Array(key),doSet(parent[key]),...parent.slice(key+1)]}return[...Array(key),doSet()]}return doSet(obj)}function deleteBy(obj,_path){let path=makePathArray(_path);function doDelete(parent){if(!parent)return;if(path.length===1){let finalPath=path[0];if(Array.isArray(parent)&&typeof finalPath==`number`)return parent.filter((_$1,i$1)=>i$1!==finalPath);let{[finalPath]:remove,...rest}=parent;return rest}let key=path.shift();if((typeof key==`string`||typeof key==`number`&&!Array.isArray(parent))&&typeof parent==`object`)return{...parent,[key]:doDelete(parent[key])};if(typeof key==`number`&&Array.isArray(parent)){if(key>=parent.length)return parent;let prefix=parent.slice(0,key);return[...prefix.length?prefix:Array(key),doDelete(parent[key]),...parent.slice(key+1)]}throw Error(`It seems we have created an infinite loop in deleteBy. `)}return doDelete(obj)}var reLineOfOnlyDigits=/^(\d+)$/gm,reDigitsBetweenDots=/\.(\d+)(?=\.)/gm,reStartWithDigitThenDot=/^(\d+)\./gm,reDotWithDigitsToEnd=/\.(\d+$)/gm,reMultipleDots=/\.{2,}/gm,intPrefix=`__int__`,intReplace=`${intPrefix}$1`;function makePathArray(str){if(Array.isArray(str))return[...str];if(typeof str!=`string`)throw Error(`Path must be a string.`);return str.replace(/(^\[)|]/gm,``).replace(/\[/g,`.`).replace(reLineOfOnlyDigits,intReplace).replace(reDigitsBetweenDots,`.${intReplace}.`).replace(reStartWithDigitThenDot,`${intReplace}.`).replace(reDotWithDigitsToEnd,`.${intReplace}`).replace(reMultipleDots,`.`).split(`.`).map(d$2=>{if(d$2.startsWith(intPrefix)){let numStr=d$2.substring(7),num=parseInt(numStr,10);return String(num)===numStr?num:numStr}return d$2})}function isNonEmptyArray(obj){return!(Array.isArray(obj)&&obj.length===0)}function getSyncValidatorArray(cause,options){return options.validationLogic({form:options.form,validators:options.validators,event:{type:cause,async:!1},runValidation:props=>props.validators.filter(Boolean).map(validator=>({cause:validator.cause,validate:validator.fn}))})}function getAsyncValidatorArray(cause,options){let{asyncDebounceMs}=options,{onBlurAsyncDebounceMs,onChangeAsyncDebounceMs,onDynamicAsyncDebounceMs}=options.validators||{},defaultDebounceMs=asyncDebounceMs??0;return options.validationLogic({form:options.form,validators:options.validators,event:{type:cause,async:!0},runValidation:props=>props.validators.filter(Boolean).map(validator=>{let validatorCause=validator?.cause||cause,debounceMs=defaultDebounceMs;switch(validatorCause){case`change`:debounceMs=onChangeAsyncDebounceMs??defaultDebounceMs;break;case`blur`:debounceMs=onBlurAsyncDebounceMs??defaultDebounceMs;break;case`dynamic`:debounceMs=onDynamicAsyncDebounceMs??defaultDebounceMs;break;case`submit`:debounceMs=0;break}return cause===`submit`&&(debounceMs=0),{cause:validatorCause,validate:validator.fn,debounceMs}})})}var isGlobalFormValidationError=error=>!!error&&typeof error==`object`&&`fields`in error;function evaluate(objA,objB){if(Object.is(objA,objB))return!0;if(typeof objA!=`object`||!objA||typeof objB!=`object`||!objB)return!1;if(objA instanceof Date&&objB instanceof Date)return objA.getTime()===objB.getTime();if(objA instanceof Map&&objB instanceof Map){if(objA.size!==objB.size)return!1;for(let[k$1,v$1]of objA)if(!objB.has(k$1)||!Object.is(v$1,objB.get(k$1)))return!1;return!0}if(objA instanceof Set&&objB instanceof Set){if(objA.size!==objB.size)return!1;for(let v$1 of objA)if(!objB.has(v$1))return!1;return!0}let keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(let key of keysA)if(!keysB.includes(key)||!evaluate(objA[key],objB[key]))return!1;return!0}var determineFormLevelErrorSourceAndValue=({newFormValidatorError,isPreviousErrorFromFormValidator,previousErrorValue})=>newFormValidatorError?{newErrorValue:newFormValidatorError,newSource:`form`}:isPreviousErrorFromFormValidator?{newErrorValue:void 0,newSource:void 0}:previousErrorValue?{newErrorValue:previousErrorValue,newSource:`field`}:{newErrorValue:void 0,newSource:void 0},determineFieldLevelErrorSourceAndValue=({formLevelError,fieldLevelError})=>fieldLevelError?{newErrorValue:fieldLevelError,newSource:`field`}:formLevelError?{newErrorValue:formLevelError,newSource:`form`}:{newErrorValue:void 0,newSource:void 0};function mergeOpts(originalOpts,overrides){return originalOpts==null?overrides:{...originalOpts,...overrides}}for(var IDX=256,HEX=[],BUFFER;IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);function uuid$1(){let i$1=0,num,out=``;if(!BUFFER||IDX+16>256){for(BUFFER=Array(256),i$1=256;i$1--;)BUFFER[i$1]=256*Math.random()|0;i$1=0,IDX=0}for(;i$1<16;i$1++)num=BUFFER[IDX+i$1],i$1===6?out+=HEX[num&15|64]:i$1===8?out+=HEX[num&63|128]:out+=HEX[num],i$1&1&&i$1>1&&i$1<11&&(out+=`-`);return IDX++,out}var throttleFormState=liteThrottle(form=>formEventClient.emit(`form-state`,{id:form.formId,state:form.store.state}),{wait:300});function deepCopy(obj){if(typeof obj!=`object`||!obj)return obj;if(obj instanceof Date)return new Date(obj.getTime());if(Array.isArray(obj)){let arrCopy=[];for(let i$1=0;i$1<obj.length;i$1++)arrCopy[i$1]=deepCopy(obj[i$1]);return arrCopy}if(obj instanceof Map){let mapCopy=new Map;return obj.forEach((value,key)=>{mapCopy.set(key,deepCopy(value))}),mapCopy}if(obj instanceof Set){let setCopy=new Set;return obj.forEach(value=>{setCopy.add(deepCopy(value))}),setCopy}let copy={};for(let key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(copy[key]=deepCopy(obj[key]));return copy}var defaultValidationLogic=props=>{if(!props.validators)return props.runValidation({validators:[],form:props.form});let isAsync=props.event.async,onMountValidator=isAsync?void 0:{fn:props.validators.onMount,cause:`mount`},onChangeValidator={fn:isAsync?props.validators.onChangeAsync:props.validators.onChange,cause:`change`},onBlurValidator={fn:isAsync?props.validators.onBlurAsync:props.validators.onBlur,cause:`blur`},onSubmitValidator={fn:isAsync?props.validators.onSubmitAsync:props.validators.onSubmit,cause:`submit`},onServerValidator=isAsync?void 0:{fn:()=>void 0,cause:`server`};switch(props.event.type){case`mount`:return props.runValidation({validators:[onMountValidator],form:props.form});case`submit`:return props.runValidation({validators:[onChangeValidator,onBlurValidator,onSubmitValidator,onServerValidator],form:props.form});case`server`:return props.runValidation({validators:[],form:props.form});case`blur`:return props.runValidation({validators:[onBlurValidator,onServerValidator],form:props.form});case`change`:return props.runValidation({validators:[onChangeValidator,onServerValidator],form:props.form});default:throw Error(`Unknown validation event type: ${props.event.type}`)}};function prefixSchemaToErrors(issues,formValue){let schema=new Map;for(let issue$1 of issues){let issuePath=issue$1.path??[],currentFormValue=formValue,path=``;for(let i$1=0;i$1<issuePath.length;i$1++){let pathSegment=issuePath[i$1];if(pathSegment===void 0)continue;let segment=typeof pathSegment==`object`?pathSegment.key:pathSegment,segmentAsNumber=Number(segment);Array.isArray(currentFormValue)&&!Number.isNaN(segmentAsNumber)?path+=`[${segmentAsNumber}]`:path+=(i$1>0?`.`:``)+String(segment),currentFormValue=typeof currentFormValue==`object`&&currentFormValue?currentFormValue[segment]:void 0}schema.set(path,(schema.get(path)??[]).concat(issue$1))}return Object.fromEntries(schema)}var transformFormIssues=(issues,formValue)=>{let schemaErrors=prefixSchemaToErrors(issues,formValue);return{form:schemaErrors,fields:schemaErrors}},standardSchemaValidators={validate({value,validationSource},schema){let result=schema[`~standard`].validate(value);if(result instanceof Promise)throw Error(`async function passed to sync validator`);if(result.issues)return validationSource===`field`?result.issues:transformFormIssues(result.issues,value)},async validateAsync({value,validationSource},schema){let result=await schema[`~standard`].validate(value);if(result.issues)return validationSource===`field`?result.issues:transformFormIssues(result.issues,value)}},isStandardSchemaValidator=validator=>!!validator&&`~standard`in validator,defaultFieldMeta={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function metaHelper(formApi){function handleArrayMove(field,fromIndex,toIndex){let affectedFields=getAffectedFields(field,fromIndex,`move`,toIndex),startIndex=Math.min(fromIndex,toIndex),endIndex=Math.max(fromIndex,toIndex);for(let i$1=startIndex;i$1<=endIndex;i$1++)affectedFields.push(getFieldPath(field,i$1));let fromFields=Object.keys(formApi.fieldInfo).reduce((fieldMap,fieldKey)=>(fieldKey.startsWith(getFieldPath(field,fromIndex))&&fieldMap.set(fieldKey,formApi.getFieldMeta(fieldKey)),fieldMap),new Map);shiftMeta(affectedFields,fromIndex<toIndex?`up`:`down`),Object.keys(formApi.fieldInfo).filter(fieldKey=>fieldKey.startsWith(getFieldPath(field,toIndex))).forEach(fieldKey=>{let fromKey=fieldKey.replace(getFieldPath(field,toIndex),getFieldPath(field,fromIndex)),fromMeta=fromFields.get(fromKey);fromMeta&&formApi.setFieldMeta(fieldKey,fromMeta)})}function handleArrayRemove(field,index){shiftMeta(getAffectedFields(field,index,`remove`),`up`)}function handleArraySwap(field,index,secondIndex){getAffectedFields(field,index,`swap`,secondIndex).forEach(fieldKey=>{if(!fieldKey.toString().startsWith(getFieldPath(field,index)))return;let swappedKey=fieldKey.toString().replace(getFieldPath(field,index),getFieldPath(field,secondIndex)),[meta1,meta2]=[formApi.getFieldMeta(fieldKey),formApi.getFieldMeta(swappedKey)];meta1&&formApi.setFieldMeta(swappedKey,meta1),meta2&&formApi.setFieldMeta(fieldKey,meta2)})}function handleArrayInsert(field,insertIndex){let affectedFields=getAffectedFields(field,insertIndex,`insert`);shiftMeta(affectedFields,`down`),affectedFields.forEach(fieldKey=>{fieldKey.toString().startsWith(getFieldPath(field,insertIndex))&&formApi.setFieldMeta(fieldKey,getEmptyFieldMeta())})}function getFieldPath(field,index){return`${field}[${index}]`}function getAffectedFields(field,index,mode,secondIndex){let affectedFieldKeys=[getFieldPath(field,index)];switch(mode){case`swap`:affectedFieldKeys.push(getFieldPath(field,secondIndex));break;case`move`:{let[startIndex,endIndex]=[Math.min(index,secondIndex),Math.max(index,secondIndex)];for(let i$1=startIndex;i$1<=endIndex;i$1++)affectedFieldKeys.push(getFieldPath(field,i$1));break}default:{let currentValue=formApi.getFieldValue(field),fieldItems=Array.isArray(currentValue)?currentValue.length:0;for(let i$1=index+1;i$1<fieldItems;i$1++)affectedFieldKeys.push(getFieldPath(field,i$1));break}}return Object.keys(formApi.fieldInfo).filter(fieldKey=>affectedFieldKeys.some(key=>fieldKey.startsWith(key)))}function updateIndex(fieldKey,direction){return fieldKey.replace(/\[(\d+)\]/,(_$1,num)=>{let currIndex=parseInt(num,10);return`[${direction===`up`?currIndex+1:Math.max(0,currIndex-1)}]`})}function shiftMeta(fields,direction){(direction===`up`?fields:[...fields].reverse()).forEach(fieldKey=>{let nextFieldKey=updateIndex(fieldKey.toString(),direction),nextFieldMeta=formApi.getFieldMeta(nextFieldKey);nextFieldMeta?formApi.setFieldMeta(fieldKey,nextFieldMeta):formApi.setFieldMeta(fieldKey,getEmptyFieldMeta())})}let getEmptyFieldMeta=()=>defaultFieldMeta;return{handleArrayMove,handleArrayRemove,handleArraySwap,handleArrayInsert}}function getDefaultFormState(defaultState){return{values:defaultState.values??{},errorMap:defaultState.errorMap??{},fieldMetaBase:defaultState.fieldMetaBase??{},isSubmitted:defaultState.isSubmitted??!1,isSubmitting:defaultState.isSubmitting??!1,isValidating:defaultState.isValidating??!1,submissionAttempts:defaultState.submissionAttempts??0,isSubmitSuccessful:defaultState.isSubmitSuccessful??!1,validationMetaMap:defaultState.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}var FormApi=class{constructor(opts){this.options={},this.fieldInfo={},this.mount=()=>{let cleanupFieldMetaDerived=this.fieldMetaDerived.mount(),cleanupStoreDerived=this.store.mount(),cleanupDevtoolBroadcast=this.store.subscribe(()=>{throttleFormState(this)}),cleanupFormStateListener=formEventClient.on(`request-form-state`,e$1=>{e$1.payload.id===this._formId&&formEventClient.emit(`form-api`,{id:this._formId,state:this.store.state,options:this.options})}),cleanupFormResetListener=formEventClient.on(`request-form-reset`,e$1=>{e$1.payload.id===this._formId&&this.reset()}),cleanupFormForceSubmitListener=formEventClient.on(`request-form-force-submit`,e$1=>{e$1.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),cleanup=()=>{cleanupFormForceSubmitListener(),cleanupFormResetListener(),cleanupFormStateListener(),cleanupDevtoolBroadcast(),cleanupFieldMetaDerived(),cleanupStoreDerived(),formEventClient.emit(`form-unmounted`,{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});let{onMount}=this.options.validators||{};return formEventClient.emit(`form-api`,{id:this._formId,state:this.store.state,options:this.options}),onMount&&this.validateSync(`mount`),cleanup},this.update=options=>{if(!options)return;let oldOptions=this.options;this.options=options;let shouldUpdateValues=options.defaultValues&&!evaluate(options.defaultValues,oldOptions.defaultValues)&&!this.state.isTouched,shouldUpdateState=!evaluate(options.defaultState,oldOptions.defaultState)&&!this.state.isTouched;!shouldUpdateValues&&!shouldUpdateState||(batch(()=>{this.baseStore.setState(()=>getDefaultFormState(Object.assign({},this.state,shouldUpdateState?options.defaultState:{},shouldUpdateValues?{values:options.defaultValues}:{})))}),formEventClient.emit(`form-api`,{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(values,opts2)=>{let{fieldMeta:currentFieldMeta}=this.state,fieldMetaBase=this.resetFieldMeta(currentFieldMeta);values&&!opts2?.keepDefaultValues&&(this.options={...this.options,defaultValues:values}),this.baseStore.setState(()=>getDefaultFormState({...this.options.defaultState,values:values??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase}))},this.validateAllFields=async cause=>{let fieldValidationPromises=[];return batch(()=>{Object.values(this.fieldInfo).forEach(field=>{if(!field.instance)return;let fieldInstance=field.instance;fieldValidationPromises.push(Promise.resolve().then(()=>fieldInstance.validate(cause,{skipFormValidation:!0}))),field.instance.state.meta.isTouched||field.instance.setMeta(prev=>({...prev,isTouched:!0}))})}),(await Promise.all(fieldValidationPromises)).flat()},this.validateArrayFieldsStartingFrom=async(field,index,cause)=>{let currentValue=this.getFieldValue(field),lastIndex=Array.isArray(currentValue)?Math.max(currentValue.length-1,0):null,fieldKeysToValidate=[`${field}[${index}]`];for(let i$1=index+1;i$1<=(lastIndex??0);i$1++)fieldKeysToValidate.push(`${field}[${i$1}]`);let fieldsToValidate=Object.keys(this.fieldInfo).filter(fieldKey=>fieldKeysToValidate.some(key=>fieldKey.startsWith(key))),fieldValidationPromises=[];return batch(()=>{fieldsToValidate.forEach(nestedField=>{fieldValidationPromises.push(Promise.resolve().then(()=>this.validateField(nestedField,cause)))})}),(await Promise.all(fieldValidationPromises)).flat()},this.validateField=(field,cause)=>{let fieldInstance=this.fieldInfo[field]?.instance;if(!fieldInstance){let{hasErrored}=this.validateSync(cause);return hasErrored&&!this.options.asyncAlways?this.getFieldMeta(field)?.errors??[]:this.validateAsync(cause).then(()=>this.getFieldMeta(field)?.errors??[])}return fieldInstance.state.meta.isTouched||fieldInstance.setMeta(prev=>({...prev,isTouched:!0})),fieldInstance.validate(cause)},this.validateSync=cause=>{let validates=getSyncValidatorArray(cause,{...this.options,form:this,validationLogic:this.options.validationLogic||defaultValidationLogic}),hasErrored=!1,currentValidationErrorMap={};return batch(()=>{for(let validateObj of validates){if(!validateObj.validate)continue;let{formError,fieldErrors}=normalizeError$1(this.runValidator({validate:validateObj.validate,value:{value:this.state.values,formApi:this,validationSource:`form`},type:`validate`})),errorMapKey=getErrorMapKey$1(validateObj.cause),allFieldsToProcess=new Set([...Object.keys(this.state.fieldMeta),...Object.keys(fieldErrors||{})]);for(let field of allFieldsToProcess){if(this.baseStore.state.fieldMetaBase[field]===void 0&&!fieldErrors?.[field])continue;let{errorMap:currentErrorMap,errorSourceMap:currentErrorMapSource}=this.getFieldMeta(field)??defaultFieldMeta,newFormValidatorError=fieldErrors?.[field],{newErrorValue,newSource}=determineFormLevelErrorSourceAndValue({newFormValidatorError,isPreviousErrorFromFormValidator:currentErrorMapSource?.[errorMapKey]===`form`,previousErrorValue:currentErrorMap?.[errorMapKey]});newSource===`form`&&(currentValidationErrorMap[field]={...currentValidationErrorMap[field],[errorMapKey]:newFormValidatorError}),currentErrorMap?.[errorMapKey]!==newErrorValue&&this.setFieldMeta(field,(prev=defaultFieldMeta)=>({...prev,errorMap:{...prev.errorMap,[errorMapKey]:newErrorValue},errorSourceMap:{...prev.errorSourceMap,[errorMapKey]:newSource}}))}this.state.errorMap?.[errorMapKey]!==formError&&this.baseStore.setState(prev=>({...prev,errorMap:{...prev.errorMap,[errorMapKey]:formError}})),(formError||fieldErrors)&&(hasErrored=!0)}let submitErrKey=getErrorMapKey$1(`submit`);this.state.errorMap?.[submitErrKey]&&cause!==`submit`&&!hasErrored&&this.baseStore.setState(prev=>({...prev,errorMap:{...prev.errorMap,[submitErrKey]:void 0}}));let serverErrKey=getErrorMapKey$1(`server`);this.state.errorMap?.[serverErrKey]&&cause!==`server`&&!hasErrored&&this.baseStore.setState(prev=>({...prev,errorMap:{...prev.errorMap,[serverErrKey]:void 0}}))}),{hasErrored,fieldsErrorMap:currentValidationErrorMap}},this.validateAsync=async cause=>{let validates=getAsyncValidatorArray(cause,{...this.options,form:this,validationLogic:this.options.validationLogic||defaultValidationLogic});this.state.isFormValidating||this.baseStore.setState(prev=>({...prev,isFormValidating:!0}));let promises=[],fieldErrorsFromFormValidators;for(let validateObj of validates){if(!validateObj.validate)continue;let key=getErrorMapKey$1(validateObj.cause);this.state.validationMetaMap[key]?.lastAbortController.abort();let controller=new AbortController;this.state.validationMetaMap[key]={lastAbortController:controller},promises.push(new Promise(async resolve=>{let rawError;try{rawError=await new Promise((rawResolve,rawReject)=>{setTimeout(async()=>{if(controller.signal.aborted)return rawResolve(void 0);try{rawResolve(await this.runValidator({validate:validateObj.validate,value:{value:this.state.values,formApi:this,validationSource:`form`,signal:controller.signal},type:`validateAsync`}))}catch(e$1){rawReject(e$1)}},validateObj.debounceMs)})}catch(e$1){rawError=e$1}let{formError,fieldErrors:fieldErrorsFromNormalizeError}=normalizeError$1(rawError);fieldErrorsFromNormalizeError&&(fieldErrorsFromFormValidators=fieldErrorsFromFormValidators?{...fieldErrorsFromFormValidators,...fieldErrorsFromNormalizeError}:fieldErrorsFromNormalizeError);let errorMapKey=getErrorMapKey$1(validateObj.cause);for(let field of Object.keys(this.state.fieldMeta)){if(this.baseStore.state.fieldMetaBase[field]===void 0)continue;let fieldMeta=this.getFieldMeta(field);if(!fieldMeta)continue;let{errorMap:currentErrorMap,errorSourceMap:currentErrorMapSource}=fieldMeta,newFormValidatorError=fieldErrorsFromFormValidators?.[field],{newErrorValue,newSource}=determineFormLevelErrorSourceAndValue({newFormValidatorError,isPreviousErrorFromFormValidator:currentErrorMapSource?.[errorMapKey]===`form`,previousErrorValue:currentErrorMap?.[errorMapKey]});currentErrorMap?.[errorMapKey]!==newErrorValue&&this.setFieldMeta(field,prev=>({...prev,errorMap:{...prev.errorMap,[errorMapKey]:newErrorValue},errorSourceMap:{...prev.errorSourceMap,[errorMapKey]:newSource}}))}this.baseStore.setState(prev=>({...prev,errorMap:{...prev.errorMap,[errorMapKey]:formError}})),resolve(fieldErrorsFromFormValidators?{fieldErrors:fieldErrorsFromFormValidators,errorMapKey}:void 0)}))}let results=[],fieldsErrorMap={};if(promises.length){results=await Promise.all(promises);for(let fieldValidationResult of results)if(fieldValidationResult?.fieldErrors){let{errorMapKey}=fieldValidationResult;for(let[field,fieldError]of Object.entries(fieldValidationResult.fieldErrors))fieldsErrorMap[field]={...fieldsErrorMap[field]||{},[errorMapKey]:fieldError}}}return this.baseStore.setState(prev=>({...prev,isFormValidating:!1})),fieldsErrorMap},this.validate=cause=>{let{hasErrored,fieldsErrorMap}=this.validateSync(cause);return hasErrored&&!this.options.asyncAlways?fieldsErrorMap:this.validateAsync(cause)},this._handleSubmit=async submitMeta=>{this.baseStore.setState(old=>({...old,isSubmitted:!1,submissionAttempts:old.submissionAttempts+1,isSubmitSuccessful:!1})),batch(()=>{Object.values(this.fieldInfo).forEach(field=>{field.instance&&(field.instance.state.meta.isTouched||field.instance.setMeta(prev=>({...prev,isTouched:!0})))})});let submitMetaArg=submitMeta??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride){this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:submitMetaArg});return}this.baseStore.setState(d$2=>({...d$2,isSubmitting:!0}));let done=()=>{this.baseStore.setState(prev=>({...prev,isSubmitting:!1}))};if(await this.validateAllFields(`submit`),!this.state.isFieldsValid){done(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:submitMetaArg}),formEventClient.emit(`form-submission`,{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:`validateAllFields`,errors:Object.values(this.state.fieldMeta).map(meta$2=>meta$2.errors).flat()});return}if(await this.validate(`submit`),!this.state.isValid){done(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:submitMetaArg}),formEventClient.emit(`form-submission`,{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:`validate`,errors:this.state.errors});return}batch(()=>{Object.values(this.fieldInfo).forEach(field=>{field.instance?.options.listeners?.onSubmit?.({value:field.instance.state.value,fieldApi:field.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:submitMetaArg});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:submitMetaArg}),batch(()=>{this.baseStore.setState(prev=>({...prev,isSubmitted:!0,isSubmitSuccessful:!0})),formEventClient.emit(`form-submission`,{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),done()})}catch(err){throw this.baseStore.setState(prev=>({...prev,isSubmitSuccessful:!1})),formEventClient.emit(`form-submission`,{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:`inflight`,onError:err}),done(),err}},this.getFieldValue=field=>getBy(this.state.values,field),this.getFieldMeta=field=>this.state.fieldMeta[field],this.getFieldInfo=field=>this.fieldInfo[field]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(field,updater)=>{this.baseStore.setState(prev=>({...prev,fieldMetaBase:{...prev.fieldMetaBase,[field]:functionalUpdate(updater,prev.fieldMetaBase[field])}}))},this.resetFieldMeta=fieldMeta=>Object.keys(fieldMeta).reduce((acc,key)=>{let fieldKey=key;return acc[fieldKey]=defaultFieldMeta,acc},{}),this.setFieldValue=(field,updater,opts2)=>{let dontUpdateMeta=opts2?.dontUpdateMeta??!1,dontRunListeners=opts2?.dontRunListeners??!1,dontValidate=opts2?.dontValidate??!1;batch(()=>{dontUpdateMeta||this.setFieldMeta(field,prev=>({...prev,isTouched:!0,isDirty:!0,errorMap:{...prev?.errorMap,onMount:void 0}})),this.baseStore.setState(prev=>({...prev,values:setBy(prev.values,field,updater)}))}),dontRunListeners||this.getFieldInfo(field).instance?.triggerOnChangeListener(),dontValidate||this.validateField(field,`change`)},this.deleteField=field=>{let fieldsToDelete=[...Object.keys(this.fieldInfo).filter(f$2=>{let fieldStr=field.toString();return f$2!==fieldStr&&f$2.startsWith(fieldStr)}),field];this.baseStore.setState(prev=>{let newState={...prev};return fieldsToDelete.forEach(f$2=>{newState.values=deleteBy(newState.values,f$2),delete this.fieldInfo[f$2],delete newState.fieldMetaBase[f$2]}),newState})},this.pushFieldValue=(field,value,options)=>{this.setFieldValue(field,prev=>[...Array.isArray(prev)?prev:[],value],options)},this.insertFieldValue=async(field,index,value,options)=>{this.setFieldValue(field,prev=>[...prev.slice(0,index),value,...prev.slice(index)],mergeOpts(options,{dontValidate:!0}));let dontValidate=options?.dontValidate??!1;dontValidate||await this.validateField(field,`change`),metaHelper(this).handleArrayInsert(field,index),dontValidate||await this.validateArrayFieldsStartingFrom(field,index,`change`)},this.replaceFieldValue=async(field,index,value,options)=>{this.setFieldValue(field,prev=>prev.map((d$2,i$1)=>i$1===index?value:d$2),mergeOpts(options,{dontValidate:!0})),(options?.dontValidate??!1)||(await this.validateField(field,`change`),await this.validateArrayFieldsStartingFrom(field,index,`change`))},this.removeFieldValue=async(field,index,options)=>{let fieldValue=this.getFieldValue(field),lastIndex=Array.isArray(fieldValue)?Math.max(fieldValue.length-1,0):null;if(this.setFieldValue(field,prev=>prev.filter((_d,i$1)=>i$1!==index),mergeOpts(options,{dontValidate:!0})),metaHelper(this).handleArrayRemove(field,index),lastIndex!==null){let start=`${field}[${lastIndex}]`;this.deleteField(start)}(options?.dontValidate??!1)||(await this.validateField(field,`change`),await this.validateArrayFieldsStartingFrom(field,index,`change`))},this.swapFieldValues=(field,index1,index2,options)=>{this.setFieldValue(field,prev=>{let prev1=prev[index1],prev2=prev[index2];return setBy(setBy(prev,`${index1}`,prev2),`${index2}`,prev1)},mergeOpts(options,{dontValidate:!0})),metaHelper(this).handleArraySwap(field,index1,index2),(options?.dontValidate??!1)||(this.validateField(field,`change`),this.validateField(`${field}[${index1}]`,`change`),this.validateField(`${field}[${index2}]`,`change`))},this.moveFieldValues=(field,index1,index2,options)=>{this.setFieldValue(field,prev=>{let next=[...prev];return next.splice(index2,0,next.splice(index1,1)[0]),next},mergeOpts(options,{dontValidate:!0})),metaHelper(this).handleArrayMove(field,index1,index2),(options?.dontValidate??!1)||(this.validateField(field,`change`),this.validateField(`${field}[${index1}]`,`change`),this.validateField(`${field}[${index2}]`,`change`))},this.clearFieldValues=(field,options)=>{let fieldValue=this.getFieldValue(field),lastIndex=Array.isArray(fieldValue)?Math.max(fieldValue.length-1,0):null;if(this.setFieldValue(field,[],mergeOpts(options,{dontValidate:!0})),lastIndex!==null)for(let i$1=0;i$1<=lastIndex;i$1++){let fieldKey=`${field}[${i$1}]`;this.deleteField(fieldKey)}(options?.dontValidate??!1)||this.validateField(field,`change`)},this.resetField=field=>{this.baseStore.setState(prev=>({...prev,fieldMetaBase:{...prev.fieldMetaBase,[field]:defaultFieldMeta},values:this.options.defaultValues?setBy(prev.values,field,getBy(this.options.defaultValues,field)):prev.values}))},this.setErrorMap=errorMap=>{batch(()=>{Object.entries(errorMap).forEach(([key,value])=>{let errorMapKey=key;if(isGlobalFormValidationError(value)){let{formError,fieldErrors}=normalizeError$1(value);for(let fieldName of Object.keys(this.fieldInfo))this.getFieldMeta(fieldName)&&this.setFieldMeta(fieldName,prev=>({...prev,errorMap:{...prev.errorMap,[errorMapKey]:fieldErrors?.[fieldName]},errorSourceMap:{...prev.errorSourceMap,[errorMapKey]:`form`}}));this.baseStore.setState(prev=>({...prev,errorMap:{...prev.errorMap,[errorMapKey]:formError}}))}else this.baseStore.setState(prev=>({...prev,errorMap:{...prev.errorMap,[errorMapKey]:value}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((acc,[fieldName,fieldMeta])=>(Object.keys(fieldMeta).length&&fieldMeta.errors.length&&(acc[fieldName]={errors:fieldMeta.errors,errorMap:fieldMeta.errorMap}),acc),{})}),this.parseValuesWithSchema=schema=>standardSchemaValidators.validate({value:this.state.values,validationSource:`form`},schema),this.parseValuesWithSchemaAsync=schema=>standardSchemaValidators.validateAsync({value:this.state.values,validationSource:`form`},schema),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=opts?.formId??uuid$1(),this._devtoolsSubmissionOverride=!1;let baseStoreVal=getDefaultFormState({...opts?.defaultState,values:opts?.defaultValues??opts?.defaultState?.values});if(opts?.transform){baseStoreVal=opts.transform({state:baseStoreVal}).state;for(let errKey of Object.keys(baseStoreVal.errorMap)){let errKeyMap=baseStoreVal.errorMap[errKey];if(!(errKeyMap===void 0||!isGlobalFormValidationError(errKeyMap)))for(let fieldName of Object.keys(errKeyMap.fields)){let fieldErr=errKeyMap.fields[fieldName];if(fieldErr===void 0)continue;let existingFieldMeta=baseStoreVal.fieldMetaBase[fieldName];baseStoreVal.fieldMetaBase[fieldName]={isTouched:!1,isValidating:!1,isBlurred:!1,isDirty:!1,...existingFieldMeta??{},errorSourceMap:{...existingFieldMeta?.errorSourceMap??{},onChange:`form`},errorMap:{...existingFieldMeta?.errorMap??{},[errKey]:fieldErr}}}}}this.baseStore=new Store(baseStoreVal),this.fieldMetaDerived=new Derived({deps:[this.baseStore],fn:({prevDepVals,currDepVals,prevVal:_prevVal})=>{let prevVal=_prevVal,prevBaseStore=prevDepVals?.[0],currBaseStore=currDepVals[0],originalMetaCount=0,fieldMeta={};for(let fieldName of Object.keys(currBaseStore.fieldMetaBase)){let currBaseMeta=currBaseStore.fieldMetaBase[fieldName],prevBaseMeta=prevBaseStore?.fieldMetaBase[fieldName],prevFieldInfo=prevVal?.[fieldName],curFieldVal=getBy(currBaseStore.values,fieldName),fieldErrors=prevFieldInfo?.errors;if(!prevBaseMeta||currBaseMeta.errorMap!==prevBaseMeta.errorMap){fieldErrors=Object.values(currBaseMeta.errorMap??{}).filter(val=>val!==void 0);let fieldInstance=this.getFieldInfo(fieldName)?.instance;(!fieldInstance||!fieldInstance.options.disableErrorFlat)&&(fieldErrors=fieldErrors.flat(1))}let isFieldValid=!isNonEmptyArray(fieldErrors),isFieldPristine=!currBaseMeta.isDirty,isDefaultValue=evaluate(curFieldVal,getBy(this.options.defaultValues,fieldName))||evaluate(curFieldVal,this.getFieldInfo(fieldName)?.instance?.options.defaultValue);if(prevFieldInfo&&prevFieldInfo.isPristine===isFieldPristine&&prevFieldInfo.isValid===isFieldValid&&prevFieldInfo.isDefaultValue===isDefaultValue&&prevFieldInfo.errors===fieldErrors&&currBaseMeta===prevBaseMeta){fieldMeta[fieldName]=prevFieldInfo,originalMetaCount++;continue}fieldMeta[fieldName]={...currBaseMeta,errors:fieldErrors??[],isPristine:isFieldPristine,isValid:isFieldValid,isDefaultValue}}return Object.keys(currBaseStore.fieldMetaBase).length&&prevVal&&originalMetaCount===Object.keys(currBaseStore.fieldMetaBase).length?prevVal:fieldMeta}}),this.store=new Derived({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals,currDepVals,prevVal:_prevVal})=>{let prevVal=_prevVal,prevBaseStore=prevDepVals?.[0],currBaseStore=currDepVals[0],currFieldMeta=currDepVals[1],fieldMetaValues=Object.values(currFieldMeta).filter(Boolean),isFieldsValidating=fieldMetaValues.some(field=>field.isValidating),isFieldsValid=fieldMetaValues.every(field=>field.isValid),isTouched=fieldMetaValues.some(field=>field.isTouched),isBlurred=fieldMetaValues.some(field=>field.isBlurred),isDefaultValue=fieldMetaValues.every(field=>field.isDefaultValue),shouldInvalidateOnMount=isTouched&&currBaseStore.errorMap?.onMount,isDirty=fieldMetaValues.some(field=>field.isDirty),isPristine=!isDirty,hasOnMountError=!!(currBaseStore.errorMap?.onMount||fieldMetaValues.some(f$2=>f$2?.errorMap?.onMount)),isValidating=!!isFieldsValidating,errors=prevVal?.errors??[];(!prevBaseStore||currBaseStore.errorMap!==prevBaseStore.errorMap)&&(errors=Object.values(currBaseStore.errorMap).reduce((prev,curr)=>curr===void 0?prev:curr&&isGlobalFormValidationError(curr)?(prev.push(curr.form),prev):(prev.push(curr),prev),[]));let isFormValid=errors.length===0,isValid=isFieldsValid&&isFormValid,submitInvalid=this.options.canSubmitWhenInvalid??!1,canSubmit=currBaseStore.submissionAttempts===0&&!isTouched&&!hasOnMountError||!isValidating&&!currBaseStore.isSubmitting&&isValid||submitInvalid,errorMap=currBaseStore.errorMap;return shouldInvalidateOnMount&&(errors=errors.filter(err=>err!==currBaseStore.errorMap.onMount),errorMap=Object.assign(errorMap,{onMount:void 0})),prevVal&&prevBaseStore&&prevVal.errorMap===errorMap&&prevVal.fieldMeta===this.fieldMetaDerived.state&&prevVal.errors===errors&&prevVal.isFieldsValidating===isFieldsValidating&&prevVal.isFieldsValid===isFieldsValid&&prevVal.isFormValid===isFormValid&&prevVal.isValid===isValid&&prevVal.canSubmit===canSubmit&&prevVal.isTouched===isTouched&&prevVal.isBlurred===isBlurred&&prevVal.isPristine===isPristine&&prevVal.isDefaultValue===isDefaultValue&&prevVal.isDirty===isDirty&&evaluate(prevBaseStore,currBaseStore)?prevVal:{...currBaseStore,errorMap,fieldMeta:this.fieldMetaDerived.state,errors,isFieldsValidating,isFieldsValid,isFormValid,isValid,canSubmit,isTouched,isBlurred,isPristine,isDefaultValue,isDirty}}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(opts||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(props){return isStandardSchemaValidator(props.validate)?standardSchemaValidators[props.type](props.value,props.validate):props.validate(props.value)}handleSubmit(submitMeta){return this._handleSubmit(submitMeta)}};function normalizeError$1(rawError){return rawError?isGlobalFormValidationError(rawError)?{formError:normalizeError$1(rawError.form).formError,fieldErrors:rawError.fields}:{formError:rawError}:{formError:void 0}}function getErrorMapKey$1(cause){switch(cause){case`submit`:return`onSubmit`;case`blur`:return`onBlur`;case`mount`:return`onMount`;case`server`:return`onServer`;case`dynamic`:return`onDynamic`;case`change`:default:return`onChange`}}var FieldApi=class{constructor(opts){this.options={},this.mount=()=>{let cleanup=this.store.mount();this.options.defaultValue!==void 0&&!this.getMeta().isTouched&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});let info=this.getInfo();info.instance=this,this.update(this.options);let{onMount}=this.options.validators||{};if(onMount){let error=this.runValidator({validate:onMount,value:{value:this.state.value,fieldApi:this,validationSource:`field`},type:`validate`});error&&this.setMeta(prev=>({...prev,errorMap:{...prev?.errorMap,onMount:error},errorSourceMap:{...prev?.errorSourceMap,onMount:`field`}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),cleanup},this.update=opts2=>{this.options=opts2,this.name=opts2.name,!this.state.meta.isTouched&&this.options.defaultValue!==void 0&&(evaluate(this.form.getFieldValue(this.name),opts2.defaultValue)||this.form.setFieldValue(this.name,opts2.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})),this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(updater,options)=>{this.form.setFieldValue(this.name,updater,mergeOpts(options,{dontRunListeners:!0,dontValidate:!0})),options?.dontRunListeners||this.triggerOnChangeListener(),options?.dontValidate||this.validate(`change`)},this.getMeta=()=>this.store.state.meta,this.setMeta=updater=>this.form.setFieldMeta(this.name,updater),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(value,options)=>{this.form.pushFieldValue(this.name,value,mergeOpts(options,{dontRunListeners:!0})),options?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(index,value,options)=>{this.form.insertFieldValue(this.name,index,value,mergeOpts(options,{dontRunListeners:!0})),options?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(index,value,options)=>{this.form.replaceFieldValue(this.name,index,value,mergeOpts(options,{dontRunListeners:!0})),options?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(index,options)=>{this.form.removeFieldValue(this.name,index,mergeOpts(options,{dontRunListeners:!0})),options?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(aIndex,bIndex,options)=>{this.form.swapFieldValues(this.name,aIndex,bIndex,mergeOpts(options,{dontRunListeners:!0})),options?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(aIndex,bIndex,options)=>{this.form.moveFieldValues(this.name,aIndex,bIndex,mergeOpts(options,{dontRunListeners:!0})),options?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=options=>{this.form.clearFieldValues(this.name,mergeOpts(options,{dontRunListeners:!0})),options?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=cause=>{let fields=Object.values(this.form.fieldInfo),linkedFields=[];for(let field of fields){if(!field.instance)continue;let{onChangeListenTo,onBlurListenTo}=field.instance.options.validators||{};cause===`change`&&onChangeListenTo?.includes(this.name)&&linkedFields.push(field.instance),cause===`blur`&&onBlurListenTo?.includes(this.name)&&linkedFields.push(field.instance)}return linkedFields},this.validateSync=(cause,errorFromForm)=>{let validates=getSyncValidatorArray(cause,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||defaultValidationLogic}),linkedFieldValidates=this.getLinkedFields(cause).reduce((acc,field)=>{let fieldValidates=getSyncValidatorArray(cause,{...field.options,form:field.form,validationLogic:field.form.options.validationLogic||defaultValidationLogic});return fieldValidates.forEach(validate=>{validate.field=field}),acc.concat(fieldValidates)},[]),hasErrored=!1;batch(()=>{let validateFieldFn=(field,validateObj)=>{let errorMapKey=getErrorMapKey(validateObj.cause),fieldLevelError=validateObj.validate?normalizeError(field.runValidator({validate:validateObj.validate,value:{value:field.store.state.value,validationSource:`field`,fieldApi:field},type:`validate`})):void 0,formLevelError=errorFromForm[errorMapKey],{newErrorValue,newSource}=determineFieldLevelErrorSourceAndValue({formLevelError,fieldLevelError});field.state.meta.errorMap?.[errorMapKey]!==newErrorValue&&field.setMeta(prev=>({...prev,errorMap:{...prev.errorMap,[errorMapKey]:newErrorValue},errorSourceMap:{...prev.errorSourceMap,[errorMapKey]:newSource}})),newErrorValue&&(hasErrored=!0)};for(let validateObj of validates)validateFieldFn(this,validateObj);for(let fieldValitateObj of linkedFieldValidates)fieldValitateObj.validate&&validateFieldFn(fieldValitateObj.field,fieldValitateObj)});let submitErrKey=getErrorMapKey(`submit`);return this.state.meta.errorMap?.[submitErrKey]&&cause!==`submit`&&!hasErrored&&this.setMeta(prev=>({...prev,errorMap:{...prev.errorMap,[submitErrKey]:void 0},errorSourceMap:{...prev.errorSourceMap,[submitErrKey]:void 0}})),{hasErrored}},this.validateAsync=async(cause,formValidationResultPromise)=>{let validates=getAsyncValidatorArray(cause,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||defaultValidationLogic}),asyncFormValidationResults=await formValidationResultPromise,linkedFields=this.getLinkedFields(cause),linkedFieldValidates=linkedFields.reduce((acc,field)=>{let fieldValidates=getAsyncValidatorArray(cause,{...field.options,form:field.form,validationLogic:field.form.options.validationLogic||defaultValidationLogic});return fieldValidates.forEach(validate=>{validate.field=field}),acc.concat(fieldValidates)},[]),validatesPromises=[],linkedPromises=[],hasAsyncValidators=validates.some(v$1=>v$1.validate)||linkedFieldValidates.some(v$1=>v$1.validate);if(hasAsyncValidators){this.state.meta.isValidating||this.setMeta(prev=>({...prev,isValidating:!0}));for(let linkedField of linkedFields)linkedField.setMeta(prev=>({...prev,isValidating:!0}))}let validateFieldAsyncFn=(field,validateObj,promises)=>{let errorMapKey=getErrorMapKey(validateObj.cause);field.getInfo().validationMetaMap[errorMapKey]?.lastAbortController.abort();let controller=new AbortController;this.getInfo().validationMetaMap[errorMapKey]={lastAbortController:controller},promises.push(new Promise(async resolve=>{let rawError;try{rawError=await new Promise((rawResolve,rawReject)=>{this.timeoutIds.validations[validateObj.cause]&&clearTimeout(this.timeoutIds.validations[validateObj.cause]),this.timeoutIds.validations[validateObj.cause]=setTimeout(async()=>{if(controller.signal.aborted)return rawResolve(void 0);try{rawResolve(await this.runValidator({validate:validateObj.validate,value:{value:field.store.state.value,fieldApi:field,signal:controller.signal,validationSource:`field`},type:`validateAsync`}))}catch(e$1){rawReject(e$1)}},validateObj.debounceMs)})}catch(e$1){rawError=e$1}if(controller.signal.aborted)return resolve(void 0);let fieldLevelError=normalizeError(rawError),formLevelError=asyncFormValidationResults[this.name]?.[errorMapKey],{newErrorValue,newSource}=determineFieldLevelErrorSourceAndValue({formLevelError,fieldLevelError});field.setMeta(prev=>({...prev,errorMap:{...prev?.errorMap,[errorMapKey]:newErrorValue},errorSourceMap:{...prev.errorSourceMap,[errorMapKey]:newSource}})),resolve(newErrorValue)}))};for(let validateObj of validates)validateObj.validate&&validateFieldAsyncFn(this,validateObj,validatesPromises);for(let fieldValitateObj of linkedFieldValidates)fieldValitateObj.validate&&validateFieldAsyncFn(fieldValitateObj.field,fieldValitateObj,linkedPromises);let results=[];if((validatesPromises.length||linkedPromises.length)&&(results=await Promise.all(validatesPromises),await Promise.all(linkedPromises)),hasAsyncValidators){this.setMeta(prev=>({...prev,isValidating:!1}));for(let linkedField of linkedFields)linkedField.setMeta(prev=>({...prev,isValidating:!1}))}return results.filter(Boolean)},this.validate=(cause,opts2)=>{if(!this.state.meta.isTouched)return[];let{fieldsErrorMap}=opts2?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(cause),{hasErrored}=this.validateSync(cause,fieldsErrorMap[this.name]??{});if(hasErrored&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[getErrorMapKey(cause)]?.lastAbortController.abort(),this.state.meta.errors;let formValidationResultPromise=opts2?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(cause);return this.validateAsync(cause,formValidationResultPromise)},this.handleChange=updater=>{this.setValue(updater)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(prev=>({...prev,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(prev=>({...prev,isBlurred:!0})),this.validate(`blur`),this.triggerOnBlurListener()},this.setErrorMap=errorMap=>{this.setMeta(prev=>({...prev,errorMap:{...prev.errorMap,...errorMap}}))},this.parseValueWithSchema=schema=>standardSchemaValidators.validate({value:this.state.value,validationSource:`field`},schema),this.parseValueWithSchemaAsync=schema=>standardSchemaValidators.validateAsync({value:this.state.value,validationSource:`field`},schema),this.triggerOnChangeListener=()=>{let formDebounceMs=this.form.options.listeners?.onChangeDebounceMs;formDebounceMs&&formDebounceMs>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},formDebounceMs)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});let fieldDebounceMs=this.options.listeners?.onChangeDebounceMs;fieldDebounceMs&&fieldDebounceMs>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},fieldDebounceMs)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=opts.form,this.name=opts.name,this.options=opts,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new Derived({deps:[this.form.store],fn:({prevVal:_prevVal})=>{let prevVal=_prevVal,meta$2=this.form.getFieldMeta(this.name)??{...defaultFieldMeta,...opts.defaultMeta},value=this.form.getFieldValue(this.name);return!meta$2.isTouched&&value===void 0&&this.options.defaultValue!==void 0&&!evaluate(value,this.options.defaultValue)&&(value=this.options.defaultValue),prevVal&&prevVal.value===value&&prevVal.meta===meta$2?prevVal:{value,meta:meta$2}}})}get state(){return this.store.state}runValidator(props){return isStandardSchemaValidator(props.validate)?standardSchemaValidators[props.type](props.value,props.validate):props.validate(props.value)}triggerOnBlurListener(){let formDebounceMs=this.form.options.listeners?.onBlurDebounceMs;formDebounceMs&&formDebounceMs>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},formDebounceMs)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});let fieldDebounceMs=this.options.listeners?.onBlurDebounceMs;fieldDebounceMs&&fieldDebounceMs>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},fieldDebounceMs)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}};function normalizeError(rawError){if(rawError)return rawError}function getErrorMapKey(cause){switch(cause){case`submit`:return`onSubmit`;case`blur`:return`onBlur`;case`mount`:return`onMount`;case`server`:return`onServer`;case`dynamic`:return`onDynamic`;case`change`:default:return`onChange`}}function mergeAndUpdate(form,fn){if(!fn)return;let newObj=Object.assign({},form,{state:deepCopy(form.state)});fn(newObj),newObj.fieldInfo!==form.fieldInfo&&(form.fieldInfo=newObj.fieldInfo),newObj.options!==form.options&&(form.options=newObj.options);let diffedObject=Object.keys({values:null,validationMetaMap:null,fieldMetaBase:null,isSubmitting:null,isSubmitted:null,isValidating:null,submissionAttempts:null,isSubmitSuccessful:null,_force_re_eval:null}).reduce((prev,key)=>(form.state[key]!==newObj.state[key]&&(prev[key]=newObj.state[key]),prev),{});return batch(()=>{Object.keys(diffedObject).length&&form.baseStore.setState(prev=>({...prev,...diffedObject})),newObj.state.errorMap!==form.state.errorMap&&form.setErrorMap(newObj.state.errorMap)}),newObj}var useIsomorphicLayoutEffect=typeof window<`u`?import_react.useLayoutEffect:import_react.useEffect;function useField(opts){let[prevOptions,setPrevOptions]=(0,import_react.useState)(()=>({form:opts.form,name:opts.name})),[fieldApi,setFieldApi]=(0,import_react.useState)(()=>new FieldApi({...opts}));(prevOptions.form!==opts.form||prevOptions.name!==opts.name)&&(setFieldApi(new FieldApi({...opts})),setPrevOptions({form:opts.form,name:opts.name}));let reactiveStateValue=useStore(fieldApi.store,opts.mode===`array`?state=>Object.keys(state.value??[]).length:state=>state.value),reactiveMetaIsTouched=useStore(fieldApi.store,state=>state.meta.isTouched),reactiveMetaIsBlurred=useStore(fieldApi.store,state=>state.meta.isBlurred),reactiveMetaIsDirty=useStore(fieldApi.store,state=>state.meta.isDirty),reactiveMetaErrorMap=useStore(fieldApi.store,state=>state.meta.errorMap),reactiveMetaErrorSourceMap=useStore(fieldApi.store,state=>state.meta.errorSourceMap),reactiveMetaIsValidating=useStore(fieldApi.store,state=>state.meta.isValidating),extendedFieldApi=(0,import_react.useMemo)(()=>{let extendedApi={...fieldApi,get state(){return{value:opts.mode===`array`?fieldApi.state.value:reactiveStateValue,get meta(){return{...fieldApi.state.meta,isTouched:reactiveMetaIsTouched,isBlurred:reactiveMetaIsBlurred,isDirty:reactiveMetaIsDirty,errorMap:reactiveMetaErrorMap,errorSourceMap:reactiveMetaErrorSourceMap,isValidating:reactiveMetaIsValidating}}}}};return extendedApi.Field=Field,extendedApi},[fieldApi,opts.mode,reactiveStateValue,reactiveMetaIsTouched,reactiveMetaIsBlurred,reactiveMetaIsDirty,reactiveMetaErrorMap,reactiveMetaErrorSourceMap,reactiveMetaIsValidating]);return useIsomorphicLayoutEffect(fieldApi.mount,[fieldApi]),useIsomorphicLayoutEffect(()=>{fieldApi.update(opts)}),extendedFieldApi}var Field=(({children,...fieldOptions})=>{let fieldApi=useField(fieldOptions);return(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_react.useMemo)(()=>functionalUpdate(children,fieldApi),[children,fieldApi])})});function useUUID(){return(0,import_react.useState)(()=>uuid$1())[0]}var _React=import_react,useFormId=`19.2.4`.split(`.`)[0]===`17`?useUUID:_React.useId;function LocalSubscribe({form,selector,children}){return(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:functionalUpdate(children,useStore(form.store,selector))})}function useForm(opts){let fallbackFormId=useFormId(),[prevFormId,setPrevFormId]=(0,import_react.useState)(opts?.formId),[formApi,setFormApi]=(0,import_react.useState)(()=>new FormApi({...opts,formId:opts?.formId??fallbackFormId}));if(prevFormId!==opts?.formId){let formId=opts?.formId??fallbackFormId;setFormApi(new FormApi({...opts,formId})),setPrevFormId(formId)}let extendedFormApi=(0,import_react.useMemo)(()=>{let extendedApi={...formApi,handleSubmit:((...props)=>formApi._handleSubmit(...props)),get formId(){return formApi._formId},get state(){return formApi.store.state}};return extendedApi.Field=function(props){return(0,import_jsx_runtime.jsx)(Field,{...props,form:formApi})},extendedApi.Subscribe=function(props){return(0,import_jsx_runtime.jsx)(LocalSubscribe,{form:formApi,selector:props.selector,children:props.children})},extendedApi},[formApi]);useIsomorphicLayoutEffect(formApi.mount,[]),useIsomorphicLayoutEffect(()=>{formApi.update(opts)});let hasRan=(0,import_react.useRef)(!1);return useIsomorphicLayoutEffect(()=>{hasRan.current&&opts?.transform&&mergeAndUpdate(formApi,opts.transform)},[formApi,opts?.transform]),useIsomorphicLayoutEffect(()=>{hasRan.current=!0}),extendedFormApi}const NEVER=Object.freeze({status:`aborted`});function $constructor(name,initializer$2,params){function init(inst,def){if(inst._zod||Object.defineProperty(inst,`_zod`,{value:{def,constr:_$1,traits:new Set},enumerable:!1}),inst._zod.traits.has(name))return;inst._zod.traits.add(name),initializer$2(inst,def);let proto=_$1.prototype,keys=Object.keys(proto);for(let i$1=0;i$1<keys.length;i$1++){let k$1=keys[i$1];k$1 in inst||(inst[k$1]=proto[k$1].bind(inst))}}let Parent=params?.Parent??Object;class Definition extends Parent{}Object.defineProperty(Definition,`name`,{value:name});function _$1(def){var _a$1;let inst=params?.Parent?new Definition:this;init(inst,def),(_a$1=inst._zod).deferred??(_a$1.deferred=[]);for(let fn of inst._zod.deferred)fn();return inst}return Object.defineProperty(_$1,`init`,{value:init}),Object.defineProperty(_$1,Symbol.hasInstance,{value:inst=>params?.Parent&&inst instanceof params.Parent?!0:inst?._zod?.traits?.has(name)}),Object.defineProperty(_$1,`name`,{value:name}),_$1}var $ZodAsyncError=class extends Error{constructor(){super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`)}},$ZodEncodeError=class extends Error{constructor(name){super(`Encountered unidirectional transform during encode: ${name}`),this.name=`ZodEncodeError`}};const globalConfig={};function config(newConfig){return newConfig&&Object.assign(globalConfig,newConfig),globalConfig}function getEnumValues(entries){let numericValues=Object.values(entries).filter(v$1=>typeof v$1==`number`);return Object.entries(entries).filter(([k$1,_$1])=>numericValues.indexOf(+k$1)===-1).map(([_$1,v$1])=>v$1)}function jsonStringifyReplacer(_$1,value){return typeof value==`bigint`?value.toString():value}function cached(getter){return{get value(){{let value=getter();return Object.defineProperty(this,`value`,{value}),value}throw Error(`cached value already set`)}}}function nullish(input){return input==null}function cleanRegex(source){let start=source.startsWith(`^`)?1:0,end=source.endsWith(`$`)?source.length-1:source.length;return source.slice(start,end)}var EVALUATING=Symbol(`evaluating`);function defineLazy(object$1,key,getter){let value;Object.defineProperty(object$1,key,{get(){if(value!==EVALUATING)return value===void 0&&(value=EVALUATING,value=getter()),value},set(v$1){Object.defineProperty(object$1,key,{value:v$1})},configurable:!0})}function assignProp(target,prop,value){Object.defineProperty(target,prop,{value,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(...defs){let mergedDescriptors={};for(let def of defs){let descriptors=Object.getOwnPropertyDescriptors(def);Object.assign(mergedDescriptors,descriptors)}return Object.defineProperties({},mergedDescriptors)}function esc(str){return JSON.stringify(str)}function slugify(input){return input.toLowerCase().trim().replace(/[^\w\s-]/g,``).replace(/[\s_-]+/g,`-`).replace(/^-+|-+$/g,``)}const captureStackTrace=`captureStackTrace`in Error?Error.captureStackTrace:(..._args)=>{};function isObject(data){return typeof data==`object`&&!!data&&!Array.isArray(data)}const allowsEval=cached(()=>{if(typeof navigator<`u`&&navigator?.userAgent?.includes(`Cloudflare`))return!1;try{return Function(``),!0}catch{return!1}});function isPlainObject(o$2){if(isObject(o$2)===!1)return!1;let ctor=o$2.constructor;if(ctor===void 0||typeof ctor!=`function`)return!0;let prot=ctor.prototype;return!(isObject(prot)===!1||Object.prototype.hasOwnProperty.call(prot,`isPrototypeOf`)===!1)}function shallowClone(o$2){return isPlainObject(o$2)?{...o$2}:Array.isArray(o$2)?[...o$2]:o$2}const propertyKeyTypes=new Set([`string`,`number`,`symbol`]);function escapeRegex(str){return str.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}function clone(inst,def,params){let cl=new inst._zod.constr(def??inst._zod.def);return(!def||params?.parent)&&(cl._zod.parent=inst),cl}function normalizeParams(_params){let params=_params;if(!params)return{};if(typeof params==`string`)return{error:()=>params};if(params?.message!==void 0){if(params?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");params.error=params.message}return delete params.message,typeof params.error==`string`?{...params,error:()=>params.error}:params}function optionalKeys(shape){return Object.keys(shape).filter(k$1=>shape[k$1]._zod.optin===`optional`&&shape[k$1]._zod.optout===`optional`)}const NUMBER_FORMAT_RANGES={safeint:[-(2**53-1),2**53-1],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pick(schema,mask){let currDef=schema._zod.def,checks=currDef.checks;if(checks&&checks.length>0)throw Error(`.pick() cannot be used on object schemas containing refinements`);return clone(schema,mergeDefs(schema._zod.def,{get shape(){let newShape={};for(let key in mask){if(!(key in currDef.shape))throw Error(`Unrecognized key: "${key}"`);mask[key]&&(newShape[key]=currDef.shape[key])}return assignProp(this,`shape`,newShape),newShape},checks:[]}))}function omit(schema,mask){let currDef=schema._zod.def,checks=currDef.checks;if(checks&&checks.length>0)throw Error(`.omit() cannot be used on object schemas containing refinements`);return clone(schema,mergeDefs(schema._zod.def,{get shape(){let newShape={...schema._zod.def.shape};for(let key in mask){if(!(key in currDef.shape))throw Error(`Unrecognized key: "${key}"`);mask[key]&&delete newShape[key]}return assignProp(this,`shape`,newShape),newShape},checks:[]}))}function extend(schema,shape){if(!isPlainObject(shape))throw Error(`Invalid input to extend: expected a plain object`);let checks=schema._zod.def.checks;if(checks&&checks.length>0){let existingShape=schema._zod.def.shape;for(let key in shape)if(Object.getOwnPropertyDescriptor(existingShape,key)!==void 0)throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}return clone(schema,mergeDefs(schema._zod.def,{get shape(){let _shape={...schema._zod.def.shape,...shape};return assignProp(this,`shape`,_shape),_shape}}))}function safeExtend(schema,shape){if(!isPlainObject(shape))throw Error(`Invalid input to safeExtend: expected a plain object`);return clone(schema,mergeDefs(schema._zod.def,{get shape(){let _shape={...schema._zod.def.shape,...shape};return assignProp(this,`shape`,_shape),_shape}}))}function merge(a$2,b$2){return clone(a$2,mergeDefs(a$2._zod.def,{get shape(){let _shape={...a$2._zod.def.shape,...b$2._zod.def.shape};return assignProp(this,`shape`,_shape),_shape},get catchall(){return b$2._zod.def.catchall},checks:[]}))}function partial(Class,schema,mask){let checks=schema._zod.def.checks;if(checks&&checks.length>0)throw Error(`.partial() cannot be used on object schemas containing refinements`);return clone(schema,mergeDefs(schema._zod.def,{get shape(){let oldShape=schema._zod.def.shape,shape={...oldShape};if(mask)for(let key in mask){if(!(key in oldShape))throw Error(`Unrecognized key: "${key}"`);mask[key]&&(shape[key]=Class?new Class({type:`optional`,innerType:oldShape[key]}):oldShape[key])}else for(let key in oldShape)shape[key]=Class?new Class({type:`optional`,innerType:oldShape[key]}):oldShape[key];return assignProp(this,`shape`,shape),shape},checks:[]}))}function required(Class,schema,mask){return clone(schema,mergeDefs(schema._zod.def,{get shape(){let oldShape=schema._zod.def.shape,shape={...oldShape};if(mask)for(let key in mask){if(!(key in shape))throw Error(`Unrecognized key: "${key}"`);mask[key]&&(shape[key]=new Class({type:`nonoptional`,innerType:oldShape[key]}))}else for(let key in oldShape)shape[key]=new Class({type:`nonoptional`,innerType:oldShape[key]});return assignProp(this,`shape`,shape),shape}}))}function aborted(x$1,startIndex=0){if(x$1.aborted===!0)return!0;for(let i$1=startIndex;i$1<x$1.issues.length;i$1++)if(x$1.issues[i$1]?.continue!==!0)return!0;return!1}function prefixIssues(path,issues){return issues.map(iss=>{var _a$1;return(_a$1=iss).path??(_a$1.path=[]),iss.path.unshift(path),iss})}function unwrapMessage(message){return typeof message==`string`?message:message?.message}function finalizeIssue(iss,ctx,config$1){let full={...iss,path:iss.path??[]};return iss.message||(full.message=unwrapMessage(iss.inst?._zod.def?.error?.(iss))??unwrapMessage(ctx?.error?.(iss))??unwrapMessage(config$1.customError?.(iss))??unwrapMessage(config$1.localeError?.(iss))??`Invalid input`),delete full.inst,delete full.continue,ctx?.reportInput||delete full.input,full}function getLengthableOrigin(input){return Array.isArray(input)?`array`:typeof input==`string`?`string`:`unknown`}function issue(...args){let[iss,input,inst]=args;return typeof iss==`string`?{message:iss,code:`custom`,input,inst}:{...iss}}var initializer$1=(inst,def)=>{inst.name=`$ZodError`,Object.defineProperty(inst,`_zod`,{value:inst._zod,enumerable:!1}),Object.defineProperty(inst,`issues`,{value:def,enumerable:!1}),inst.message=JSON.stringify(def,jsonStringifyReplacer,2),Object.defineProperty(inst,`toString`,{value:()=>inst.message,enumerable:!1})};const $ZodError=$constructor(`$ZodError`,initializer$1),$ZodRealError=$constructor(`$ZodError`,initializer$1,{Parent:Error});function flattenError(error,mapper=issue$1=>issue$1.message){let fieldErrors={},formErrors=[];for(let sub of error.issues)sub.path.length>0?(fieldErrors[sub.path[0]]=fieldErrors[sub.path[0]]||[],fieldErrors[sub.path[0]].push(mapper(sub))):formErrors.push(mapper(sub));return{formErrors,fieldErrors}}function formatError(error,mapper=issue$1=>issue$1.message){let fieldErrors={_errors:[]},processError=error$1=>{for(let issue$1 of error$1.issues)if(issue$1.code===`invalid_union`&&issue$1.errors.length)issue$1.errors.map(issues=>processError({issues}));else if(issue$1.code===`invalid_key`)processError({issues:issue$1.issues});else if(issue$1.code===`invalid_element`)processError({issues:issue$1.issues});else if(issue$1.path.length===0)fieldErrors._errors.push(mapper(issue$1));else{let curr=fieldErrors,i$1=0;for(;i$1<issue$1.path.length;){let el=issue$1.path[i$1];i$1===issue$1.path.length-1?(curr[el]=curr[el]||{_errors:[]},curr[el]._errors.push(mapper(issue$1))):curr[el]=curr[el]||{_errors:[]},curr=curr[el],i$1++}}};return processError(error),fieldErrors}const _parse=_Err=>(schema,value,_ctx,_params)=>{let ctx=_ctx?Object.assign(_ctx,{async:!1}):{async:!1},result=schema._zod.run({value,issues:[]},ctx);if(result instanceof Promise)throw new $ZodAsyncError;if(result.issues.length){let e$1=new(_params?.Err??_Err)(result.issues.map(iss=>finalizeIssue(iss,ctx,config())));throw captureStackTrace(e$1,_params?.callee),e$1}return result.value},parse$1=_parse($ZodRealError),_parseAsync=_Err=>async(schema,value,_ctx,params)=>{let ctx=_ctx?Object.assign(_ctx,{async:!0}):{async:!0},result=schema._zod.run({value,issues:[]},ctx);if(result instanceof Promise&&(result=await result),result.issues.length){let e$1=new(params?.Err??_Err)(result.issues.map(iss=>finalizeIssue(iss,ctx,config())));throw captureStackTrace(e$1,params?.callee),e$1}return result.value},parseAsync$1=_parseAsync($ZodRealError),_safeParse=_Err=>(schema,value,_ctx)=>{let ctx=_ctx?{..._ctx,async:!1}:{async:!1},result=schema._zod.run({value,issues:[]},ctx);if(result instanceof Promise)throw new $ZodAsyncError;return result.issues.length?{success:!1,error:new(_Err??$ZodError)(result.issues.map(iss=>finalizeIssue(iss,ctx,config())))}:{success:!0,data:result.value}},safeParse$1=_safeParse($ZodRealError),_safeParseAsync=_Err=>async(schema,value,_ctx)=>{let ctx=_ctx?Object.assign(_ctx,{async:!0}):{async:!0},result=schema._zod.run({value,issues:[]},ctx);return result instanceof Promise&&(result=await result),result.issues.length?{success:!1,error:new _Err(result.issues.map(iss=>finalizeIssue(iss,ctx,config())))}:{success:!0,data:result.value}},safeParseAsync$1=_safeParseAsync($ZodRealError),_encode=_Err=>(schema,value,_ctx)=>{let ctx=_ctx?Object.assign(_ctx,{direction:`backward`}):{direction:`backward`};return _parse(_Err)(schema,value,ctx)},encode$1=_encode($ZodRealError),_decode=_Err=>(schema,value,_ctx)=>_parse(_Err)(schema,value,_ctx),decode$1=_decode($ZodRealError),_encodeAsync=_Err=>async(schema,value,_ctx)=>{let ctx=_ctx?Object.assign(_ctx,{direction:`backward`}):{direction:`backward`};return _parseAsync(_Err)(schema,value,ctx)},encodeAsync$1=_encodeAsync($ZodRealError),_decodeAsync=_Err=>async(schema,value,_ctx)=>_parseAsync(_Err)(schema,value,_ctx),decodeAsync$1=_decodeAsync($ZodRealError),_safeEncode=_Err=>(schema,value,_ctx)=>{let ctx=_ctx?Object.assign(_ctx,{direction:`backward`}):{direction:`backward`};return _safeParse(_Err)(schema,value,ctx)},safeEncode$1=_safeEncode($ZodRealError),_safeDecode=_Err=>(schema,value,_ctx)=>_safeParse(_Err)(schema,value,_ctx),safeDecode$1=_safeDecode($ZodRealError),_safeEncodeAsync=_Err=>async(schema,value,_ctx)=>{let ctx=_ctx?Object.assign(_ctx,{direction:`backward`}):{direction:`backward`};return _safeParseAsync(_Err)(schema,value,ctx)},safeEncodeAsync$1=_safeEncodeAsync($ZodRealError),_safeDecodeAsync=_Err=>async(schema,value,_ctx)=>_safeParseAsync(_Err)(schema,value,_ctx),safeDecodeAsync$1=_safeDecodeAsync($ZodRealError),cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid=/^[a-zA-Z0-9_-]{21}$/,duration$1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=version$1=>version$1?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version$1}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var _emoji$1=`^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;function emoji(){return new RegExp(_emoji$1,`u`)}const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,e164=/^\+[1-9]\d{6,14}$/;var dateSource=`(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))`;const date$1=RegExp(`^${dateSource}$`);function timeSource(args){let hhmm=`(?:[01]\\d|2[0-3]):[0-5]\\d`;return typeof args.precision==`number`?args.precision===-1?`${hhmm}`:args.precision===0?`${hhmm}:[0-5]\\d`:`${hhmm}:[0-5]\\d\\.\\d{${args.precision}}`:`${hhmm}(?::[0-5]\\d(?:\\.\\d+)?)?`}function time$1(args){return RegExp(`^${timeSource(args)}$`)}function datetime$1(args){let time$2=timeSource({precision:args.precision}),opts=[`Z`];args.local&&opts.push(``),args.offset&&opts.push(`([+-](?:[01]\\d|2[0-3]):[0-5]\\d)`);let timeRegex=`${time$2}(?:${opts.join(`|`)})`;return RegExp(`^${dateSource}T(?:${timeRegex})$`)}const string$1=params=>{let regex=params?`[\\s\\S]{${params?.minimum??0},${params?.maximum??``}}`:`[\\s\\S]*`;return RegExp(`^${regex}$`)},lowercase=/^[^A-Z]*$/,uppercase=/^[^a-z]*$/,$ZodCheck=$constructor(`$ZodCheck`,(inst,def)=>{var _a$1;inst._zod??={},inst._zod.def=def,(_a$1=inst._zod).onattach??(_a$1.onattach=[])}),$ZodCheckMaxLength=$constructor(`$ZodCheckMaxLength`,(inst,def)=>{var _a$1;$ZodCheck.init(inst,def),(_a$1=inst._zod.def).when??(_a$1.when=payload=>{let val=payload.value;return!nullish(val)&&val.length!==void 0}),inst._zod.onattach.push(inst$1=>{let curr=inst$1._zod.bag.maximum??1/0;def.maximum<curr&&(inst$1._zod.bag.maximum=def.maximum)}),inst._zod.check=payload=>{let input=payload.value;if(input.length<=def.maximum)return;let origin$1=getLengthableOrigin(input);payload.issues.push({origin:origin$1,code:`too_big`,maximum:def.maximum,inclusive:!0,input,inst,continue:!def.abort})}}),$ZodCheckMinLength=$constructor(`$ZodCheckMinLength`,(inst,def)=>{var _a$1;$ZodCheck.init(inst,def),(_a$1=inst._zod.def).when??(_a$1.when=payload=>{let val=payload.value;return!nullish(val)&&val.length!==void 0}),inst._zod.onattach.push(inst$1=>{let curr=inst$1._zod.bag.minimum??-1/0;def.minimum>curr&&(inst$1._zod.bag.minimum=def.minimum)}),inst._zod.check=payload=>{let input=payload.value;if(input.length>=def.minimum)return;let origin$1=getLengthableOrigin(input);payload.issues.push({origin:origin$1,code:`too_small`,minimum:def.minimum,inclusive:!0,input,inst,continue:!def.abort})}}),$ZodCheckLengthEquals=$constructor(`$ZodCheckLengthEquals`,(inst,def)=>{var _a$1;$ZodCheck.init(inst,def),(_a$1=inst._zod.def).when??(_a$1.when=payload=>{let val=payload.value;return!nullish(val)&&val.length!==void 0}),inst._zod.onattach.push(inst$1=>{let bag=inst$1._zod.bag;bag.minimum=def.length,bag.maximum=def.length,bag.length=def.length}),inst._zod.check=payload=>{let input=payload.value,length=input.length;if(length===def.length)return;let origin$1=getLengthableOrigin(input),tooBig=length>def.length;payload.issues.push({origin:origin$1,...tooBig?{code:`too_big`,maximum:def.length}:{code:`too_small`,minimum:def.length},inclusive:!0,exact:!0,input:payload.value,inst,continue:!def.abort})}}),$ZodCheckStringFormat=$constructor(`$ZodCheckStringFormat`,(inst,def)=>{var _a$1,_b;$ZodCheck.init(inst,def),inst._zod.onattach.push(inst$1=>{let bag=inst$1._zod.bag;bag.format=def.format,def.pattern&&(bag.patterns??=new Set,bag.patterns.add(def.pattern))}),def.pattern?(_a$1=inst._zod).check??(_a$1.check=payload=>{def.pattern.lastIndex=0,!def.pattern.test(payload.value)&&payload.issues.push({origin:`string`,code:`invalid_format`,format:def.format,input:payload.value,...def.pattern?{pattern:def.pattern.toString()}:{},inst,continue:!def.abort})}):(_b=inst._zod).check??(_b.check=()=>{})}),$ZodCheckRegex=$constructor(`$ZodCheckRegex`,(inst,def)=>{$ZodCheckStringFormat.init(inst,def),inst._zod.check=payload=>{def.pattern.lastIndex=0,!def.pattern.test(payload.value)&&payload.issues.push({origin:`string`,code:`invalid_format`,format:`regex`,input:payload.value,pattern:def.pattern.toString(),inst,continue:!def.abort})}}),$ZodCheckLowerCase=$constructor(`$ZodCheckLowerCase`,(inst,def)=>{def.pattern??=lowercase,$ZodCheckStringFormat.init(inst,def)}),$ZodCheckUpperCase=$constructor(`$ZodCheckUpperCase`,(inst,def)=>{def.pattern??=uppercase,$ZodCheckStringFormat.init(inst,def)}),$ZodCheckIncludes=$constructor(`$ZodCheckIncludes`,(inst,def)=>{$ZodCheck.init(inst,def);let escapedRegex=escapeRegex(def.includes),pattern=new RegExp(typeof def.position==`number`?`^.{${def.position}}${escapedRegex}`:escapedRegex);def.pattern=pattern,inst._zod.onattach.push(inst$1=>{let bag=inst$1._zod.bag;bag.patterns??=new Set,bag.patterns.add(pattern)}),inst._zod.check=payload=>{payload.value.includes(def.includes,def.position)||payload.issues.push({origin:`string`,code:`invalid_format`,format:`includes`,includes:def.includes,input:payload.value,inst,continue:!def.abort})}}),$ZodCheckStartsWith=$constructor(`$ZodCheckStartsWith`,(inst,def)=>{$ZodCheck.init(inst,def);let pattern=RegExp(`^${escapeRegex(def.prefix)}.*`);def.pattern??=pattern,inst._zod.onattach.push(inst$1=>{let bag=inst$1._zod.bag;bag.patterns??=new Set,bag.patterns.add(pattern)}),inst._zod.check=payload=>{payload.value.startsWith(def.prefix)||payload.issues.push({origin:`string`,code:`invalid_format`,format:`starts_with`,prefix:def.prefix,input:payload.value,inst,continue:!def.abort})}}),$ZodCheckEndsWith=$constructor(`$ZodCheckEndsWith`,(inst,def)=>{$ZodCheck.init(inst,def);let pattern=RegExp(`.*${escapeRegex(def.suffix)}$`);def.pattern??=pattern,inst._zod.onattach.push(inst$1=>{let bag=inst$1._zod.bag;bag.patterns??=new Set,bag.patterns.add(pattern)}),inst._zod.check=payload=>{payload.value.endsWith(def.suffix)||payload.issues.push({origin:`string`,code:`invalid_format`,format:`ends_with`,suffix:def.suffix,input:payload.value,inst,continue:!def.abort})}}),$ZodCheckOverwrite=$constructor(`$ZodCheckOverwrite`,(inst,def)=>{$ZodCheck.init(inst,def),inst._zod.check=payload=>{payload.value=def.tx(payload.value)}});var Doc=class{constructor(args=[]){this.content=[],this.indent=0,this&&(this.args=args)}indented(fn){this.indent+=1,fn(this),--this.indent}write(arg){if(typeof arg==`function`){arg(this,{execution:`sync`}),arg(this,{execution:`async`});return}let lines=arg.split(`
`).filter(x$1=>x$1),minIndent=Math.min(...lines.map(x$1=>x$1.length-x$1.trimStart().length)),dedented=lines.map(x$1=>x$1.slice(minIndent)).map(x$1=>` `.repeat(this.indent*2)+x$1);for(let line of dedented)this.content.push(line)}compile(){let F$1=Function,args=this?.args,lines=[...(this?.content??[``]).map(x$1=>`  ${x$1}`)];return new F$1(...args,lines.join(`
`))}};const version={major:4,minor:3,patch:6},$ZodType=$constructor(`$ZodType`,(inst,def)=>{var _a$1;inst??={},inst._zod.def=def,inst._zod.bag=inst._zod.bag||{},inst._zod.version=version;let checks=[...inst._zod.def.checks??[]];inst._zod.traits.has(`$ZodCheck`)&&checks.unshift(inst);for(let ch of checks)for(let fn of ch._zod.onattach)fn(inst);if(checks.length===0)(_a$1=inst._zod).deferred??(_a$1.deferred=[]),inst._zod.deferred?.push(()=>{inst._zod.run=inst._zod.parse});else{let runChecks=(payload,checks$1,ctx)=>{let isAborted=aborted(payload),asyncResult;for(let ch of checks$1){if(ch._zod.def.when){if(!ch._zod.def.when(payload))continue}else if(isAborted)continue;let currLen=payload.issues.length,_$1=ch._zod.check(payload);if(_$1 instanceof Promise&&ctx?.async===!1)throw new $ZodAsyncError;if(asyncResult||_$1 instanceof Promise)asyncResult=(asyncResult??Promise.resolve()).then(async()=>{await _$1,payload.issues.length!==currLen&&(isAborted||=aborted(payload,currLen))});else{if(payload.issues.length===currLen)continue;isAborted||=aborted(payload,currLen)}}return asyncResult?asyncResult.then(()=>payload):payload},handleCanaryResult=(canary,payload,ctx)=>{if(aborted(canary))return canary.aborted=!0,canary;let checkResult=runChecks(payload,checks,ctx);if(checkResult instanceof Promise){if(ctx.async===!1)throw new $ZodAsyncError;return checkResult.then(checkResult$1=>inst._zod.parse(checkResult$1,ctx))}return inst._zod.parse(checkResult,ctx)};inst._zod.run=(payload,ctx)=>{if(ctx.skipChecks)return inst._zod.parse(payload,ctx);if(ctx.direction===`backward`){let canary=inst._zod.parse({value:payload.value,issues:[]},{...ctx,skipChecks:!0});return canary instanceof Promise?canary.then(canary$1=>handleCanaryResult(canary$1,payload,ctx)):handleCanaryResult(canary,payload,ctx)}let result=inst._zod.parse(payload,ctx);if(result instanceof Promise){if(ctx.async===!1)throw new $ZodAsyncError;return result.then(result$1=>runChecks(result$1,checks,ctx))}return runChecks(result,checks,ctx)}}defineLazy(inst,`~standard`,()=>({validate:value=>{try{let r$1=safeParse$1(inst,value);return r$1.success?{value:r$1.data}:{issues:r$1.error?.issues}}catch{return safeParseAsync$1(inst,value).then(r$1=>r$1.success?{value:r$1.data}:{issues:r$1.error?.issues})}},vendor:`zod`,version:1}))}),$ZodString=$constructor(`$ZodString`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.pattern=[...inst?._zod.bag?.patterns??[]].pop()??string$1(inst._zod.bag),inst._zod.parse=(payload,_$1)=>{if(def.coerce)try{payload.value=String(payload.value)}catch{}return typeof payload.value==`string`||payload.issues.push({expected:`string`,code:`invalid_type`,input:payload.value,inst}),payload}}),$ZodStringFormat=$constructor(`$ZodStringFormat`,(inst,def)=>{$ZodCheckStringFormat.init(inst,def),$ZodString.init(inst,def)}),$ZodGUID=$constructor(`$ZodGUID`,(inst,def)=>{def.pattern??=guid,$ZodStringFormat.init(inst,def)}),$ZodUUID=$constructor(`$ZodUUID`,(inst,def)=>{if(def.version){let v$1={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[def.version];if(v$1===void 0)throw Error(`Invalid UUID version: "${def.version}"`);def.pattern??=uuid(v$1)}else def.pattern??=uuid();$ZodStringFormat.init(inst,def)}),$ZodEmail=$constructor(`$ZodEmail`,(inst,def)=>{def.pattern??=email,$ZodStringFormat.init(inst,def)}),$ZodURL=$constructor(`$ZodURL`,(inst,def)=>{$ZodStringFormat.init(inst,def),inst._zod.check=payload=>{try{let trimmed=payload.value.trim(),url=new URL(trimmed);def.hostname&&(def.hostname.lastIndex=0,def.hostname.test(url.hostname)||payload.issues.push({code:`invalid_format`,format:`url`,note:`Invalid hostname`,pattern:def.hostname.source,input:payload.value,inst,continue:!def.abort})),def.protocol&&(def.protocol.lastIndex=0,def.protocol.test(url.protocol.endsWith(`:`)?url.protocol.slice(0,-1):url.protocol)||payload.issues.push({code:`invalid_format`,format:`url`,note:`Invalid protocol`,pattern:def.protocol.source,input:payload.value,inst,continue:!def.abort})),def.normalize?payload.value=url.href:payload.value=trimmed;return}catch{payload.issues.push({code:`invalid_format`,format:`url`,input:payload.value,inst,continue:!def.abort})}}}),$ZodEmoji=$constructor(`$ZodEmoji`,(inst,def)=>{def.pattern??=emoji(),$ZodStringFormat.init(inst,def)}),$ZodNanoID=$constructor(`$ZodNanoID`,(inst,def)=>{def.pattern??=nanoid,$ZodStringFormat.init(inst,def)}),$ZodCUID=$constructor(`$ZodCUID`,(inst,def)=>{def.pattern??=cuid,$ZodStringFormat.init(inst,def)}),$ZodCUID2=$constructor(`$ZodCUID2`,(inst,def)=>{def.pattern??=cuid2,$ZodStringFormat.init(inst,def)}),$ZodULID=$constructor(`$ZodULID`,(inst,def)=>{def.pattern??=ulid,$ZodStringFormat.init(inst,def)}),$ZodXID=$constructor(`$ZodXID`,(inst,def)=>{def.pattern??=xid,$ZodStringFormat.init(inst,def)}),$ZodKSUID=$constructor(`$ZodKSUID`,(inst,def)=>{def.pattern??=ksuid,$ZodStringFormat.init(inst,def)}),$ZodISODateTime=$constructor(`$ZodISODateTime`,(inst,def)=>{def.pattern??=datetime$1(def),$ZodStringFormat.init(inst,def)}),$ZodISODate=$constructor(`$ZodISODate`,(inst,def)=>{def.pattern??=date$1,$ZodStringFormat.init(inst,def)}),$ZodISOTime=$constructor(`$ZodISOTime`,(inst,def)=>{def.pattern??=time$1(def),$ZodStringFormat.init(inst,def)}),$ZodISODuration=$constructor(`$ZodISODuration`,(inst,def)=>{def.pattern??=duration$1,$ZodStringFormat.init(inst,def)}),$ZodIPv4=$constructor(`$ZodIPv4`,(inst,def)=>{def.pattern??=ipv4,$ZodStringFormat.init(inst,def),inst._zod.bag.format=`ipv4`}),$ZodIPv6=$constructor(`$ZodIPv6`,(inst,def)=>{def.pattern??=ipv6,$ZodStringFormat.init(inst,def),inst._zod.bag.format=`ipv6`,inst._zod.check=payload=>{try{new URL(`http://[${payload.value}]`)}catch{payload.issues.push({code:`invalid_format`,format:`ipv6`,input:payload.value,inst,continue:!def.abort})}}}),$ZodCIDRv4=$constructor(`$ZodCIDRv4`,(inst,def)=>{def.pattern??=cidrv4,$ZodStringFormat.init(inst,def)}),$ZodCIDRv6=$constructor(`$ZodCIDRv6`,(inst,def)=>{def.pattern??=cidrv6,$ZodStringFormat.init(inst,def),inst._zod.check=payload=>{let parts=payload.value.split(`/`);try{if(parts.length!==2)throw Error();let[address,prefix]=parts;if(!prefix)throw Error();let prefixNum=Number(prefix);if(`${prefixNum}`!==prefix||prefixNum<0||prefixNum>128)throw Error();new URL(`http://[${address}]`)}catch{payload.issues.push({code:`invalid_format`,format:`cidrv6`,input:payload.value,inst,continue:!def.abort})}}});function isValidBase64(data){if(data===``)return!0;if(data.length%4!=0)return!1;try{return atob(data),!0}catch{return!1}}const $ZodBase64=$constructor(`$ZodBase64`,(inst,def)=>{def.pattern??=base64,$ZodStringFormat.init(inst,def),inst._zod.bag.contentEncoding=`base64`,inst._zod.check=payload=>{isValidBase64(payload.value)||payload.issues.push({code:`invalid_format`,format:`base64`,input:payload.value,inst,continue:!def.abort})}});function isValidBase64URL(data){if(!base64url.test(data))return!1;let base64$1=data.replace(/[-_]/g,c$3=>c$3===`-`?`+`:`/`);return isValidBase64(base64$1.padEnd(Math.ceil(base64$1.length/4)*4,`=`))}const $ZodBase64URL=$constructor(`$ZodBase64URL`,(inst,def)=>{def.pattern??=base64url,$ZodStringFormat.init(inst,def),inst._zod.bag.contentEncoding=`base64url`,inst._zod.check=payload=>{isValidBase64URL(payload.value)||payload.issues.push({code:`invalid_format`,format:`base64url`,input:payload.value,inst,continue:!def.abort})}}),$ZodE164=$constructor(`$ZodE164`,(inst,def)=>{def.pattern??=e164,$ZodStringFormat.init(inst,def)});function isValidJWT(token,algorithm=null){try{let tokensParts=token.split(`.`);if(tokensParts.length!==3)return!1;let[header]=tokensParts;if(!header)return!1;let parsedHeader=JSON.parse(atob(header));return!(`typ`in parsedHeader&&parsedHeader?.typ!==`JWT`||!parsedHeader.alg||algorithm&&(!(`alg`in parsedHeader)||parsedHeader.alg!==algorithm))}catch{return!1}}const $ZodJWT=$constructor(`$ZodJWT`,(inst,def)=>{$ZodStringFormat.init(inst,def),inst._zod.check=payload=>{isValidJWT(payload.value,def.alg)||payload.issues.push({code:`invalid_format`,format:`jwt`,input:payload.value,inst,continue:!def.abort})}}),$ZodUnknown=$constructor(`$ZodUnknown`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=payload=>payload}),$ZodNever=$constructor(`$ZodNever`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,_ctx)=>(payload.issues.push({expected:`never`,code:`invalid_type`,input:payload.value,inst}),payload)});function handleArrayResult(result,final,index){result.issues.length&&final.issues.push(...prefixIssues(index,result.issues)),final.value[index]=result.value}const $ZodArray=$constructor(`$ZodArray`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,ctx)=>{let input=payload.value;if(!Array.isArray(input))return payload.issues.push({expected:`array`,code:`invalid_type`,input,inst}),payload;payload.value=Array(input.length);let proms=[];for(let i$1=0;i$1<input.length;i$1++){let item=input[i$1],result=def.element._zod.run({value:item,issues:[]},ctx);result instanceof Promise?proms.push(result.then(result$1=>handleArrayResult(result$1,payload,i$1))):handleArrayResult(result,payload,i$1)}return proms.length?Promise.all(proms).then(()=>payload):payload}});function handlePropertyResult(result,final,key,input,isOptionalOut){if(result.issues.length){if(isOptionalOut&&!(key in input))return;final.issues.push(...prefixIssues(key,result.issues))}result.value===void 0?key in input&&(final.value[key]=void 0):final.value[key]=result.value}function normalizeDef(def){let keys=Object.keys(def.shape);for(let k$1 of keys)if(!def.shape?.[k$1]?._zod?.traits?.has(`$ZodType`))throw Error(`Invalid element at key "${k$1}": expected a Zod schema`);let okeys=optionalKeys(def.shape);return{...def,keys,keySet:new Set(keys),numKeys:keys.length,optionalKeys:new Set(okeys)}}function handleCatchall(proms,input,payload,ctx,def,inst){let unrecognized=[],keySet=def.keySet,_catchall=def.catchall._zod,t$1=_catchall.def.type,isOptionalOut=_catchall.optout===`optional`;for(let key in input){if(keySet.has(key))continue;if(t$1===`never`){unrecognized.push(key);continue}let r$1=_catchall.run({value:input[key],issues:[]},ctx);r$1 instanceof Promise?proms.push(r$1.then(r$2=>handlePropertyResult(r$2,payload,key,input,isOptionalOut))):handlePropertyResult(r$1,payload,key,input,isOptionalOut)}return unrecognized.length&&payload.issues.push({code:`unrecognized_keys`,keys:unrecognized,input,inst}),proms.length?Promise.all(proms).then(()=>payload):payload}const $ZodObject=$constructor(`$ZodObject`,(inst,def)=>{if($ZodType.init(inst,def),!Object.getOwnPropertyDescriptor(def,`shape`)?.get){let sh=def.shape;Object.defineProperty(def,`shape`,{get:()=>{let newSh={...sh};return Object.defineProperty(def,`shape`,{value:newSh}),newSh}})}let _normalized=cached(()=>normalizeDef(def));defineLazy(inst._zod,`propValues`,()=>{let shape=def.shape,propValues={};for(let key in shape){let field=shape[key]._zod;if(field.values){propValues[key]??(propValues[key]=new Set);for(let v$1 of field.values)propValues[key].add(v$1)}}return propValues});let isObject$2=isObject,catchall=def.catchall,value;inst._zod.parse=(payload,ctx)=>{value??=_normalized.value;let input=payload.value;if(!isObject$2(input))return payload.issues.push({expected:`object`,code:`invalid_type`,input,inst}),payload;payload.value={};let proms=[],shape=value.shape;for(let key of value.keys){let el=shape[key],isOptionalOut=el._zod.optout===`optional`,r$1=el._zod.run({value:input[key],issues:[]},ctx);r$1 instanceof Promise?proms.push(r$1.then(r$2=>handlePropertyResult(r$2,payload,key,input,isOptionalOut))):handlePropertyResult(r$1,payload,key,input,isOptionalOut)}return catchall?handleCatchall(proms,input,payload,ctx,_normalized.value,inst):proms.length?Promise.all(proms).then(()=>payload):payload}}),$ZodObjectJIT=$constructor(`$ZodObjectJIT`,(inst,def)=>{$ZodObject.init(inst,def);let superParse=inst._zod.parse,_normalized=cached(()=>normalizeDef(def)),generateFastpass=shape=>{let doc=new Doc([`shape`,`payload`,`ctx`]),normalized=_normalized.value,parseStr=key=>{let k$1=esc(key);return`shape[${k$1}]._zod.run({ value: input[${k$1}], issues: [] }, ctx)`};doc.write(`const input = payload.value;`);let ids=Object.create(null),counter=0;for(let key of normalized.keys)ids[key]=`key_${counter++}`;doc.write(`const newResult = {};`);for(let key of normalized.keys){let id=ids[key],k$1=esc(key),isOptionalOut=shape[key]?._zod?.optout===`optional`;doc.write(`const ${id} = ${parseStr(key)};`),isOptionalOut?doc.write(`
        if (${id}.issues.length) {
          if (${k$1} in input) {
            payload.issues = payload.issues.concat(${id}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${k$1}, ...iss.path] : [${k$1}]
            })));
          }
        }
        
        if (${id}.value === undefined) {
          if (${k$1} in input) {
            newResult[${k$1}] = undefined;
          }
        } else {
          newResult[${k$1}] = ${id}.value;
        }
        
      `):doc.write(`
        if (${id}.issues.length) {
          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k$1}, ...iss.path] : [${k$1}]
          })));
        }
        
        if (${id}.value === undefined) {
          if (${k$1} in input) {
            newResult[${k$1}] = undefined;
          }
        } else {
          newResult[${k$1}] = ${id}.value;
        }
        
      `)}doc.write(`payload.value = newResult;`),doc.write(`return payload;`);let fn=doc.compile();return(payload,ctx)=>fn(shape,payload,ctx)},fastpass,isObject$2=isObject,jit=!globalConfig.jitless,fastEnabled=jit&&allowsEval.value,catchall=def.catchall,value;inst._zod.parse=(payload,ctx)=>{value??=_normalized.value;let input=payload.value;return isObject$2(input)?jit&&fastEnabled&&ctx?.async===!1&&ctx.jitless!==!0?(fastpass||=generateFastpass(def.shape),payload=fastpass(payload,ctx),catchall?handleCatchall([],input,payload,ctx,value,inst):payload):superParse(payload,ctx):(payload.issues.push({expected:`object`,code:`invalid_type`,input,inst}),payload)}});function handleUnionResults(results,final,inst,ctx){for(let result of results)if(result.issues.length===0)return final.value=result.value,final;let nonaborted=results.filter(r$1=>!aborted(r$1));return nonaborted.length===1?(final.value=nonaborted[0].value,nonaborted[0]):(final.issues.push({code:`invalid_union`,input:final.value,inst,errors:results.map(result=>result.issues.map(iss=>finalizeIssue(iss,ctx,config())))}),final)}const $ZodUnion=$constructor(`$ZodUnion`,(inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,`optin`,()=>def.options.some(o$2=>o$2._zod.optin===`optional`)?`optional`:void 0),defineLazy(inst._zod,`optout`,()=>def.options.some(o$2=>o$2._zod.optout===`optional`)?`optional`:void 0),defineLazy(inst._zod,`values`,()=>{if(def.options.every(o$2=>o$2._zod.values))return new Set(def.options.flatMap(option=>Array.from(option._zod.values)))}),defineLazy(inst._zod,`pattern`,()=>{if(def.options.every(o$2=>o$2._zod.pattern)){let patterns=def.options.map(o$2=>o$2._zod.pattern);return RegExp(`^(${patterns.map(p$2=>cleanRegex(p$2.source)).join(`|`)})$`)}});let single=def.options.length===1,first=def.options[0]._zod.run;inst._zod.parse=(payload,ctx)=>{if(single)return first(payload,ctx);let async=!1,results=[];for(let option of def.options){let result=option._zod.run({value:payload.value,issues:[]},ctx);if(result instanceof Promise)results.push(result),async=!0;else{if(result.issues.length===0)return result;results.push(result)}}return async?Promise.all(results).then(results$1=>handleUnionResults(results$1,payload,inst,ctx)):handleUnionResults(results,payload,inst,ctx)}}),$ZodIntersection=$constructor(`$ZodIntersection`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,ctx)=>{let input=payload.value,left=def.left._zod.run({value:input,issues:[]},ctx),right=def.right._zod.run({value:input,issues:[]},ctx);return left instanceof Promise||right instanceof Promise?Promise.all([left,right]).then(([left$1,right$1])=>handleIntersectionResults(payload,left$1,right$1)):handleIntersectionResults(payload,left,right)}});function mergeValues(a$2,b$2){if(a$2===b$2||a$2 instanceof Date&&b$2 instanceof Date&&+a$2==+b$2)return{valid:!0,data:a$2};if(isPlainObject(a$2)&&isPlainObject(b$2)){let bKeys=Object.keys(b$2),sharedKeys=Object.keys(a$2).filter(key=>bKeys.indexOf(key)!==-1),newObj={...a$2,...b$2};for(let key of sharedKeys){let sharedValue=mergeValues(a$2[key],b$2[key]);if(!sharedValue.valid)return{valid:!1,mergeErrorPath:[key,...sharedValue.mergeErrorPath]};newObj[key]=sharedValue.data}return{valid:!0,data:newObj}}if(Array.isArray(a$2)&&Array.isArray(b$2)){if(a$2.length!==b$2.length)return{valid:!1,mergeErrorPath:[]};let newArray=[];for(let index=0;index<a$2.length;index++){let itemA=a$2[index],itemB=b$2[index],sharedValue=mergeValues(itemA,itemB);if(!sharedValue.valid)return{valid:!1,mergeErrorPath:[index,...sharedValue.mergeErrorPath]};newArray.push(sharedValue.data)}return{valid:!0,data:newArray}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(result,left,right){let unrecKeys=new Map,unrecIssue;for(let iss of left.issues)if(iss.code===`unrecognized_keys`){unrecIssue??=iss;for(let k$1 of iss.keys)unrecKeys.has(k$1)||unrecKeys.set(k$1,{}),unrecKeys.get(k$1).l=!0}else result.issues.push(iss);for(let iss of right.issues)if(iss.code===`unrecognized_keys`)for(let k$1 of iss.keys)unrecKeys.has(k$1)||unrecKeys.set(k$1,{}),unrecKeys.get(k$1).r=!0;else result.issues.push(iss);let bothKeys=[...unrecKeys].filter(([,f$2])=>f$2.l&&f$2.r).map(([k$1])=>k$1);if(bothKeys.length&&unrecIssue&&result.issues.push({...unrecIssue,keys:bothKeys}),aborted(result))return result;let merged=mergeValues(left.value,right.value);if(!merged.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(merged.mergeErrorPath)}`);return result.value=merged.data,result}const $ZodEnum=$constructor(`$ZodEnum`,(inst,def)=>{$ZodType.init(inst,def);let values=getEnumValues(def.entries),valuesSet=new Set(values);inst._zod.values=valuesSet,inst._zod.pattern=RegExp(`^(${values.filter(k$1=>propertyKeyTypes.has(typeof k$1)).map(o$2=>typeof o$2==`string`?escapeRegex(o$2):o$2.toString()).join(`|`)})$`),inst._zod.parse=(payload,_ctx)=>{let input=payload.value;return valuesSet.has(input)||payload.issues.push({code:`invalid_value`,values,input,inst}),payload}}),$ZodTransform=$constructor(`$ZodTransform`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,ctx)=>{if(ctx.direction===`backward`)throw new $ZodEncodeError(inst.constructor.name);let _out=def.transform(payload.value,payload);if(ctx.async)return(_out instanceof Promise?_out:Promise.resolve(_out)).then(output=>(payload.value=output,payload));if(_out instanceof Promise)throw new $ZodAsyncError;return payload.value=_out,payload}});function handleOptionalResult(result,input){return result.issues.length&&input===void 0?{issues:[],value:void 0}:result}const $ZodOptional=$constructor(`$ZodOptional`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.optin=`optional`,inst._zod.optout=`optional`,defineLazy(inst._zod,`values`,()=>def.innerType._zod.values?new Set([...def.innerType._zod.values,void 0]):void 0),defineLazy(inst._zod,`pattern`,()=>{let pattern=def.innerType._zod.pattern;return pattern?RegExp(`^(${cleanRegex(pattern.source)})?$`):void 0}),inst._zod.parse=(payload,ctx)=>{if(def.innerType._zod.optin===`optional`){let result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then(r$1=>handleOptionalResult(r$1,payload.value)):handleOptionalResult(result,payload.value)}return payload.value===void 0?payload:def.innerType._zod.run(payload,ctx)}}),$ZodExactOptional=$constructor(`$ZodExactOptional`,(inst,def)=>{$ZodOptional.init(inst,def),defineLazy(inst._zod,`values`,()=>def.innerType._zod.values),defineLazy(inst._zod,`pattern`,()=>def.innerType._zod.pattern),inst._zod.parse=(payload,ctx)=>def.innerType._zod.run(payload,ctx)}),$ZodNullable=$constructor(`$ZodNullable`,(inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,`optin`,()=>def.innerType._zod.optin),defineLazy(inst._zod,`optout`,()=>def.innerType._zod.optout),defineLazy(inst._zod,`pattern`,()=>{let pattern=def.innerType._zod.pattern;return pattern?RegExp(`^(${cleanRegex(pattern.source)}|null)$`):void 0}),defineLazy(inst._zod,`values`,()=>def.innerType._zod.values?new Set([...def.innerType._zod.values,null]):void 0),inst._zod.parse=(payload,ctx)=>payload.value===null?payload:def.innerType._zod.run(payload,ctx)}),$ZodDefault=$constructor(`$ZodDefault`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.optin=`optional`,defineLazy(inst._zod,`values`,()=>def.innerType._zod.values),inst._zod.parse=(payload,ctx)=>{if(ctx.direction===`backward`)return def.innerType._zod.run(payload,ctx);if(payload.value===void 0)return payload.value=def.defaultValue,payload;let result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then(result$1=>handleDefaultResult(result$1,def)):handleDefaultResult(result,def)}});function handleDefaultResult(payload,def){return payload.value===void 0&&(payload.value=def.defaultValue),payload}const $ZodPrefault=$constructor(`$ZodPrefault`,(inst,def)=>{$ZodType.init(inst,def),inst._zod.optin=`optional`,defineLazy(inst._zod,`values`,()=>def.innerType._zod.values),inst._zod.parse=(payload,ctx)=>(ctx.direction===`backward`||payload.value===void 0&&(payload.value=def.defaultValue),def.innerType._zod.run(payload,ctx))}),$ZodNonOptional=$constructor(`$ZodNonOptional`,(inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,`values`,()=>{let v$1=def.innerType._zod.values;return v$1?new Set([...v$1].filter(x$1=>x$1!==void 0)):void 0}),inst._zod.parse=(payload,ctx)=>{let result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then(result$1=>handleNonOptionalResult(result$1,inst)):handleNonOptionalResult(result,inst)}});function handleNonOptionalResult(payload,inst){return!payload.issues.length&&payload.value===void 0&&payload.issues.push({code:`invalid_type`,expected:`nonoptional`,input:payload.value,inst}),payload}const $ZodCatch=$constructor(`$ZodCatch`,(inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,`optin`,()=>def.innerType._zod.optin),defineLazy(inst._zod,`optout`,()=>def.innerType._zod.optout),defineLazy(inst._zod,`values`,()=>def.innerType._zod.values),inst._zod.parse=(payload,ctx)=>{if(ctx.direction===`backward`)return def.innerType._zod.run(payload,ctx);let result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then(result$1=>(payload.value=result$1.value,result$1.issues.length&&(payload.value=def.catchValue({...payload,error:{issues:result$1.issues.map(iss=>finalizeIssue(iss,ctx,config()))},input:payload.value}),payload.issues=[]),payload)):(payload.value=result.value,result.issues.length&&(payload.value=def.catchValue({...payload,error:{issues:result.issues.map(iss=>finalizeIssue(iss,ctx,config()))},input:payload.value}),payload.issues=[]),payload)}}),$ZodPipe=$constructor(`$ZodPipe`,(inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,`values`,()=>def.in._zod.values),defineLazy(inst._zod,`optin`,()=>def.in._zod.optin),defineLazy(inst._zod,`optout`,()=>def.out._zod.optout),defineLazy(inst._zod,`propValues`,()=>def.in._zod.propValues),inst._zod.parse=(payload,ctx)=>{if(ctx.direction===`backward`){let right=def.out._zod.run(payload,ctx);return right instanceof Promise?right.then(right$1=>handlePipeResult(right$1,def.in,ctx)):handlePipeResult(right,def.in,ctx)}let left=def.in._zod.run(payload,ctx);return left instanceof Promise?left.then(left$1=>handlePipeResult(left$1,def.out,ctx)):handlePipeResult(left,def.out,ctx)}});function handlePipeResult(left,next,ctx){return left.issues.length?(left.aborted=!0,left):next._zod.run({value:left.value,issues:left.issues},ctx)}const $ZodReadonly=$constructor(`$ZodReadonly`,(inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,`propValues`,()=>def.innerType._zod.propValues),defineLazy(inst._zod,`values`,()=>def.innerType._zod.values),defineLazy(inst._zod,`optin`,()=>def.innerType?._zod?.optin),defineLazy(inst._zod,`optout`,()=>def.innerType?._zod?.optout),inst._zod.parse=(payload,ctx)=>{if(ctx.direction===`backward`)return def.innerType._zod.run(payload,ctx);let result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then(handleReadonlyResult):handleReadonlyResult(result)}});function handleReadonlyResult(payload){return payload.value=Object.freeze(payload.value),payload}const $ZodCustom=$constructor(`$ZodCustom`,(inst,def)=>{$ZodCheck.init(inst,def),$ZodType.init(inst,def),inst._zod.parse=(payload,_$1)=>payload,inst._zod.check=payload=>{let input=payload.value,r$1=def.fn(input);if(r$1 instanceof Promise)return r$1.then(r$2=>handleRefineResult(r$2,payload,input,inst));handleRefineResult(r$1,payload,input,inst)}});function handleRefineResult(result,payload,input,inst){if(!result){let _iss={code:`custom`,input,inst,path:[...inst._zod.def.path??[]],continue:!inst._zod.def.abort};inst._zod.def.params&&(_iss.params=inst._zod.def.params),payload.issues.push(issue(_iss))}}var _a,$ZodRegistry=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(schema,..._meta){let meta$2=_meta[0];return this._map.set(schema,meta$2),meta$2&&typeof meta$2==`object`&&`id`in meta$2&&this._idmap.set(meta$2.id,schema),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(schema){let meta$2=this._map.get(schema);return meta$2&&typeof meta$2==`object`&&`id`in meta$2&&this._idmap.delete(meta$2.id),this._map.delete(schema),this}get(schema){let p$2=schema._zod.parent;if(p$2){let pm={...this.get(p$2)??{}};delete pm.id;let f$2={...pm,...this._map.get(schema)};return Object.keys(f$2).length?f$2:void 0}return this._map.get(schema)}has(schema){return this._map.has(schema)}};function registry(){return new $ZodRegistry}(_a=globalThis).__zod_globalRegistry??(_a.__zod_globalRegistry=registry());const globalRegistry=globalThis.__zod_globalRegistry;function _string(Class,params){return new Class({type:`string`,...normalizeParams(params)})}function _email(Class,params){return new Class({type:`string`,format:`email`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _guid(Class,params){return new Class({type:`string`,format:`guid`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _uuid(Class,params){return new Class({type:`string`,format:`uuid`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _uuidv4(Class,params){return new Class({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v4`,...normalizeParams(params)})}function _uuidv6(Class,params){return new Class({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v6`,...normalizeParams(params)})}function _uuidv7(Class,params){return new Class({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v7`,...normalizeParams(params)})}function _url(Class,params){return new Class({type:`string`,format:`url`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _emoji(Class,params){return new Class({type:`string`,format:`emoji`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _nanoid(Class,params){return new Class({type:`string`,format:`nanoid`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _cuid(Class,params){return new Class({type:`string`,format:`cuid`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _cuid2(Class,params){return new Class({type:`string`,format:`cuid2`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _ulid(Class,params){return new Class({type:`string`,format:`ulid`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _xid(Class,params){return new Class({type:`string`,format:`xid`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _ksuid(Class,params){return new Class({type:`string`,format:`ksuid`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _ipv4(Class,params){return new Class({type:`string`,format:`ipv4`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _ipv6(Class,params){return new Class({type:`string`,format:`ipv6`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _cidrv4(Class,params){return new Class({type:`string`,format:`cidrv4`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _cidrv6(Class,params){return new Class({type:`string`,format:`cidrv6`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _base64(Class,params){return new Class({type:`string`,format:`base64`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _base64url(Class,params){return new Class({type:`string`,format:`base64url`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _e164(Class,params){return new Class({type:`string`,format:`e164`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _jwt(Class,params){return new Class({type:`string`,format:`jwt`,check:`string_format`,abort:!1,...normalizeParams(params)})}function _isoDateTime(Class,params){return new Class({type:`string`,format:`datetime`,check:`string_format`,offset:!1,local:!1,precision:null,...normalizeParams(params)})}function _isoDate(Class,params){return new Class({type:`string`,format:`date`,check:`string_format`,...normalizeParams(params)})}function _isoTime(Class,params){return new Class({type:`string`,format:`time`,check:`string_format`,precision:null,...normalizeParams(params)})}function _isoDuration(Class,params){return new Class({type:`string`,format:`duration`,check:`string_format`,...normalizeParams(params)})}function _unknown(Class){return new Class({type:`unknown`})}function _never(Class,params){return new Class({type:`never`,...normalizeParams(params)})}function _maxLength(maximum,params){return new $ZodCheckMaxLength({check:`max_length`,...normalizeParams(params),maximum})}function _minLength(minimum,params){return new $ZodCheckMinLength({check:`min_length`,...normalizeParams(params),minimum})}function _length(length,params){return new $ZodCheckLengthEquals({check:`length_equals`,...normalizeParams(params),length})}function _regex(pattern,params){return new $ZodCheckRegex({check:`string_format`,format:`regex`,...normalizeParams(params),pattern})}function _lowercase(params){return new $ZodCheckLowerCase({check:`string_format`,format:`lowercase`,...normalizeParams(params)})}function _uppercase(params){return new $ZodCheckUpperCase({check:`string_format`,format:`uppercase`,...normalizeParams(params)})}function _includes(includes,params){return new $ZodCheckIncludes({check:`string_format`,format:`includes`,...normalizeParams(params),includes})}function _startsWith(prefix,params){return new $ZodCheckStartsWith({check:`string_format`,format:`starts_with`,...normalizeParams(params),prefix})}function _endsWith(suffix,params){return new $ZodCheckEndsWith({check:`string_format`,format:`ends_with`,...normalizeParams(params),suffix})}function _overwrite(tx){return new $ZodCheckOverwrite({check:`overwrite`,tx})}function _normalize(form){return _overwrite(input=>input.normalize(form))}function _trim(){return _overwrite(input=>input.trim())}function _toLowerCase(){return _overwrite(input=>input.toLowerCase())}function _toUpperCase(){return _overwrite(input=>input.toUpperCase())}function _slugify(){return _overwrite(input=>slugify(input))}function _array(Class,element,params){return new Class({type:`array`,element,...normalizeParams(params)})}function _refine(Class,fn,_params){return new Class({type:`custom`,check:`custom`,fn,...normalizeParams(_params)})}function _superRefine(fn){let ch=_check(payload=>(payload.addIssue=issue$1=>{if(typeof issue$1==`string`)payload.issues.push(issue(issue$1,payload.value,ch._zod.def));else{let _issue=issue$1;_issue.fatal&&(_issue.continue=!1),_issue.code??=`custom`,_issue.input??=payload.value,_issue.inst??=ch,_issue.continue??=!ch._zod.def.abort,payload.issues.push(issue(_issue))}},fn(payload.value,payload)));return ch}function _check(fn,params){let ch=new $ZodCheck({check:`custom`,...normalizeParams(params)});return ch._zod.check=fn,ch}function describe$1(description){let ch=new $ZodCheck({check:`describe`});return ch._zod.onattach=[inst=>{let existing=globalRegistry.get(inst)??{};globalRegistry.add(inst,{...existing,description})}],ch._zod.check=()=>{},ch}function meta$1(metadata){let ch=new $ZodCheck({check:`meta`});return ch._zod.onattach=[inst=>{let existing=globalRegistry.get(inst)??{};globalRegistry.add(inst,{...existing,...metadata})}],ch._zod.check=()=>{},ch}function initializeContext(params){let target=params?.target??`draft-2020-12`;return target===`draft-4`&&(target=`draft-04`),target===`draft-7`&&(target=`draft-07`),{processors:params.processors??{},metadataRegistry:params?.metadata??globalRegistry,target,unrepresentable:params?.unrepresentable??`throw`,override:params?.override??(()=>{}),io:params?.io??`output`,counter:0,seen:new Map,cycles:params?.cycles??`ref`,reused:params?.reused??`inline`,external:params?.external??void 0}}function process$1(schema,ctx,_params={path:[],schemaPath:[]}){var _a$1;let def=schema._zod.def,seen=ctx.seen.get(schema);if(seen)return seen.count++,_params.schemaPath.includes(schema)&&(seen.cycle=_params.path),seen.schema;let result={schema:{},count:1,cycle:void 0,path:_params.path};ctx.seen.set(schema,result);let overrideSchema=schema._zod.toJSONSchema?.();if(overrideSchema)result.schema=overrideSchema;else{let params={..._params,schemaPath:[..._params.schemaPath,schema],path:_params.path};if(schema._zod.processJSONSchema)schema._zod.processJSONSchema(ctx,result.schema,params);else{let _json=result.schema,processor=ctx.processors[def.type];if(!processor)throw Error(`[toJSONSchema]: Non-representable type encountered: ${def.type}`);processor(schema,ctx,_json,params)}let parent=schema._zod.parent;parent&&(result.ref||=parent,process$1(parent,ctx,params),ctx.seen.get(parent).isParent=!0)}let meta$2=ctx.metadataRegistry.get(schema);return meta$2&&Object.assign(result.schema,meta$2),ctx.io===`input`&&isTransforming(schema)&&(delete result.schema.examples,delete result.schema.default),ctx.io===`input`&&result.schema._prefault&&((_a$1=result.schema).default??(_a$1.default=result.schema._prefault)),delete result.schema._prefault,ctx.seen.get(schema).schema}function extractDefs(ctx,schema){let root=ctx.seen.get(schema);if(!root)throw Error(`Unprocessed schema. This is a bug in Zod.`);let idToSchema=new Map;for(let entry of ctx.seen.entries()){let id=ctx.metadataRegistry.get(entry[0])?.id;if(id){let existing=idToSchema.get(id);if(existing&&existing!==entry[0])throw Error(`Duplicate schema id "${id}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);idToSchema.set(id,entry[0])}}let makeURI=entry=>{let defsSegment=ctx.target===`draft-2020-12`?`$defs`:`definitions`;if(ctx.external){let externalId=ctx.external.registry.get(entry[0])?.id,uriGenerator=ctx.external.uri??(id$1=>id$1);if(externalId)return{ref:uriGenerator(externalId)};let id=entry[1].defId??entry[1].schema.id??`schema${ctx.counter++}`;return entry[1].defId=id,{defId:id,ref:`${uriGenerator(`__shared`)}#/${defsSegment}/${id}`}}if(entry[1]===root)return{ref:`#`};let defUriPrefix=`#/${defsSegment}/`,defId=entry[1].schema.id??`__schema${ctx.counter++}`;return{defId,ref:defUriPrefix+defId}},extractToDef=entry=>{if(entry[1].schema.$ref)return;let seen=entry[1],{ref,defId}=makeURI(entry);seen.def={...seen.schema},defId&&(seen.defId=defId);let schema$1=seen.schema;for(let key in schema$1)delete schema$1[key];schema$1.$ref=ref};if(ctx.cycles===`throw`)for(let entry of ctx.seen.entries()){let seen=entry[1];if(seen.cycle)throw Error(`Cycle detected: #/${seen.cycle?.join(`/`)}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let entry of ctx.seen.entries()){let seen=entry[1];if(schema===entry[0]){extractToDef(entry);continue}if(ctx.external){let ext=ctx.external.registry.get(entry[0])?.id;if(schema!==entry[0]&&ext){extractToDef(entry);continue}}if(ctx.metadataRegistry.get(entry[0])?.id){extractToDef(entry);continue}if(seen.cycle){extractToDef(entry);continue}if(seen.count>1&&ctx.reused===`ref`){extractToDef(entry);continue}}}function finalize(ctx,schema){let root=ctx.seen.get(schema);if(!root)throw Error(`Unprocessed schema. This is a bug in Zod.`);let flattenRef=zodSchema=>{let seen=ctx.seen.get(zodSchema);if(seen.ref===null)return;let schema$1=seen.def??seen.schema,_cached={...schema$1},ref=seen.ref;if(seen.ref=null,ref){flattenRef(ref);let refSeen=ctx.seen.get(ref),refSchema=refSeen.schema;if(refSchema.$ref&&(ctx.target===`draft-07`||ctx.target===`draft-04`||ctx.target===`openapi-3.0`)?(schema$1.allOf=schema$1.allOf??[],schema$1.allOf.push(refSchema)):Object.assign(schema$1,refSchema),Object.assign(schema$1,_cached),zodSchema._zod.parent===ref)for(let key in schema$1)key===`$ref`||key===`allOf`||key in _cached||delete schema$1[key];if(refSchema.$ref&&refSeen.def)for(let key in schema$1)key===`$ref`||key===`allOf`||key in refSeen.def&&JSON.stringify(schema$1[key])===JSON.stringify(refSeen.def[key])&&delete schema$1[key]}let parent=zodSchema._zod.parent;if(parent&&parent!==ref){flattenRef(parent);let parentSeen=ctx.seen.get(parent);if(parentSeen?.schema.$ref&&(schema$1.$ref=parentSeen.schema.$ref,parentSeen.def))for(let key in schema$1)key===`$ref`||key===`allOf`||key in parentSeen.def&&JSON.stringify(schema$1[key])===JSON.stringify(parentSeen.def[key])&&delete schema$1[key]}ctx.override({zodSchema,jsonSchema:schema$1,path:seen.path??[]})};for(let entry of[...ctx.seen.entries()].reverse())flattenRef(entry[0]);let result={};if(ctx.target===`draft-2020-12`?result.$schema=`https://json-schema.org/draft/2020-12/schema`:ctx.target===`draft-07`?result.$schema=`http://json-schema.org/draft-07/schema#`:ctx.target===`draft-04`?result.$schema=`http://json-schema.org/draft-04/schema#`:ctx.target,ctx.external?.uri){let id=ctx.external.registry.get(schema)?.id;if(!id)throw Error("Schema is missing an `id` property");result.$id=ctx.external.uri(id)}Object.assign(result,root.def??root.schema);let defs=ctx.external?.defs??{};for(let entry of ctx.seen.entries()){let seen=entry[1];seen.def&&seen.defId&&(defs[seen.defId]=seen.def)}ctx.external||Object.keys(defs).length>0&&(ctx.target===`draft-2020-12`?result.$defs=defs:result.definitions=defs);try{let finalized=JSON.parse(JSON.stringify(result));return Object.defineProperty(finalized,`~standard`,{value:{...schema[`~standard`],jsonSchema:{input:createStandardJSONSchemaMethod(schema,`input`,ctx.processors),output:createStandardJSONSchemaMethod(schema,`output`,ctx.processors)}},enumerable:!1,writable:!1}),finalized}catch{throw Error(`Error converting schema to JSON.`)}}function isTransforming(_schema,_ctx){let ctx=_ctx??{seen:new Set};if(ctx.seen.has(_schema))return!1;ctx.seen.add(_schema);let def=_schema._zod.def;if(def.type===`transform`)return!0;if(def.type===`array`)return isTransforming(def.element,ctx);if(def.type===`set`)return isTransforming(def.valueType,ctx);if(def.type===`lazy`)return isTransforming(def.getter(),ctx);if(def.type===`promise`||def.type===`optional`||def.type===`nonoptional`||def.type===`nullable`||def.type===`readonly`||def.type===`default`||def.type===`prefault`)return isTransforming(def.innerType,ctx);if(def.type===`intersection`)return isTransforming(def.left,ctx)||isTransforming(def.right,ctx);if(def.type===`record`||def.type===`map`)return isTransforming(def.keyType,ctx)||isTransforming(def.valueType,ctx);if(def.type===`pipe`)return isTransforming(def.in,ctx)||isTransforming(def.out,ctx);if(def.type===`object`){for(let key in def.shape)if(isTransforming(def.shape[key],ctx))return!0;return!1}if(def.type===`union`){for(let option of def.options)if(isTransforming(option,ctx))return!0;return!1}if(def.type===`tuple`){for(let item of def.items)if(isTransforming(item,ctx))return!0;return!!(def.rest&&isTransforming(def.rest,ctx))}return!1}const createToJSONSchemaMethod=(schema,processors={})=>params=>{let ctx=initializeContext({...params,processors});return process$1(schema,ctx),extractDefs(ctx,schema),finalize(ctx,schema)},createStandardJSONSchemaMethod=(schema,io,processors={})=>params=>{let{libraryOptions,target}=params??{},ctx=initializeContext({...libraryOptions??{},target,io,processors});return process$1(schema,ctx),extractDefs(ctx,schema),finalize(ctx,schema)};var formatMap={guid:`uuid`,url:`uri`,datetime:`date-time`,json_string:`json-string`,regex:``};const stringProcessor=(schema,ctx,_json,_params)=>{let json=_json;json.type=`string`;let{minimum,maximum,format,patterns,contentEncoding}=schema._zod.bag;if(typeof minimum==`number`&&(json.minLength=minimum),typeof maximum==`number`&&(json.maxLength=maximum),format&&(json.format=formatMap[format]??format,json.format===``&&delete json.format,format===`time`&&delete json.format),contentEncoding&&(json.contentEncoding=contentEncoding),patterns&&patterns.size>0){let regexes=[...patterns];regexes.length===1?json.pattern=regexes[0].source:regexes.length>1&&(json.allOf=[...regexes.map(regex=>({...ctx.target===`draft-07`||ctx.target===`draft-04`||ctx.target===`openapi-3.0`?{type:`string`}:{},pattern:regex.source}))])}},neverProcessor=(_schema,_ctx,json,_params)=>{json.not={}},unknownProcessor=(_schema,_ctx,_json,_params)=>{},enumProcessor=(schema,_ctx,json,_params)=>{let def=schema._zod.def,values=getEnumValues(def.entries);values.every(v$1=>typeof v$1==`number`)&&(json.type=`number`),values.every(v$1=>typeof v$1==`string`)&&(json.type=`string`),json.enum=values},customProcessor=(_schema,ctx,_json,_params)=>{if(ctx.unrepresentable===`throw`)throw Error(`Custom types cannot be represented in JSON Schema`)},transformProcessor=(_schema,ctx,_json,_params)=>{if(ctx.unrepresentable===`throw`)throw Error(`Transforms cannot be represented in JSON Schema`)},arrayProcessor=(schema,ctx,_json,params)=>{let json=_json,def=schema._zod.def,{minimum,maximum}=schema._zod.bag;typeof minimum==`number`&&(json.minItems=minimum),typeof maximum==`number`&&(json.maxItems=maximum),json.type=`array`,json.items=process$1(def.element,ctx,{...params,path:[...params.path,`items`]})},objectProcessor=(schema,ctx,_json,params)=>{let json=_json,def=schema._zod.def;json.type=`object`,json.properties={};let shape=def.shape;for(let key in shape)json.properties[key]=process$1(shape[key],ctx,{...params,path:[...params.path,`properties`,key]});let allKeys=new Set(Object.keys(shape)),requiredKeys=new Set([...allKeys].filter(key=>{let v$1=def.shape[key]._zod;return ctx.io===`input`?v$1.optin===void 0:v$1.optout===void 0}));requiredKeys.size>0&&(json.required=Array.from(requiredKeys)),def.catchall?._zod.def.type===`never`?json.additionalProperties=!1:def.catchall?def.catchall&&(json.additionalProperties=process$1(def.catchall,ctx,{...params,path:[...params.path,`additionalProperties`]})):ctx.io===`output`&&(json.additionalProperties=!1)},unionProcessor=(schema,ctx,json,params)=>{let def=schema._zod.def,isExclusive=def.inclusive===!1,options=def.options.map((x$1,i$1)=>process$1(x$1,ctx,{...params,path:[...params.path,isExclusive?`oneOf`:`anyOf`,i$1]}));isExclusive?json.oneOf=options:json.anyOf=options},intersectionProcessor=(schema,ctx,json,params)=>{let def=schema._zod.def,a$2=process$1(def.left,ctx,{...params,path:[...params.path,`allOf`,0]}),b$2=process$1(def.right,ctx,{...params,path:[...params.path,`allOf`,1]}),isSimpleIntersection=val=>`allOf`in val&&Object.keys(val).length===1;json.allOf=[...isSimpleIntersection(a$2)?a$2.allOf:[a$2],...isSimpleIntersection(b$2)?b$2.allOf:[b$2]]},nullableProcessor=(schema,ctx,json,params)=>{let def=schema._zod.def,inner=process$1(def.innerType,ctx,params),seen=ctx.seen.get(schema);ctx.target===`openapi-3.0`?(seen.ref=def.innerType,json.nullable=!0):json.anyOf=[inner,{type:`null`}]},nonoptionalProcessor=(schema,ctx,_json,params)=>{let def=schema._zod.def;process$1(def.innerType,ctx,params);let seen=ctx.seen.get(schema);seen.ref=def.innerType},defaultProcessor=(schema,ctx,json,params)=>{let def=schema._zod.def;process$1(def.innerType,ctx,params);let seen=ctx.seen.get(schema);seen.ref=def.innerType,json.default=JSON.parse(JSON.stringify(def.defaultValue))},prefaultProcessor=(schema,ctx,json,params)=>{let def=schema._zod.def;process$1(def.innerType,ctx,params);let seen=ctx.seen.get(schema);seen.ref=def.innerType,ctx.io===`input`&&(json._prefault=JSON.parse(JSON.stringify(def.defaultValue)))},catchProcessor=(schema,ctx,json,params)=>{let def=schema._zod.def;process$1(def.innerType,ctx,params);let seen=ctx.seen.get(schema);seen.ref=def.innerType;let catchValue;try{catchValue=def.catchValue(void 0)}catch{throw Error(`Dynamic catch values are not supported in JSON Schema`)}json.default=catchValue},pipeProcessor=(schema,ctx,_json,params)=>{let def=schema._zod.def,innerType=ctx.io===`input`?def.in._zod.def.type===`transform`?def.out:def.in:def.out;process$1(innerType,ctx,params);let seen=ctx.seen.get(schema);seen.ref=innerType},readonlyProcessor=(schema,ctx,json,params)=>{let def=schema._zod.def;process$1(def.innerType,ctx,params);let seen=ctx.seen.get(schema);seen.ref=def.innerType,json.readOnly=!0},optionalProcessor=(schema,ctx,_json,params)=>{let def=schema._zod.def;process$1(def.innerType,ctx,params);let seen=ctx.seen.get(schema);seen.ref=def.innerType},ZodISODateTime=$constructor(`ZodISODateTime`,(inst,def)=>{$ZodISODateTime.init(inst,def),ZodStringFormat.init(inst,def)});function datetime(params){return _isoDateTime(ZodISODateTime,params)}const ZodISODate=$constructor(`ZodISODate`,(inst,def)=>{$ZodISODate.init(inst,def),ZodStringFormat.init(inst,def)});function date(params){return _isoDate(ZodISODate,params)}const ZodISOTime=$constructor(`ZodISOTime`,(inst,def)=>{$ZodISOTime.init(inst,def),ZodStringFormat.init(inst,def)});function time(params){return _isoTime(ZodISOTime,params)}const ZodISODuration=$constructor(`ZodISODuration`,(inst,def)=>{$ZodISODuration.init(inst,def),ZodStringFormat.init(inst,def)});function duration(params){return _isoDuration(ZodISODuration,params)}var initializer=(inst,issues)=>{$ZodError.init(inst,issues),inst.name=`ZodError`,Object.defineProperties(inst,{format:{value:mapper=>formatError(inst,mapper)},flatten:{value:mapper=>flattenError(inst,mapper)},addIssue:{value:issue$1=>{inst.issues.push(issue$1),inst.message=JSON.stringify(inst.issues,jsonStringifyReplacer,2)}},addIssues:{value:issues$1=>{inst.issues.push(...issues$1),inst.message=JSON.stringify(inst.issues,jsonStringifyReplacer,2)}},isEmpty:{get(){return inst.issues.length===0}}})};const ZodError=$constructor(`ZodError`,initializer),ZodRealError=$constructor(`ZodError`,initializer,{Parent:Error}),parse=_parse(ZodRealError),parseAsync=_parseAsync(ZodRealError),safeParse=_safeParse(ZodRealError),safeParseAsync=_safeParseAsync(ZodRealError),encode=_encode(ZodRealError),decode=_decode(ZodRealError),encodeAsync=_encodeAsync(ZodRealError),decodeAsync=_decodeAsync(ZodRealError),safeEncode=_safeEncode(ZodRealError),safeDecode=_safeDecode(ZodRealError),safeEncodeAsync=_safeEncodeAsync(ZodRealError),safeDecodeAsync=_safeDecodeAsync(ZodRealError),ZodType=$constructor(`ZodType`,(inst,def)=>($ZodType.init(inst,def),Object.assign(inst[`~standard`],{jsonSchema:{input:createStandardJSONSchemaMethod(inst,`input`),output:createStandardJSONSchemaMethod(inst,`output`)}}),inst.toJSONSchema=createToJSONSchemaMethod(inst,{}),inst.def=def,inst.type=def.type,Object.defineProperty(inst,`_def`,{value:def}),inst.check=(...checks)=>inst.clone(mergeDefs(def,{checks:[...def.checks??[],...checks.map(ch=>typeof ch==`function`?{_zod:{check:ch,def:{check:`custom`},onattach:[]}}:ch)]}),{parent:!0}),inst.with=inst.check,inst.clone=(def$1,params)=>clone(inst,def$1,params),inst.brand=()=>inst,inst.register=((reg,meta$2)=>(reg.add(inst,meta$2),inst)),inst.parse=(data,params)=>parse(inst,data,params,{callee:inst.parse}),inst.safeParse=(data,params)=>safeParse(inst,data,params),inst.parseAsync=async(data,params)=>parseAsync(inst,data,params,{callee:inst.parseAsync}),inst.safeParseAsync=async(data,params)=>safeParseAsync(inst,data,params),inst.spa=inst.safeParseAsync,inst.encode=(data,params)=>encode(inst,data,params),inst.decode=(data,params)=>decode(inst,data,params),inst.encodeAsync=async(data,params)=>encodeAsync(inst,data,params),inst.decodeAsync=async(data,params)=>decodeAsync(inst,data,params),inst.safeEncode=(data,params)=>safeEncode(inst,data,params),inst.safeDecode=(data,params)=>safeDecode(inst,data,params),inst.safeEncodeAsync=async(data,params)=>safeEncodeAsync(inst,data,params),inst.safeDecodeAsync=async(data,params)=>safeDecodeAsync(inst,data,params),inst.refine=(check,params)=>inst.check(refine(check,params)),inst.superRefine=refinement=>inst.check(superRefine(refinement)),inst.overwrite=fn=>inst.check(_overwrite(fn)),inst.optional=()=>optional(inst),inst.exactOptional=()=>exactOptional(inst),inst.nullable=()=>nullable(inst),inst.nullish=()=>optional(nullable(inst)),inst.nonoptional=params=>nonoptional(inst,params),inst.array=()=>array(inst),inst.or=arg=>union([inst,arg]),inst.and=arg=>intersection(inst,arg),inst.transform=tx=>pipe(inst,transform(tx)),inst.default=def$1=>_default(inst,def$1),inst.prefault=def$1=>prefault(inst,def$1),inst.catch=params=>_catch(inst,params),inst.pipe=target=>pipe(inst,target),inst.readonly=()=>readonly(inst),inst.describe=description=>{let cl=inst.clone();return globalRegistry.add(cl,{description}),cl},Object.defineProperty(inst,`description`,{get(){return globalRegistry.get(inst)?.description},configurable:!0}),inst.meta=(...args)=>{if(args.length===0)return globalRegistry.get(inst);let cl=inst.clone();return globalRegistry.add(cl,args[0]),cl},inst.isOptional=()=>inst.safeParse(void 0).success,inst.isNullable=()=>inst.safeParse(null).success,inst.apply=fn=>fn(inst),inst)),_ZodString=$constructor(`_ZodString`,(inst,def)=>{$ZodString.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>stringProcessor(inst,ctx,json,params);let bag=inst._zod.bag;inst.format=bag.format??null,inst.minLength=bag.minimum??null,inst.maxLength=bag.maximum??null,inst.regex=(...args)=>inst.check(_regex(...args)),inst.includes=(...args)=>inst.check(_includes(...args)),inst.startsWith=(...args)=>inst.check(_startsWith(...args)),inst.endsWith=(...args)=>inst.check(_endsWith(...args)),inst.min=(...args)=>inst.check(_minLength(...args)),inst.max=(...args)=>inst.check(_maxLength(...args)),inst.length=(...args)=>inst.check(_length(...args)),inst.nonempty=(...args)=>inst.check(_minLength(1,...args)),inst.lowercase=params=>inst.check(_lowercase(params)),inst.uppercase=params=>inst.check(_uppercase(params)),inst.trim=()=>inst.check(_trim()),inst.normalize=(...args)=>inst.check(_normalize(...args)),inst.toLowerCase=()=>inst.check(_toLowerCase()),inst.toUpperCase=()=>inst.check(_toUpperCase()),inst.slugify=()=>inst.check(_slugify())}),ZodString=$constructor(`ZodString`,(inst,def)=>{$ZodString.init(inst,def),_ZodString.init(inst,def),inst.email=params=>inst.check(_email(ZodEmail,params)),inst.url=params=>inst.check(_url(ZodURL,params)),inst.jwt=params=>inst.check(_jwt(ZodJWT,params)),inst.emoji=params=>inst.check(_emoji(ZodEmoji,params)),inst.guid=params=>inst.check(_guid(ZodGUID,params)),inst.uuid=params=>inst.check(_uuid(ZodUUID,params)),inst.uuidv4=params=>inst.check(_uuidv4(ZodUUID,params)),inst.uuidv6=params=>inst.check(_uuidv6(ZodUUID,params)),inst.uuidv7=params=>inst.check(_uuidv7(ZodUUID,params)),inst.nanoid=params=>inst.check(_nanoid(ZodNanoID,params)),inst.guid=params=>inst.check(_guid(ZodGUID,params)),inst.cuid=params=>inst.check(_cuid(ZodCUID,params)),inst.cuid2=params=>inst.check(_cuid2(ZodCUID2,params)),inst.ulid=params=>inst.check(_ulid(ZodULID,params)),inst.base64=params=>inst.check(_base64(ZodBase64,params)),inst.base64url=params=>inst.check(_base64url(ZodBase64URL,params)),inst.xid=params=>inst.check(_xid(ZodXID,params)),inst.ksuid=params=>inst.check(_ksuid(ZodKSUID,params)),inst.ipv4=params=>inst.check(_ipv4(ZodIPv4,params)),inst.ipv6=params=>inst.check(_ipv6(ZodIPv6,params)),inst.cidrv4=params=>inst.check(_cidrv4(ZodCIDRv4,params)),inst.cidrv6=params=>inst.check(_cidrv6(ZodCIDRv6,params)),inst.e164=params=>inst.check(_e164(ZodE164,params)),inst.datetime=params=>inst.check(datetime(params)),inst.date=params=>inst.check(date(params)),inst.time=params=>inst.check(time(params)),inst.duration=params=>inst.check(duration(params))});function string(params){return _string(ZodString,params)}const ZodStringFormat=$constructor(`ZodStringFormat`,(inst,def)=>{$ZodStringFormat.init(inst,def),_ZodString.init(inst,def)}),ZodEmail=$constructor(`ZodEmail`,(inst,def)=>{$ZodEmail.init(inst,def),ZodStringFormat.init(inst,def)}),ZodGUID=$constructor(`ZodGUID`,(inst,def)=>{$ZodGUID.init(inst,def),ZodStringFormat.init(inst,def)}),ZodUUID=$constructor(`ZodUUID`,(inst,def)=>{$ZodUUID.init(inst,def),ZodStringFormat.init(inst,def)}),ZodURL=$constructor(`ZodURL`,(inst,def)=>{$ZodURL.init(inst,def),ZodStringFormat.init(inst,def)}),ZodEmoji=$constructor(`ZodEmoji`,(inst,def)=>{$ZodEmoji.init(inst,def),ZodStringFormat.init(inst,def)}),ZodNanoID=$constructor(`ZodNanoID`,(inst,def)=>{$ZodNanoID.init(inst,def),ZodStringFormat.init(inst,def)}),ZodCUID=$constructor(`ZodCUID`,(inst,def)=>{$ZodCUID.init(inst,def),ZodStringFormat.init(inst,def)}),ZodCUID2=$constructor(`ZodCUID2`,(inst,def)=>{$ZodCUID2.init(inst,def),ZodStringFormat.init(inst,def)}),ZodULID=$constructor(`ZodULID`,(inst,def)=>{$ZodULID.init(inst,def),ZodStringFormat.init(inst,def)}),ZodXID=$constructor(`ZodXID`,(inst,def)=>{$ZodXID.init(inst,def),ZodStringFormat.init(inst,def)}),ZodKSUID=$constructor(`ZodKSUID`,(inst,def)=>{$ZodKSUID.init(inst,def),ZodStringFormat.init(inst,def)}),ZodIPv4=$constructor(`ZodIPv4`,(inst,def)=>{$ZodIPv4.init(inst,def),ZodStringFormat.init(inst,def)}),ZodIPv6=$constructor(`ZodIPv6`,(inst,def)=>{$ZodIPv6.init(inst,def),ZodStringFormat.init(inst,def)}),ZodCIDRv4=$constructor(`ZodCIDRv4`,(inst,def)=>{$ZodCIDRv4.init(inst,def),ZodStringFormat.init(inst,def)}),ZodCIDRv6=$constructor(`ZodCIDRv6`,(inst,def)=>{$ZodCIDRv6.init(inst,def),ZodStringFormat.init(inst,def)}),ZodBase64=$constructor(`ZodBase64`,(inst,def)=>{$ZodBase64.init(inst,def),ZodStringFormat.init(inst,def)}),ZodBase64URL=$constructor(`ZodBase64URL`,(inst,def)=>{$ZodBase64URL.init(inst,def),ZodStringFormat.init(inst,def)}),ZodE164=$constructor(`ZodE164`,(inst,def)=>{$ZodE164.init(inst,def),ZodStringFormat.init(inst,def)}),ZodJWT=$constructor(`ZodJWT`,(inst,def)=>{$ZodJWT.init(inst,def),ZodStringFormat.init(inst,def)}),ZodUnknown=$constructor(`ZodUnknown`,(inst,def)=>{$ZodUnknown.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>void 0});function unknown(){return _unknown(ZodUnknown)}const ZodNever=$constructor(`ZodNever`,(inst,def)=>{$ZodNever.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>neverProcessor(inst,ctx,json,params)});function never(params){return _never(ZodNever,params)}const ZodArray=$constructor(`ZodArray`,(inst,def)=>{$ZodArray.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>arrayProcessor(inst,ctx,json,params),inst.element=def.element,inst.min=(minLength,params)=>inst.check(_minLength(minLength,params)),inst.nonempty=params=>inst.check(_minLength(1,params)),inst.max=(maxLength,params)=>inst.check(_maxLength(maxLength,params)),inst.length=(len,params)=>inst.check(_length(len,params)),inst.unwrap=()=>inst.element});function array(element,params){return _array(ZodArray,element,params)}const ZodObject=$constructor(`ZodObject`,(inst,def)=>{$ZodObjectJIT.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>objectProcessor(inst,ctx,json,params),defineLazy(inst,`shape`,()=>def.shape),inst.keyof=()=>_enum(Object.keys(inst._zod.def.shape)),inst.catchall=catchall=>inst.clone({...inst._zod.def,catchall}),inst.passthrough=()=>inst.clone({...inst._zod.def,catchall:unknown()}),inst.loose=()=>inst.clone({...inst._zod.def,catchall:unknown()}),inst.strict=()=>inst.clone({...inst._zod.def,catchall:never()}),inst.strip=()=>inst.clone({...inst._zod.def,catchall:void 0}),inst.extend=incoming=>extend(inst,incoming),inst.safeExtend=incoming=>safeExtend(inst,incoming),inst.merge=other=>merge(inst,other),inst.pick=mask=>pick(inst,mask),inst.omit=mask=>omit(inst,mask),inst.partial=(...args)=>partial(ZodOptional,inst,args[0]),inst.required=(...args)=>required(ZodNonOptional,inst,args[0])});function object(shape,params){return new ZodObject({type:`object`,shape:shape??{},...normalizeParams(params)})}const ZodUnion=$constructor(`ZodUnion`,(inst,def)=>{$ZodUnion.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>unionProcessor(inst,ctx,json,params),inst.options=def.options});function union(options,params){return new ZodUnion({type:`union`,options,...normalizeParams(params)})}const ZodIntersection=$constructor(`ZodIntersection`,(inst,def)=>{$ZodIntersection.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>intersectionProcessor(inst,ctx,json,params)});function intersection(left,right){return new ZodIntersection({type:`intersection`,left,right})}const ZodEnum=$constructor(`ZodEnum`,(inst,def)=>{$ZodEnum.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>enumProcessor(inst,ctx,json,params),inst.enum=def.entries,inst.options=Object.values(def.entries);let keys=new Set(Object.keys(def.entries));inst.extract=(values,params)=>{let newEntries={};for(let value of values)if(keys.has(value))newEntries[value]=def.entries[value];else throw Error(`Key ${value} not found in enum`);return new ZodEnum({...def,checks:[],...normalizeParams(params),entries:newEntries})},inst.exclude=(values,params)=>{let newEntries={...def.entries};for(let value of values)if(keys.has(value))delete newEntries[value];else throw Error(`Key ${value} not found in enum`);return new ZodEnum({...def,checks:[],...normalizeParams(params),entries:newEntries})}});function _enum(values,params){return new ZodEnum({type:`enum`,entries:Array.isArray(values)?Object.fromEntries(values.map(v$1=>[v$1,v$1])):values,...normalizeParams(params)})}const ZodTransform=$constructor(`ZodTransform`,(inst,def)=>{$ZodTransform.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>transformProcessor(inst,ctx,json,params),inst._zod.parse=(payload,_ctx)=>{if(_ctx.direction===`backward`)throw new $ZodEncodeError(inst.constructor.name);payload.addIssue=issue$1=>{if(typeof issue$1==`string`)payload.issues.push(issue(issue$1,payload.value,def));else{let _issue=issue$1;_issue.fatal&&(_issue.continue=!1),_issue.code??=`custom`,_issue.input??=payload.value,_issue.inst??=inst,payload.issues.push(issue(_issue))}};let output=def.transform(payload.value,payload);return output instanceof Promise?output.then(output$1=>(payload.value=output$1,payload)):(payload.value=output,payload)}});function transform(fn){return new ZodTransform({type:`transform`,transform:fn})}const ZodOptional=$constructor(`ZodOptional`,(inst,def)=>{$ZodOptional.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>optionalProcessor(inst,ctx,json,params),inst.unwrap=()=>inst._zod.def.innerType});function optional(innerType){return new ZodOptional({type:`optional`,innerType})}const ZodExactOptional=$constructor(`ZodExactOptional`,(inst,def)=>{$ZodExactOptional.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>optionalProcessor(inst,ctx,json,params),inst.unwrap=()=>inst._zod.def.innerType});function exactOptional(innerType){return new ZodExactOptional({type:`optional`,innerType})}const ZodNullable=$constructor(`ZodNullable`,(inst,def)=>{$ZodNullable.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>nullableProcessor(inst,ctx,json,params),inst.unwrap=()=>inst._zod.def.innerType});function nullable(innerType){return new ZodNullable({type:`nullable`,innerType})}const ZodDefault=$constructor(`ZodDefault`,(inst,def)=>{$ZodDefault.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>defaultProcessor(inst,ctx,json,params),inst.unwrap=()=>inst._zod.def.innerType,inst.removeDefault=inst.unwrap});function _default(innerType,defaultValue){return new ZodDefault({type:`default`,innerType,get defaultValue(){return typeof defaultValue==`function`?defaultValue():shallowClone(defaultValue)}})}const ZodPrefault=$constructor(`ZodPrefault`,(inst,def)=>{$ZodPrefault.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>prefaultProcessor(inst,ctx,json,params),inst.unwrap=()=>inst._zod.def.innerType});function prefault(innerType,defaultValue){return new ZodPrefault({type:`prefault`,innerType,get defaultValue(){return typeof defaultValue==`function`?defaultValue():shallowClone(defaultValue)}})}const ZodNonOptional=$constructor(`ZodNonOptional`,(inst,def)=>{$ZodNonOptional.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>nonoptionalProcessor(inst,ctx,json,params),inst.unwrap=()=>inst._zod.def.innerType});function nonoptional(innerType,params){return new ZodNonOptional({type:`nonoptional`,innerType,...normalizeParams(params)})}const ZodCatch=$constructor(`ZodCatch`,(inst,def)=>{$ZodCatch.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>catchProcessor(inst,ctx,json,params),inst.unwrap=()=>inst._zod.def.innerType,inst.removeCatch=inst.unwrap});function _catch(innerType,catchValue){return new ZodCatch({type:`catch`,innerType,catchValue:typeof catchValue==`function`?catchValue:()=>catchValue})}const ZodPipe=$constructor(`ZodPipe`,(inst,def)=>{$ZodPipe.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>pipeProcessor(inst,ctx,json,params),inst.in=def.in,inst.out=def.out});function pipe(in_,out){return new ZodPipe({type:`pipe`,in:in_,out})}const ZodReadonly=$constructor(`ZodReadonly`,(inst,def)=>{$ZodReadonly.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>readonlyProcessor(inst,ctx,json,params),inst.unwrap=()=>inst._zod.def.innerType});function readonly(innerType){return new ZodReadonly({type:`readonly`,innerType})}const ZodCustom=$constructor(`ZodCustom`,(inst,def)=>{$ZodCustom.init(inst,def),ZodType.init(inst,def),inst._zod.processJSONSchema=(ctx,json,params)=>customProcessor(inst,ctx,json,params)});function refine(fn,_params={}){return _refine(ZodCustom,fn,_params)}function superRefine(fn){return _superRefine(fn)}const describe=describe$1,meta=meta$1;var import_compiler_runtime$13=require_compiler_runtime();const ContactPanel=()=>{let $$1=(0,import_compiler_runtime$13.c)(30),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=contactApi.mutation.message(),$$1[0]=t0):t0=$$1[0];let sendMessageMutation=useMutation(t0),t1,t2;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1={name:``,email:``,message:``},t2={onChange:object({name:string().trim().min(2).max(64),email:string().trim().email().max(64),message:string().trim().min(10).max(512)})},$$1[1]=t1,$$1[2]=t2):(t1=$$1[1],t2=$$1[2]);let form=useForm({defaultValues:t1,validators:t2,onSubmit:async t3=>{let{value}=t3;await sendMessageMutation.mutateAsync(`From: ${value.email}\nMessage: ${value.message}`).then(()=>{toast(`Message has been set successfuly!`,{variant:`success`,actionProps:{children:`Dismiss`,onPress:_temp$4,variant:`tertiary`}}),form.reset()}).catch(_temp3$1)}}),getFieldError=_temp5,t4;$$1[3]===Symbol.for(`react.memo_cache_sentinel`)?(t4=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`new ideas`}),$$1[3]=t4):t4=$$1[3];let t5;$$1[4]===Symbol.for(`react.memo_cache_sentinel`)?(t5=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`interesting builds`}),$$1[4]=t5):t5=$$1[4];let t6;$$1[5]===Symbol.for(`react.memo_cache_sentinel`)?(t6=(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`solving real problems`}),$$1[5]=t6):t6=$$1[5];let t7;$$1[6]===Symbol.for(`react.memo_cache_sentinel`)?(t7=(0,import_jsx_runtime.jsx)(`div`,{className:`h-fit shrink-0`,children:(0,import_jsx_runtime.jsxs)(`p`,{className:`pb-2.5 lg:text-xl`,children:[`Thinking about reaching out regarding a project? Maybe a collaborationor just about anything? Im always open to a quick chat about `,t4,`,`,` `,t5,`, or`,` `,t6,` `,`with`,` `,(0,import_jsx_runtime.jsx)(`span`,{className:`text-accent font-bold`,children:`clean, practical solutions`}),`.`]})}),$$1[6]=t7):t7=$$1[6];let t8;$$1[7]===Symbol.for(`react.memo_cache_sentinel`)?(t8=(0,import_jsx_runtime.jsxs)(`div`,{className:`bg-accent absolute -top-1.5 -right-1.5 rounded-xl p-1.5`,children:[(0,import_jsx_runtime.jsx)(`div`,{className:`border-accent absolute inset-0 m-auto animate-ping rounded-xl border`}),(0,import_jsx_runtime.jsx)(MessagesSquare,{className:`dark:text-foreground text-background relative top-0.5 right-0.5 scale-80`})]}),$$1[7]=t8):t8=$$1[7];let t9;$$1[8]===form?t9=$$1[9]:(t9=e_0=>{e_0.preventDefault(),e_0.stopPropagation(),form.handleSubmit()},$$1[8]=form,$$1[9]=t9);let t10;$$1[10]===Symbol.for(`react.memo_cache_sentinel`)?(t10=(0,import_jsx_runtime.jsx)(`p`,{className:`text-primary dark:text-foreground text-lg font-bold sm:text-xl 2xl:text-2xl`,children:`Lets get in touch!`}),$$1[10]=t10):t10=$$1[10];let t11;$$1[11]===Symbol.for(`react.memo_cache_sentinel`)?(t11=field_0=>{let{isInvalid:isInvalid_0,errorMessage:errorMessage_0}=getFieldError(field_0);return(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsxs)(TextField,{isInvalid:isInvalid_0,children:[(0,import_jsx_runtime.jsx)(Label,{className:`capitalize`,children:field_0.name}),(0,import_jsx_runtime.jsx)(Input,{id:field_0.name,name:field_0.name,placeholder:`johndoe@email.com`,value:field_0.state.value,onBlur:field_0.handleBlur,onChange:e_1=>field_0.handleChange(e_1.target.value),className:`border-default rounded-lg border shadow-none`}),(0,import_jsx_runtime.jsx)(FieldError,{children:errorMessage_0})]})})},$$1[11]=t11):t11=$$1[11];let t12;$$1[12]===form.Field?t12=$$1[13]:(t12=(0,import_jsx_runtime.jsx)(form.Field,{name:`email`,children:t11}),$$1[12]=form.Field,$$1[13]=t12);let t13;$$1[14]===Symbol.for(`react.memo_cache_sentinel`)?(t13=field_1=>{let{isInvalid:isInvalid_1,errorMessage:errorMessage_1}=getFieldError(field_1);return(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsxs)(TextField,{isInvalid:isInvalid_1,children:[(0,import_jsx_runtime.jsx)(Label,{className:`capitalize`,children:field_1.name}),(0,import_jsx_runtime.jsx)(Input,{id:field_1.name,name:field_1.name,placeholder:`John Doe`,value:field_1.state.value,onBlur:field_1.handleBlur,onChange:e_2=>field_1.handleChange(e_2.target.value),className:`border-default rounded-lg border shadow-none`}),(0,import_jsx_runtime.jsx)(FieldError,{children:errorMessage_1})]})})},$$1[14]=t13):t13=$$1[14];let t14;$$1[15]===form.Field?t14=$$1[16]:(t14=(0,import_jsx_runtime.jsx)(form.Field,{name:`name`,children:t13}),$$1[15]=form.Field,$$1[16]=t14);let t15;$$1[17]===Symbol.for(`react.memo_cache_sentinel`)?(t15=field_2=>{let{isInvalid:isInvalid_2,errorMessage:errorMessage_2}=getFieldError(field_2);return(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsxs)(TextField,{isInvalid:isInvalid_2,children:[(0,import_jsx_runtime.jsx)(Label,{className:`capitalize`,children:field_2.name}),(0,import_jsx_runtime.jsx)(TextArea,{id:field_2.name,name:field_2.name,placeholder:`Are you available for consulting work?`,value:field_2.state.value,onBlur:field_2.handleBlur,onChange:e_3=>field_2.handleChange(e_3.target.value),className:`border-default rounded-lg border shadow-none`}),(0,import_jsx_runtime.jsx)(FieldError,{children:errorMessage_2})]})})},$$1[17]=t15):t15=$$1[17];let t16;$$1[18]===form.Field?t16=$$1[19]:(t16=(0,import_jsx_runtime.jsx)(form.Field,{name:`message`,children:t15}),$$1[18]=form.Field,$$1[19]=t16);let t17;$$1[20]===form.Subscribe?t17=$$1[21]:(t17=(0,import_jsx_runtime.jsx)(form.Subscribe,{selector:_temp6,children:_temp8}),$$1[20]=form.Subscribe,$$1[21]=t17);let t18;$$1[22]!==t12||$$1[23]!==t14||$$1[24]!==t16||$$1[25]!==t17?(t18=(0,import_jsx_runtime.jsxs)(`div`,{className:`space-y-4 rounded-xl border p-5`,children:[t10,(0,import_jsx_runtime.jsxs)(`div`,{className:`space-y-1`,children:[t12,t14,t16,t17]})]}),$$1[22]=t12,$$1[23]=t14,$$1[24]=t16,$$1[25]=t17,$$1[26]=t18):t18=$$1[26];let t19;return $$1[27]!==t18||$$1[28]!==t9?(t19=(0,import_jsx_runtime.jsxs)(`div`,{className:`flex h-full min-h-0 flex-col space-y-2.5`,children:[t7,(0,import_jsx_runtime.jsx)(ScrollShadow,{hideScrollBar:!0,className:`h-full min-h-0`,children:(0,import_jsx_runtime.jsxs)(`div`,{className:`bg-default/40 relative rounded-lg`,children:[t8,(0,import_jsx_runtime.jsx)(`form`,{onSubmit:t9,children:t18})]})})]}),$$1[27]=t18,$$1[28]=t9,$$1[29]=t19):t19=$$1[29],t19};function _temp$4(){return toast.clear()}function _temp2$4(){return toast.clear()}function _temp3$1(){toast(`An error has occured`,{variant:`warning`,actionProps:{children:`Dismiss`,onPress:_temp2$4,variant:`tertiary`}})}function _temp4(e$1){return e$1?.message}function _temp5(field){let{isTouched,isValid,errors}=field.state.meta,isInvalid=isTouched&&!isValid;return{isInvalid,errorMessage:isInvalid?errors?.map(_temp4).filter(Boolean).join(`, `):``}}function _temp6(state){return[state.canSubmit,state.isSubmitting]}function _temp7(t0){let{isPending}=t0;return(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:isPending?(0,import_jsx_runtime.jsx)(Spinner,{color:`current`,size:`sm`}):(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[(0,import_jsx_runtime.jsx)(Forward,{}),(0,import_jsx_runtime.jsx)(`p`,{children:`Submit`})]})})}function _temp8(t0){let[canSubmit,isSubmitting]=t0;return(0,import_jsx_runtime.jsx)(Button,{type:`submit`,className:`mt-4 rounded-lg`,isDisabled:!canSubmit,isPending:isSubmitting,children:_temp7})}var import_compiler_runtime$12=require_compiler_runtime();const TabbedPanel=()=>{let $$1=(0,import_compiler_runtime$12.c)(2),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=[{id:`career`,label:`Career Snapshot`,panel:CareerPanel},{id:`certifications`,label:` Certifications`,panel:CertificationPanel},{id:`contact`,label:` Get in Touch`,panel:ContactPanel}],$$1[0]=t0):t0=$$1[0];let tabs=t0,t1;return $$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsxs)(Tabs,{hideSeparator:!0,className:`h-full w-full`,children:[(0,import_jsx_runtime.jsx)(Tabs.ListContainer,{className:`bg-default h-fit shrink-0 rounded-xl`,children:(0,import_jsx_runtime.jsx)(Tabs.List,{"aria-label":`Options`,className:`*:data-[selected=true]:dark:text-foreground *:data-[selected=true]:text-background *:text-foreground w-max gap-1 rounded-xl *:w-max`,children:tabs.map(_temp$3)})}),tabs.map(_temp2$3)]}),$$1[1]=t1):t1=$$1[1],t1};function _temp$3(tab){return(0,import_jsx_runtime.jsxs)(Tabs.Tab,{id:tab.id,className:`bg-background button--sm button rounded-lg text-xs sm:text-sm`,children:[(0,import_jsx_runtime.jsx)(nt,{}),(0,import_jsx_runtime.jsx)(ChevronRight,{}),tab.label,(0,import_jsx_runtime.jsx)(Tabs.Indicator,{className:`bg-accent rounded-lg`})]},`tab-${tab.id}`)}function _temp2$3(tab_0){return(0,import_jsx_runtime.jsx)(Tabs.Panel,{className:`sm:bg-default h-[calc(100vh-8vh)] min-h-0 rounded-xl p-1 lg:h-full`,id:tab_0.id,children:(0,import_jsx_runtime.jsx)(`div`,{className:`bg-background pattern-dots h-full rounded-lg p-1 sm:p-5`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(tab_0.panel,{})})})},`panel-${tab_0.id}`)}var import_compiler_runtime$11=require_compiler_runtime();const HeaderDesktop=()=>{let $$1=(0,import_compiler_runtime$11.c)(15),modal=useOverlayState(),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsxs)(`div`,{className:`me-auto flex shrink-0 items-center gap-1`,children:[(0,import_jsx_runtime.jsx)(PersonStanding,{className:``}),(0,import_jsx_runtime.jsx)(`p`,{className:`font-bold`,children:`Cabrera, Jen Jade`})]}),$$1[0]=t0):t0=$$1[0];let t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1={suspense:{spinner:`hidden`},errorBoundary:{icon:`hidden`}},$$1[1]=t1):t1=$$1[1];let t2,t3;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(nt,{}),t3=(0,import_jsx_runtime.jsx)(ArrowUpRight,{}),$$1[2]=t2,$$1[3]=t3):(t2=$$1[2],t3=$$1[3]);let t4;$$1[4]===modal.open?t4=$$1[5]:(t4=(0,import_jsx_runtime.jsx)(`div`,{className:`flex min-w-40 justify-end self-stretch`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{classNames:t1,children:(0,import_jsx_runtime.jsxs)(Button,{onClick:modal.open,size:`sm`,className:`self-end rounded-lg`,children:[t2,t3,`View Resume`]})})}),$$1[4]=modal.open,$$1[5]=t4);let t5;$$1[6]===Symbol.for(`react.memo_cache_sentinel`)?(t5=(0,import_jsx_runtime.jsx)(`div`,{className:`shrink-0`,children:(0,import_jsx_runtime.jsx)(ThemeToggle,{})}),$$1[6]=t5):t5=$$1[6];let t6;$$1[7]===t4?t6=$$1[8]:(t6=(0,import_jsx_runtime.jsxs)(`div`,{className:`lg:bg-background flex w-full items-center gap-1 rounded-xl sm:mb-4 lg:mb-0 lg:p-1`,children:[t0,t4,t5]}),$$1[7]=t4,$$1[8]=t6);let t7;$$1[9]!==modal.isOpen||$$1[10]!==modal.setOpen?(t7=(0,import_jsx_runtime.jsx)(ResumeModal,{isOpen:modal.isOpen,onOpenChange:modal.setOpen}),$$1[9]=modal.isOpen,$$1[10]=modal.setOpen,$$1[11]=t7):t7=$$1[11];let t8;return $$1[12]!==t6||$$1[13]!==t7?(t8=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t6,t7]}),$$1[12]=t6,$$1[13]=t7,$$1[14]=t8):t8=$$1[14],t8};var import_compiler_runtime$10=require_compiler_runtime();const HeaderMobile=()=>{let $$1=(0,import_compiler_runtime$10.c)(2),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsxs)(`div`,{className:`flex shrink-0 items-center gap-2`,children:[(0,import_jsx_runtime.jsx)(`div`,{className:`bg-accent relative size-2.5 rounded-full`,children:(0,import_jsx_runtime.jsx)(`div`,{className:`border-accent absolute inset-0 m-0 animate-ping rounded-full border`})}),(0,import_jsx_runtime.jsx)(`p`,{className:`xs:text-sm font-mono text-xs uppercase`,children:`Cabrera, Jen Jade B.`})]}),$$1[0]=t0):t0=$$1[0];let t1;return $$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsxs)(`div`,{className:`mb-4 flex items-center justify-between gap-2.5`,children:[t0,(0,import_jsx_runtime.jsx)(`div`,{className:`flex w-full justify-end self-stretch`,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{classNames:{errorBoundary:{icon:`hidden`,skeleton:`rounded-sm`},suspense:{spinner:`hidden`,skeleton:`rounded-sm`}},children:(0,import_jsx_runtime.jsx)(VisitorBadge,{})})})]})}),$$1[1]=t1):t1=$$1[1],t1};var import_compiler_runtime$9=require_compiler_runtime();const Header=()=>{let $$1=(0,import_compiler_runtime$9.c)(2),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(`div`,{className:`hidden sm:block`,children:(0,import_jsx_runtime.jsx)(HeaderDesktop,{})}),$$1[0]=t0):t0=$$1[0];let t1;return $$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t0,(0,import_jsx_runtime.jsx)(`div`,{className:`block sm:hidden`,children:(0,import_jsx_runtime.jsx)(HeaderMobile,{})})]}),$$1[1]=t1):t1=$$1[1],t1};var import_compiler_runtime$8=require_compiler_runtime();const Footer=()=>{let $$1=(0,import_compiler_runtime$8.c)(13),modal=useOverlayState(),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=function(){navigator.clipboard.writeText(`hello@jadecabrera.com`).then(_temp2$2)},$$1[0]=t0):t0=$$1[0];let onCopy=t0,t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsx)(`div`,{className:`w-max-h-max relative`,children:(0,import_jsx_runtime.jsxs)(Button,{size:`sm`,onPress:onCopy,variant:`tertiary`,className:`gap-3 rounded-lg`,children:[(0,import_jsx_runtime.jsx)(Clipboard,{className:`text-accent`}),(0,import_jsx_runtime.jsx)(`p`,{children:`hello@jadecabrera.com`})]})}),$$1[1]=t1):t1=$$1[1];let t2,t3,t4;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(`p`,{className:`hidden sm:block`,children:`Connect with me`}),t3=(0,import_jsx_runtime.jsx)(`p`,{className:`block sm:hidden`,children:`Connect`}),t4=(0,import_jsx_runtime.jsx)(`div`,{className:`bg-success size-3 rounded-full`}),$$1[2]=t2,$$1[3]=t3,$$1[4]=t4):(t2=$$1[2],t3=$$1[3],t4=$$1[4]);let t5;$$1[5]===modal.open?t5=$$1[6]:(t5=(0,import_jsx_runtime.jsxs)(`div`,{className:`bg-background flex justify-between rounded-xl p-1 text-sm`,children:[t1,(0,import_jsx_runtime.jsxs)(Button,{onClick:modal.open,size:`sm`,className:`gap-3 rounded-lg`,variant:`tertiary`,children:[t2,t3,t4]})]}),$$1[5]=modal.open,$$1[6]=t5);let t6;$$1[7]!==modal.isOpen||$$1[8]!==modal.setOpen?(t6=(0,import_jsx_runtime.jsx)(SocialsModal,{isOpen:modal.isOpen,onOpenChange:modal.setOpen}),$$1[7]=modal.isOpen,$$1[8]=modal.setOpen,$$1[9]=t6):t6=$$1[9];let t7;return $$1[10]!==t5||$$1[11]!==t6?(t7=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t5,t6]}),$$1[10]=t5,$$1[11]=t6,$$1[12]=t7):t7=$$1[12],t7};function _temp$2(){return toast.clear()}function _temp2$2(){toast(`Email address copied to clipboard!`,{variant:`accent`,actionProps:{children:`Dismiss`,onPress:_temp$2,variant:`tertiary`}})}var import_compiler_runtime$7=require_compiler_runtime();const FloatingActionBar=()=>{let $$1=(0,import_compiler_runtime$7.c)(33),{theme,setTheme}=z(),resumeModal=useOverlayState(),socialsModal=useOverlayState(),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=function(){navigator.clipboard.writeText(`hello@jadecabrera.com`).then(_temp2$1)},$$1[0]=t0):t0=$$1[0];let handleCopy=t0,t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsxs)(Button,{onClick:handleCopy,variant:`tertiary`,className:`text-foreground rounded-none rounded-l-lg border-l-1 bg-transparent`,children:[(0,import_jsx_runtime.jsx)(nt,{}),(0,import_jsx_runtime.jsx)(Mail,{})]}),$$1[1]=t1):t1=$$1[1];let t2,t3;$$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsx)(nt,{}),t3=(0,import_jsx_runtime.jsx)(BadgePlus,{}),$$1[2]=t2,$$1[3]=t3):(t2=$$1[2],t3=$$1[3]);let t4;$$1[4]===socialsModal.open?t4=$$1[5]:(t4=(0,import_jsx_runtime.jsxs)(Button,{onClick:socialsModal.open,variant:`tertiary`,className:`text-foreground rounded-none border-l-1 bg-transparent`,children:[t2,t3]}),$$1[4]=socialsModal.open,$$1[5]=t4);let t5,t6;$$1[6]===Symbol.for(`react.memo_cache_sentinel`)?(t5=(0,import_jsx_runtime.jsx)(nt,{}),t6=(0,import_jsx_runtime.jsx)(FileUser,{}),$$1[6]=t5,$$1[7]=t6):(t5=$$1[6],t6=$$1[7]);let t7;$$1[8]===resumeModal.open?t7=$$1[9]:(t7=(0,import_jsx_runtime.jsxs)(Button,{variant:`tertiary`,onClick:resumeModal.open,className:`text-foreground rounded-none border-x-1 bg-transparent`,children:[t5,t6]}),$$1[8]=resumeModal.open,$$1[9]=t7);let t8;$$1[10]!==setTheme||$$1[11]!==theme?(t8=()=>setTheme(theme===`dark`?`light`:`dark`),$$1[10]=setTheme,$$1[11]=theme,$$1[12]=t8):t8=$$1[12];let t9;$$1[13]===Symbol.for(`react.memo_cache_sentinel`)?(t9=(0,import_jsx_runtime.jsx)(nt,{}),$$1[13]=t9):t9=$$1[13];let t10;$$1[14]===theme?t10=$$1[15]:(t10=theme===`light`?(0,import_jsx_runtime.jsx)(Sun,{}):(0,import_jsx_runtime.jsx)(Moon,{}),$$1[14]=theme,$$1[15]=t10);let t11;$$1[16]!==t10||$$1[17]!==t8?(t11=(0,import_jsx_runtime.jsxs)(Button,{variant:`tertiary`,onPress:t8,className:`text-foreground rounded-none rounded-r-lg border-r-1 bg-transparent`,children:[t9,t10]}),$$1[16]=t10,$$1[17]=t8,$$1[18]=t11):t11=$$1[18];let t12;$$1[19]!==t11||$$1[20]!==t4||$$1[21]!==t7?(t12=(0,import_jsx_runtime.jsx)(`div`,{className:`fixed inset-x-0 bottom-2 z-10 flex items-center justify-center sm:hidden`,children:(0,import_jsx_runtime.jsxs)(`div`,{className:`from-background/80 w-max overflow-hidden rounded-lg bg-gradient-to-t to-transparent backdrop-blur-md`,children:[t1,t4,t7,t11]})}),$$1[19]=t11,$$1[20]=t4,$$1[21]=t7,$$1[22]=t12):t12=$$1[22];let t13;$$1[23]!==resumeModal.isOpen||$$1[24]!==resumeModal.setOpen?(t13=(0,import_jsx_runtime.jsx)(ResumeModal,{isOpen:resumeModal.isOpen,onOpenChange:resumeModal.setOpen}),$$1[23]=resumeModal.isOpen,$$1[24]=resumeModal.setOpen,$$1[25]=t13):t13=$$1[25];let t14;$$1[26]!==socialsModal.isOpen||$$1[27]!==socialsModal.setOpen?(t14=(0,import_jsx_runtime.jsx)(SocialsModal,{isOpen:socialsModal.isOpen,onOpenChange:socialsModal.setOpen}),$$1[26]=socialsModal.isOpen,$$1[27]=socialsModal.setOpen,$$1[28]=t14):t14=$$1[28];let t15;return $$1[29]!==t12||$$1[30]!==t13||$$1[31]!==t14?(t15=(0,import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment,{children:[t12,t13,t14]}),$$1[29]=t12,$$1[30]=t13,$$1[31]=t14,$$1[32]=t15):t15=$$1[32],t15};function _temp$1(){return toast.clear()}function _temp2$1(){toast(`Email address copied to clipboard!`,{variant:`accent`,actionProps:{children:`Dismiss`,onPress:_temp$1,variant:`tertiary`}})}var import_compiler_runtime$6=require_compiler_runtime(),slots={content:{variant:{compact:`items-center `,default:`items-start`}}};const GitRecentCommitTile=t0=>{let $$1=(0,import_compiler_runtime$6.c)(22),{variant:t1}=t0,variant=t1===void 0?`default`:t1,t2;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t2=gitApi.query.recentCommit(),$$1[0]=t2):t2=$$1[0];let{data}=useSuspenseQuery(t2),isCompact=variant==`compact`,t3;$$1[1]===isCompact?t3=$$1[2]:(t3=isCompact&&(0,import_jsx_runtime.jsx)(`div`,{className:`absolute inset-0 m-auto overflow-hidden opacity-20`,children:(0,import_jsx_runtime.jsx)(Github,{className:`text-accent absolute -bottom-4 left-2 size-24`})}),$$1[1]=isCompact,$$1[2]=t3);let t4;$$1[3]===isCompact?t4=$$1[4]:(t4=!isCompact&&(0,import_jsx_runtime.jsx)(ActivityTile.Icon,{className:`bg-primary/5 text-accent bg-accent/[10%] border-transparent`,children:(0,import_jsx_runtime.jsx)(Github,{className:`size-10 lg:size-6 xl:size-8`})}),$$1[3]=isCompact,$$1[4]=t4);let t5=slots.content.variant[variant],t6;$$1[5]===t5?t6=$$1[6]:(t6=cn(t5),$$1[5]=t5,$$1[6]=t6);let t7;$$1[7]===Symbol.for(`react.memo_cache_sentinel`)?(t7=(0,import_jsx_runtime.jsx)(ActivityTile.ContentHeader,{children:`Github  recent commit`}),$$1[7]=t7):t7=$$1[7];let t8;$$1[8]===data.recentCommit.repository?t8=$$1[9]:(t8=(0,import_jsx_runtime.jsx)(ActivityTile.ContentBody,{className:`text-center sm:text-start`,children:data.recentCommit.repository}),$$1[8]=data.recentCommit.repository,$$1[9]=t8);let t9;$$1[10]===data.recentCommit.createdAt?t9=$$1[11]:(t9=new TimestampToMonthYear(data.recentCommit.createdAt).format(),$$1[10]=data.recentCommit.createdAt,$$1[11]=t9);let t10;$$1[12]===t9?t10=$$1[13]:(t10=(0,import_jsx_runtime.jsx)(ActivityTile.ContentFooter,{children:t9}),$$1[12]=t9,$$1[13]=t10);let t11;$$1[14]!==t10||$$1[15]!==t6||$$1[16]!==t8?(t11=(0,import_jsx_runtime.jsxs)(ActivityTile.Content,{className:t6,children:[t7,t8,t10]}),$$1[14]=t10,$$1[15]=t6,$$1[16]=t8,$$1[17]=t11):t11=$$1[17];let t12;return $$1[18]!==t11||$$1[19]!==t3||$$1[20]!==t4?(t12=(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsxs)(ActivityTile,{className:`bg-accent/[8%] relative`,children:[t3,t4,t11]})}),$$1[18]=t11,$$1[19]=t3,$$1[20]=t4,$$1[21]=t12):t12=$$1[21],t12};var import_compiler_runtime$5=require_compiler_runtime();const GitContributionsMetricTile=()=>{let $$1=(0,import_compiler_runtime$5.c)(6),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=gitApi.query.contributions(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsx)(MetricCard.Label,{classNames:{base:`text-xs sm:text-base`,icon:`size-4 sm:size-5`},children:`Contributions`}),$$1[1]=t1):t1=$$1[1];let t2;$$1[2]===data.total?t2=$$1[3]:(t2=data.total.toLocaleString(),$$1[2]=data.total,$$1[3]=t2);let t3;return $$1[4]===t2?t3=$$1[5]:(t3=(0,import_jsx_runtime.jsx)(MetricCard,{children:(0,import_jsx_runtime.jsxs)(MetricCard.Body,{children:[t1,(0,import_jsx_runtime.jsx)(MetricCard.Value,{children:t2})]})}),$$1[4]=t2,$$1[5]=t3),t3};var import_compiler_runtime$4=require_compiler_runtime();const GitRepositoriesMetricTile=()=>{let $$1=(0,import_compiler_runtime$4.c)(6),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=gitApi.query.user(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsx)(MetricCard.Label,{classNames:{base:`text-xs sm:text-base`,icon:`size-4 sm:size-5`},children:`Repositories`}),$$1[1]=t1):t1=$$1[1];let t2;$$1[2]===data.user.publicRepositories?t2=$$1[3]:(t2=data.user.publicRepositories.toLocaleString(),$$1[2]=data.user.publicRepositories,$$1[3]=t2);let t3;return $$1[4]===t2?t3=$$1[5]:(t3=(0,import_jsx_runtime.jsx)(MetricCard,{children:(0,import_jsx_runtime.jsxs)(MetricCard.Body,{children:[t1,(0,import_jsx_runtime.jsx)(MetricCard.Value,{children:t2})]})}),$$1[4]=t2,$$1[5]=t3),t3};var import_compiler_runtime$3=require_compiler_runtime();const GitStats=()=>{let $$1=(0,import_compiler_runtime$3.c)(3),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(`div`,{className:`hidden h-full w-26 shrink-0 items-center justify-center rounded-lg sm:flex`,children:(0,import_jsx_runtime.jsx)(GitGraph,{className:`size-8`})}),$$1[0]=t0):t0=$$1[0];let t1;$$1[1]===Symbol.for(`react.memo_cache_sentinel`)?(t1=(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(GitRepositoriesMetricTile,{})}),$$1[1]=t1):t1=$$1[1];let t2;return $$1[2]===Symbol.for(`react.memo_cache_sentinel`)?(t2=(0,import_jsx_runtime.jsxs)(`div`,{className:`sm:bg-background flex h-20 items-center gap-1 rounded-xl sm:h-24 sm:p-1`,children:[t0,(0,import_jsx_runtime.jsx)(`div`,{className:`flex h-full w-full items-center gap-1`,children:(0,import_jsx_runtime.jsxs)(`div`,{className:`grid h-full w-full grid-cols-2 gap-1`,children:[t1,(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(GitContributionsMetricTile,{})})]})})]}),$$1[2]=t2):t2=$$1[2],t2};var import_compiler_runtime$2=require_compiler_runtime();const GitActivityCalendar=()=>{let $$1=(0,import_compiler_runtime$2.c)(19),t0;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=gitApi.query.contributions(),$$1[0]=t0):t0=$$1[0];let{data}=useSuspenseQuery(t0),{theme}=z(),[dates]=(0,import_react.useState)(_temp),t1;$$1[1]===dates.startDate?t1=$$1[2]:(t1=new TimestampToMonthYear(new Date(dates.startDate)).format(),$$1[1]=dates.startDate,$$1[2]=t1);let startDateFormatted=t1,t2;if($$1[3]!==data.contributions||$$1[4]!==dates.now||$$1[5]!==dates.startDate){let t3$1;$$1[7]!==dates.now||$$1[8]!==dates.startDate?(t3$1=c_0=>c_0.timestamp>=dates.startDate&&c_0.timestamp<=dates.now,$$1[7]=dates.now,$$1[8]=dates.startDate,$$1[9]=t3$1):t3$1=$$1[9],t2=data.contributions.map(_temp2).filter(t3$1).sort(_temp3),$$1[3]=data.contributions,$$1[4]=dates.now,$$1[5]=dates.startDate,$$1[6]=t2}else t2=$$1[6];let filteredContributions=t2,t3;$$1[10]===Symbol.for(`react.memo_cache_sentinel`)?(t3={light:[`hsl(0, 0%, 92%)`,`#12181c`],dark:[`hsl(0, 0%, 8%)`,`#0070f0`]},$$1[10]=t3):t3=$$1[10];let customTheme=t3,t4=theme,t5;$$1[11]!==filteredContributions||$$1[12]!==t4?(t5=(0,import_jsx_runtime.jsx)(ActivityCalendar,{data:filteredContributions,theme:customTheme,colorScheme:t4,fontSize:10,blockSize:10,showTotalCount:!1}),$$1[11]=filteredContributions,$$1[12]=t4,$$1[13]=t5):t5=$$1[13];let t6;$$1[14]===startDateFormatted?t6=$$1[15]:(t6=(0,import_jsx_runtime.jsxs)(`div`,{className:`text-2xs absolute bottom-0 block sm:bottom-4`,children:[`Git contributions from `,startDateFormatted,` - Present`]}),$$1[14]=startDateFormatted,$$1[15]=t6);let t7;return $$1[16]!==t5||$$1[17]!==t6?(t7=(0,import_jsx_runtime.jsx)(import_jsx_runtime.Fragment,{children:(0,import_jsx_runtime.jsxs)(`div`,{className:`relative flex h-full w-max items-center rounded-lg sm:p-3`,children:[t5,t6]})}),$$1[16]=t5,$$1[17]=t6,$$1[18]=t7):t7=$$1[18],t7};function _temp(){let now=Date.now(),oneYearAgo=new Date(now);return oneYearAgo.setFullYear(oneYearAgo.getFullYear()-2),{now,startDate:oneYearAgo.getTime()}}function _temp2(c$3){return{...c$3,timestamp:new Date(c$3.date).getTime()}}function _temp3(a$2,b$2){return a$2.timestamp-b$2.timestamp}var import_compiler_runtime$1=require_compiler_runtime();const GitActivity=()=>{let $$1=(0,import_compiler_runtime$1.c)(1),t0;return $$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(`div`,{className:`sm:bg-background flex items-center overflow-x-scroll overflow-y-hidden rounded-xl sm:h-46 sm:p-1`,children:(0,import_jsx_runtime.jsx)(ScrollShadow,{orientation:`horizontal`,className:`relative h-full w-full`,size:100,children:(0,import_jsx_runtime.jsx)(AsyncBoundary,{children:(0,import_jsx_runtime.jsx)(GitActivityCalendar,{})})})}),$$1[0]=t0):t0=$$1[0],t0};var import_compiler_runtime=require_compiler_runtime();function RouteComponent(){let $$1=(0,import_compiler_runtime.c)(11),t0,t1,t2,t3,t4;$$1[0]===Symbol.for(`react.memo_cache_sentinel`)?(t0=(0,import_jsx_runtime.jsx)(FloatingActionBar,{}),t1=(0,import_jsx_runtime.jsx)(Header,{}),t2=(0,import_jsx_runtime.jsx)(Profile,{}),t3=(0,import_jsx_runtime.jsx)(RecentExperience,{}),t4=(0,import_jsx_runtime.jsx)(Technologies,{}),$$1[0]=t0,$$1[1]=t1,$$1[2]=t2,$$1[3]=t3,$$1[4]=t4):(t0=$$1[0],t1=$$1[1],t2=$$1[2],t3=$$1[3],t4=$$1[4]);let t5,t6;$$1[5]===Symbol.for(`react.memo_cache_sentinel`)?(t5=(0,import_jsx_runtime.jsx)(`div`,{className:`hidden sm:block`,children:(0,import_jsx_runtime.jsx)(GitStats,{})}),t6=(0,import_jsx_runtime.jsx)(GitActivity,{}),$$1[5]=t5,$$1[6]=t6):(t5=$$1[5],t6=$$1[6]);let t7;$$1[7]===Symbol.for(`react.memo_cache_sentinel`)?(t7=(0,import_jsx_runtime.jsx)(`div`,{className:`hidden lg:block`,children:(0,import_jsx_runtime.jsx)(Filler,{className:`h-14`})}),$$1[7]=t7):t7=$$1[7];let t8,t9;$$1[8]===Symbol.for(`react.memo_cache_sentinel`)?(t8=(0,import_jsx_runtime.jsxs)(ScrollShadow,{hideScrollBar:!0,className:`relative w-full shrink-0 space-y-2.5 p-2 sm:p-0 lg:w-[40%]`,children:[t0,t1,t2,t3,t4,t5,t6,t7,(0,import_jsx_runtime.jsx)(`div`,{className:`hidden lg:block`,children:(0,import_jsx_runtime.jsx)(Footer,{})})]}),t9=(0,import_jsx_runtime.jsx)(TabbedPanel,{}),$$1[8]=t8,$$1[9]=t9):(t8=$$1[8],t9=$$1[9]);let t10;return $$1[10]===Symbol.for(`react.memo_cache_sentinel`)?(t10=(0,import_jsx_runtime.jsx)(`div`,{className:`pattern-dots absolute flex h-full w-full items-center justify-center`,children:(0,import_jsx_runtime.jsx)(`div`,{className:`lg:bg-custom-background mx-auto h-full max-h-[1080px] w-full max-w-[1920px] rounded-xl bg-transparent p-2 sm:p-4`,children:(0,import_jsx_runtime.jsxs)(`div`,{className:`flex h-full w-full flex-col gap-5 lg:flex-row`,children:[t8,t9,(0,import_jsx_runtime.jsx)(`div`,{className:`lg:hidden`,children:(0,import_jsx_runtime.jsx)(Filler,{className:`h-8 shrink-0`})})]})})}),$$1[10]=t10):t10=$$1[10],t10}export{RouteComponent as component};